å¿«æŠŠä»£ç è®°ä¸‹æ¥

# ä¸€ã€æ¨¡æ‹Ÿ

|      |      |      |
| ---- | ---- | ---- |
|      |      |      |
|      |      |      |
|      |      |      |

é¢˜ç›®é¢˜è§£éš¾åº¦æ¨èæŒ‡æ•°[1. ä¸¤æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/two-sum/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/two-sum/solution/po-su-jie-fa-ha-xi-biao-jie-fa-by-ac_oie-yf7o/)ç®€å•âœ”ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[2. ä¸¤æ•°ç›¸åŠ ](https://leetcode-cn.com/problems/add-two-numbers/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/add-two-numbers/solution/po-su-jie-fa-shao-bing-ji-qiao-by-ac_oie-etln/)ä¸­ç­‰âœ”ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[5. æœ€é•¿å›æ–‡å­ä¸²](https://leetcode-cn.com/problems/longest-palindromic-substring/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/longest-palindromic-substring/solution/shua-chuan-lc-po-su-jie-fa-manacher-suan-i2px/)ä¸­ç­‰â—ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[6. Z å­—å½¢å˜æ¢](https://leetcode-cn.com/problems/zigzag-conversion/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/zigzag-conversion/solution/shua-chuan-lc-zhi-guan-gui-lu-jie-fa-shu-8226/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©[7. æ•´æ•°åè½¬](https://leetcode-cn.com/problems/reverse-integer/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/reverse-integer/solution/shua-chuan-lc-bu-wan-mei-jie-fa-wan-mei-919rd/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[8. å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)](https://leetcode-cn.com/problems/string-to-integer-atoi/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/string-to-integer-atoi/solution/shua-chuan-lc-jian-ji-jie-fa-by-ac_oier-69tp/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©[12. æ•´æ•°è½¬ç½—é©¬æ•°å­—](https://leetcode-cn.com/problems/integer-to-roman/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/integer-to-roman/solution/shua-chuan-lc-tan-xin-jie-fa-by-ac_oier-5kbw/)ä¸­ç­‰ğŸ¤©ğŸ¤©[13. ç½—é©¬æ•°å­—è½¬æ•´æ•°](https://leetcode-cn.com/problems/roman-to-integer/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/roman-to-integer/solution/shua-chuan-lc-ha-xi-biao-by-ac_oier-mooy/)ç®€å•ğŸ¤©ğŸ¤©[14. æœ€é•¿å…¬å…±å‰ç¼€](https://leetcode-cn.com/problems/longest-common-prefix/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/longest-common-prefix/solution/shua-chuan-lc-die-dai-mo-ni-by-ac_oier-8t4q/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[31. ä¸‹ä¸€ä¸ªæ’åˆ—](https://leetcode-cn.com/problems/next-permutation/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/next-permutation/solution/miao-dong-xi-lie-100-cong-xia-yi-ge-pai-gog8j/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©[38. å¤–è§‚æ•°åˆ—](https://leetcode-cn.com/problems/count-and-say/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/count-and-say/solution/shua-chuan-lc-100-mo-ni-ti-shi-yong-shao-w8jl/)ç®€å•ğŸ¤©ğŸ¤©[43. å­—ç¬¦ä¸²ç›¸ä¹˜](https://leetcode-cn.com/problems/multiply-strings/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/multiply-strings/solution/zhi-yao-ni-hui-shou-suan-cheng-fa-zhe-ti-ainl/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[58. æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦](https://leetcode-cn.com/problems/length-of-last-word/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/length-of-last-word/solution/gong-shui-san-xie-jian-dan-zi-fu-chuan-m-tt6t/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[59. èºæ—‹çŸ©é˜µ II](https://leetcode-cn.com/problems/spiral-matrix-ii/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/spiral-matrix-ii/solution/yi-ti-shuang-jie-xiang-jie-xing-zhuang-j-24x8/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[65. æœ‰æ•ˆæ•°å­—](https://leetcode-cn.com/problems/valid-number/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/valid-number/solution/gong-shui-san-xie-zi-fu-chuan-mo-ni-by-a-7cgc/)å›°éš¾ğŸ¤©ğŸ¤©ğŸ¤©[66. åŠ ä¸€](https://leetcode-cn.com/problems/plus-one/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/plus-one/solution/gong-shui-san-xie-jian-dan-mo-ni-ti-by-a-5av1/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[68. æ–‡æœ¬å·¦å³å¯¹é½](https://leetcode-cn.com/problems/text-justification/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/text-justification/solution/gong-shui-san-xie-zi-fu-chuan-mo-ni-by-a-s3v7/)å›°éš¾ğŸ¤©ğŸ¤©ğŸ¤©[73. çŸ©é˜µç½®é›¶](https://leetcode-cn.com/problems/set-matrix-zeroes/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/set-matrix-zeroes/solution/xiang-jie-fen-san-bu-de-o1-kong-jian-jie-dbxd/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[165. æ¯”è¾ƒç‰ˆæœ¬å·](https://leetcode-cn.com/problems/compare-version-numbers/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/compare-version-numbers/solution/gong-shui-san-xie-jian-dan-zi-fu-chuan-m-xsod/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[166. åˆ†æ•°åˆ°å°æ•°](https://leetcode-cn.com/problems/fraction-to-recurring-decimal/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/fraction-to-recurring-decimal/solution/gong-shui-san-xie-mo-ni-shu-shi-ji-suan-kq8c4/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[168. Excelè¡¨åˆ—åç§°](https://leetcode-cn.com/problems/excel-sheet-column-title/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/excel-sheet-column-title/solution/gong-shui-san-xie-cong-1-kai-shi-de-26-j-g2ur/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[171. Excelè¡¨åˆ—åºå·](https://leetcode-cn.com/problems/excel-sheet-column-number/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/excel-sheet-column-number/solution/gong-shui-san-xie-tong-yong-jin-zhi-zhua-y5fm/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[190. é¢ å€’äºŒè¿›åˆ¶ä½](https://leetcode-cn.com/problems/reverse-bits/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/reverse-bits/solution/yi-ti-san-jie-dui-cheng-wei-zhu-wei-fen-ub1hi/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[233. æ•°å­— 1 çš„ä¸ªæ•°](https://leetcode-cn.com/problems/number-of-digit-one/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/number-of-digit-one/solution/gong-shui-san-xie-jiang-shu-wei-dp-wen-t-c9oi/)å›°éš¾ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[237. åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹](https://leetcode-cn.com/problems/delete-node-in-a-linked-list/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/delete-node-in-a-linked-list/solution/gong-shui-san-xie-jian-dan-lian-biao-mo-rovcb/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— III](https://leetcode-cn.com/problems/single-number-iii/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/single-number-iii/solution/gong-shui-san-xie-yi-ti-shuang-jie-ha-xi-zgi4/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[263. ä¸‘æ•°](https://leetcode-cn.com/problems/ugly-number/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/ugly-number/solution/gong-shui-san-xie-jian-dan-de-fen-qing-k-dlvg/)ç®€å•ğŸ¤©ğŸ¤©[268. ä¸¢å¤±çš„æ•°å­—](https://leetcode-cn.com/problems/missing-number/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/missing-number/solution/gong-shui-san-xie-yi-ti-wu-jie-pai-xu-ji-te3s/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[273. æ•´æ•°è½¬æ¢è‹±æ–‡è¡¨ç¤º](https://leetcode-cn.com/problems/integer-to-english-words/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/integer-to-english-words/solution/gong-shui-san-xie-zi-fu-chuan-da-mo-ni-b-0my6/)å›°éš¾ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[284. é¡¶ç«¯è¿­ä»£å™¨](https://leetcode-cn.com/problems/peeking-iterator/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/peeking-iterator/solution/gong-shui-san-xie-die-dai-qi-ji-ben-ren-b77lz/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[299. çŒœæ•°å­—æ¸¸æˆ](https://leetcode-cn.com/problems/bulls-and-cows/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/bulls-and-cows/solution/gong-shui-san-xie-jian-dan-mo-ni-ti-by-a-tdhs/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[335. è·¯å¾„äº¤å‰](https://leetcode-cn.com/problems/self-crossing/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/self-crossing/solution/gong-shui-san-xie-fen-qing-kuang-tao-lun-zdrb/)å›°éš¾ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[345. åè½¬å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯](https://leetcode-cn.com/problems/reverse-vowels-of-a-string/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/reverse-vowels-of-a-string/solution/gong-shui-san-xie-note-bie-pian-shuang-z-c8ii/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[405. æ•°å­—è½¬æ¢ä¸ºåå…­è¿›åˆ¶æ•°](https://leetcode-cn.com/problems/convert-a-number-to-hexadecimal/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/convert-a-number-to-hexadecimal/solution/gong-shui-san-xie-yi-ti-shuang-jie-jin-z-d93o/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[412. Fizz Buzz](https://leetcode-cn.com/problems/fizz-buzz/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/fizz-buzz/solution/gong-shui-san-xie-jian-dan-mo-ni-ti-by-a-jll0/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[413. ç­‰å·®æ•°åˆ—åˆ’åˆ†](https://leetcode-cn.com/problems/arithmetic-slices/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/arithmetic-slices/solution/gong-shui-san-xie-shuang-zhi-zhen-qiu-ji-ef1q/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[414. ç¬¬ä¸‰å¤§çš„æ•°](https://leetcode-cn.com/problems/third-maximum-number/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/third-maximum-number/solution/gong-shui-san-xie-yi-ti-shuang-jie-pai-x-pmln/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[434. å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°](https://leetcode-cn.com/problems/number-of-segments-in-a-string/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/number-of-segments-in-a-string/solution/gong-shui-san-xie-jian-dan-zi-fu-mo-ni-t-0gx6/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[443. å‹ç¼©å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/string-compression/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/string-compression/solution/gong-shui-san-xie-shuang-zhi-zhen-yuan-d-bppu/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[451. æ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åº](https://leetcode-cn.com/problems/sort-characters-by-frequency/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/sort-characters-by-frequency/solution/gong-shui-san-xie-shu-ju-jie-gou-yun-yon-gst9/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[457. ç¯å½¢æ•°ç»„æ˜¯å¦å­˜åœ¨å¾ªç¯](https://leetcode-cn.com/problems/circular-array-loop/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/circular-array-loop/solution/gong-shui-san-xie-yi-ti-shuang-jie-mo-ni-ag05/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[482. å¯†é’¥æ ¼å¼åŒ–](https://leetcode-cn.com/problems/license-key-formatting/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/license-key-formatting/solution/gong-shui-san-xie-jian-dan-zi-fu-chuan-m-piya/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[492. æ„é€ çŸ©å½¢](https://leetcode-cn.com/problems/construct-the-rectangle/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/construct-the-rectangle/solution/gong-shui-san-xie-jian-dan-mo-ni-ti-by-a-7ser/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[495. æè«æ”»å‡»](https://leetcode-cn.com/problems/teemo-attacking/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/teemo-attacking/solution/gong-shui-san-xie-jian-dan-mo-ni-ti-by-a-gteh/)ç®€å•âœ”ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[500. é”®ç›˜è¡Œ](https://leetcode-cn.com/problems/keyboard-row/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/keyboard-row/solution/gong-shui-san-xie-jian-dan-zi-fu-chuan-m-zx6b/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[520. æ£€æµ‹å¤§å†™å­—æ¯](https://leetcode-cn.com/problems/detect-capital/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/detect-capital/solution/gong-shui-san-xie-jian-dan-zi-fu-chuan-m-rpor/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[528. æŒ‰æƒé‡éšæœºé€‰æ‹©](https://leetcode-cn.com/problems/random-pick-with-weight/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/random-pick-with-weight/solution/gong-shui-san-xie-yi-ti-shuang-jie-qian-8bx50/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[541. åè½¬å­—ç¬¦ä¸² II](https://leetcode-cn.com/problems/reverse-string-ii/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/reverse-string-ii/solution/gong-shui-san-xie-jian-dan-zi-fu-chuan-m-p88f/)ç®€å•âœ”â—ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[551. å­¦ç”Ÿå‡ºå‹¤è®°å½• I](https://leetcode-cn.com/problems/student-attendance-record-i/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/student-attendance-record-i/solution/gong-shui-san-xie-jian-dan-mo-ni-ti-by-a-hui7/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[566. é‡å¡‘çŸ©é˜µ](https://leetcode-cn.com/problems/reshape-the-matrix/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/reshape-the-matrix/solution/jian-dan-ti-zhong-quan-chu-ji-ke-yi-kan-79gv5/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[598. èŒƒå›´æ±‚å’Œ II](https://leetcode-cn.com/problems/range-addition-ii/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/range-addition-ii/solution/gong-shui-san-xie-jian-dan-mo-ni-ti-by-a-006h/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[645. é”™è¯¯çš„é›†åˆ](https://leetcode-cn.com/problems/set-mismatch/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/set-mismatch/solution/gong-shui-san-xie-yi-ti-san-jie-ji-shu-s-vnr9/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[726. åŸå­çš„æ•°é‡](https://leetcode-cn.com/problems/number-of-atoms/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/number-of-atoms/solution/gong-shui-san-xie-shi-yong-xiao-ji-qiao-l5ak4/)å›°éš¾ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[766. æ‰˜æ™®åˆ©èŒ¨çŸ©é˜µ](https://leetcode-cn.com/problems/toeplitz-matrix/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/toeplitz-matrix/solution/cong-ci-pan-du-qu-cheng-ben-fen-xi-liang-f20w/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[867. è½¬ç½®çŸ©é˜µ](https://leetcode-cn.com/problems/transpose-matrix/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/transpose-matrix/solution/yi-you-wei-jin-huo-xu-ni-neng-kan-kan-zh-m53m/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[896. å•è°ƒæ•°åˆ—](https://leetcode-cn.com/problems/monotonic-array/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/monotonic-array/solution/wei-shi-yao-yi-ci-bian-li-yao-bi-liang-c-uglp/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[1047. åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹](https://leetcode-cn.com/problems/remove-all-adjacent-duplicates-in-string/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/remove-all-adjacent-duplicates-in-string/solution/cong-30-dao-100wu-chong-shi-xian-jie-jue-vkah/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[1104. äºŒå‰æ ‘å¯»è·¯](https://leetcode-cn.com/problems/path-in-zigzag-labelled-binary-tree/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/path-in-zigzag-labelled-binary-tree/solution/gong-shui-san-xie-yi-ti-shuang-jie-mo-ni-rw2d/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©[1436. æ—…è¡Œç»ˆç‚¹ç«™](https://leetcode-cn.com/problems/destination-city/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/destination-city/solution/gong-shui-san-xie-jian-dan-fang-jia-mo-n-y47c/)ç®€å•âœ”â—ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[1480. ä¸€ç»´æ•°ç»„çš„åŠ¨æ€å’Œ](https://leetcode-cn.com/problems/running-sum-of-1d-array/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/running-sum-of-1d-array/solution/gong-shui-san-xie-yi-wei-qian-zhui-he-mo-g8hn/)ç®€å•âœ”ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[1486. æ•°ç»„å¼‚æˆ–æ“ä½œ](https://leetcode-cn.com/problems/xor-operation-in-an-array/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/xor-operation-in-an-array/solution/gong-shui-san-xie-yi-ti-shuang-jie-mo-ni-dggg/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[1583. ç»Ÿè®¡ä¸å¼€å¿ƒçš„æœ‹å‹](https://leetcode-cn.com/problems/count-unhappy-friends/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/count-unhappy-friends/solution/gong-shui-san-xie-ha-xi-biao-mo-ni-ti-by-2qy0/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[1646. è·å–ç”Ÿæˆæ•°ç»„ä¸­çš„æœ€å¤§å€¼](https://leetcode-cn.com/problems/get-maximum-in-generated-array/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/get-maximum-in-generated-array/solution/gong-shui-san-xie-jian-dan-mo-ni-ti-by-a-sj53/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[1720. è§£ç å¼‚æˆ–åçš„æ•°ç»„](https://leetcode-cn.com/problems/decode-xored-array/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/decode-xored-array/solution/gong-shui-san-xie-li-yong-yi-huo-xing-zh-p1bi/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[1736. æ›¿æ¢éšè—æ•°å­—å¾—åˆ°çš„æœ€æ™šæ—¶é—´](https://leetcode-cn.com/problems/latest-time-by-replacing-hidden-digits/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/latest-time-by-replacing-hidden-digits/solution/gong-shui-san-xie-ti-huan-yin-cang-shu-z-2l1h/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[1743. ä»ç›¸é‚»å…ƒç´ å¯¹è¿˜åŸæ•°ç»„](https://leetcode-cn.com/problems/restore-the-array-from-adjacent-pairs/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/restore-the-array-from-adjacent-pairs/solution/gong-shui-san-xie-yi-ti-shuang-jie-dan-x-elpx/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[1748. å”¯ä¸€å…ƒç´ çš„å’Œ](https://leetcode-cn.com/problems/sum-of-unique-elements/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/sum-of-unique-elements/solution/mo-ni-ti-po-su-jie-fa-by-ac_oier-ff69/)ç®€å•ğŸ¤©ğŸ¤©[1763. æœ€é•¿çš„ç¾å¥½å­å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/longest-nice-substring/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/longest-nice-substring/solution/cong-shu-ju-fan-wei-xuan-ze-he-gua-suan-n3y2a/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©[1834. å•çº¿ç¨‹ CPU](https://leetcode-cn.com/problems/single-threaded-cpu/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/single-threaded-cpu/solution/gong-shui-san-xie-shu-ju-jie-gou-yun-yon-1qk0/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[1893. æ£€æŸ¥æ˜¯å¦åŒºåŸŸå†…æ‰€æœ‰æ•´æ•°éƒ½è¢«è¦†ç›–](https://leetcode-cn.com/problems/check-if-all-the-integers-in-a-range-are-covered/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/check-if-all-the-integers-in-a-range-are-covered/solution/gong-shui-san-xie-yi-ti-shuang-jie-mo-ni-j83x/)ç®€å•ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[1894. æ‰¾åˆ°éœ€è¦è¡¥å……ç²‰ç¬”çš„å­¦ç”Ÿç¼–å·](https://leetcode-cn.com/problems/find-the-student-that-will-replace-the-chalk/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/find-the-student-that-will-replace-the-chalk/solution/gong-shui-san-xie-yi-ti-shuang-jie-qian-kpqsk/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©[é¢è¯•é¢˜ 10.02. å˜ä½è¯ç»„](https://leetcode-cn.com/problems/group-anagrams-lcci/)[LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/group-anagrams-lcci/solution/gong-shui-san-xie-tong-ji-bian-wei-ci-de-0iqe/)ä¸­ç­‰ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©

#### 1.ä¸¤æ•°ä¹‹å’Œï¼ši+j=targetï¼Œå“ˆå¸Œ

> **éå†**iï¼Œçœ‹æ‰€è¿‡ä¹‹å¤„ï¼Œæœ‰æ²¡æœ‰äº’è¡¥çš„

```C++
class Solution {
public:
    vector<int> twoSum(vector<int>& nums, int target) {
        unordered_map<int, int> heap;
        for (int i = 0; i < nums.size(); i ++ ) {
            int r = target - nums[i];
            if (heap.count(r)) return {heap[r], i};
            heap[nums[i]] = i;
        }

        return {};
    }
};
class Solution:
    def twoSum(self, nums: List[int], target: int) -> List[int]:
    
        # è§£æ³•ä¸€ï¼Œå¸¸è§„åŒå¾ªç¯
        lenNums = len(nums)
        for i in range(lenNums):
            for j in range(i+1, lenNums):
                if nums[i] + nums[j] == target:
                    return i,j  # return [i,j] è¿™ä¸¤ä¸ªreturnæ•ˆæœæ˜¯ä¸€æ ·çš„?
        # å¹¶ä¸æ˜¯ï¼Œè¿™é‡Œåªæ˜¯å†™äº†ä¸ªå‡½æ•°ï¼Œå¹¶ä¸æ¶‰åŠè¾“å…¥è¾“å‡ºä¹‹ç±»

        # è§£æ³•äºŒï¼Œç”¨setç±»å‹
        setNums = set(nums)
        for i in range(len(nums)):
            if target - nums[i] in setNums:
                index = nums.index(target - nums[i])
                if index == i:
                    continue
                return i, index

        # è§£æ³•ä¸‰ï¼Œç”¨hashè¡¨ï¼Œä½†æ ¸å¿ƒæ˜¯ä¸è¦é¢„å…ˆæ„å»ºhashè¡¨
        dicNums = {}
        for i in range(len(nums)):
            if nums[i] in dicNums:
                return dicNums[nums[i]], i
            dicNums[target - nums[i]] = i   # æ ¸å¿ƒæ˜¯è¿™å¥ï¼Œä¸€è¾¹æŸ¥è¡¨ï¼Œä¸€è¾¹å»ºè¡¨
```

#### 2.ä¸¤æ•°ç›¸åŠ ï¼šåŸºäºé“¾è¡¨ ç«–å¼ç›¸åŠ 

```C++
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode() : val(0), next(nullptr) {}
 *     ListNode(int x) : val(x), next(nullptr) {}
 *     ListNode(int x, ListNode *next) : val(x), next(next) {}
 * };
 */
class Solution {
public:
    ListNode* addTwoNumbers(ListNode* l1, ListNode* l2) {
        ListNode* head = new ListNode(-1);
        ListNode* p = head;
        bool carry = false; //è¿›ä½
        int sum = 0;
        while(l1 || l2){
            sum = 0; //â­ä¸è¦å¿˜è®°å†™ï¼Œæ¯æ¬¡sumè¦æ¸…ç©ºç»™ä¸‹ä¸€æ¬¡ç”¨
            if(l1){
                sum += l1->val;
                l1 = l1->next;
            }
            if(l2){
                sum += l2->val;
                l2 = l2->next;
            }
            if(carry)
                sum++;
            p->next = new ListNode(sum % 10);
            carry = sum >= 10 ? true : false; //â­>=ï¼Œä¸æ˜¯å¤§äº
            p = p->next;
        }
        //å½“l1,l2éƒ½åˆ°æœ€åä¸ºç©ºï¼Œä¸”æœ‰è¿›ä½æ—¶
        if(carry)
            p->next = new ListNode(1); //p->nextâ­
        
        return head->next;
    }
};
//ä¸èƒ½ç”¨l1.next
//error: member reference type 'ListNode *' is a pointer; did you mean to use '->'?
//ä¸€ä¸ªæACMçš„äººå†™çš„ä»£ç ï¼Œå¾ˆå¹²å‡€ç®€æ´
    ListNode *addTwoNumbers(ListNode *l1, ListNode *l2) {
        ListNode* head = new ListNode();
        ListNode* currentPos = head;
        int v = 0;
        while(l1 || l2 || v) {
            int v1 = l1 ? l1->val : 0, v2 = l2 ? l2->val : 0; //ä¸ç©ºä¸ºvalï¼Œç©ºä½0
            int res = (v + v1 + v2) / 10;
            v = (v1 + v2 + v) % 10;
            currentPos->val = v;
            v = res;
            if (l1) l1 = l1->next;
            if (l2) l2 = l2->next;
            if (l1 || l2 || v) {
                currentPos->next = new ListNode();
                currentPos = currentPos->next;
            }
        }
        return head;
    }
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def addTwoNumbers(self, l1: ListNode, l2: ListNode) -> ListNode:
        result = ListNode(0)
        r=result
        carry=0
        while(l1 or l2):
            x= l1.val if l1 else 0
            y= l2.val if l2 else 0
            s = carry + x + y
            carry = s//10  # è¿”å›å•†çš„æ•´æ•°éƒ¨åˆ†
            r.next = ListNode( s % 10)
            r = r.next
            if(l1!=None):
                l1=l1.next
            if(l2!=None):
                l2=l2.next
        if(carry>0):
            r.next=ListNode(1)
        
        return result.next
```

#### 5.æœ€é•¿å›æ–‡å­ä¸²ï¼šä¸­å¿ƒæ‰©å±•

å®˜æ–¹é¢˜è§£ï¼šåŠ¨æ€è§„åˆ’ã€ä¸­å¿ƒæ‰©å±•ã€manacheré©¬æ‹‰è½¦ï¼Ÿ

**ä¸­å¿ƒæ‰©å±•**

> è¿˜æ˜¯ç”¨ä¸­å¿ƒæ‰©å±•å§

```C++
//è‡ªå·±çš„
class Solution {
public:
    string longestPalindrome(string s) {
        string ans = "";
        for (int i = 0; i < s.length(); i++) {
            // å…ˆçœ‹å›æ–‡ä¸²ä¸ºå¥‡æ•°ä¸ªæ—¶ï¼Œå·¦ä¸€ä¸ªå³ä¸€ä¸ª
            int l = i - 1, r = i + 1;
            string sub = getString(s, l, r);
            if (sub.length() > ans.length()) ans = sub;
            // å†çœ‹å›æ–‡ä¸²ä¸ºå¶æ•°ä¸ªæ—¶ï¼Œå³ä¸€ä¸ª
            //i=0æ—¶ç›´æ¥çœ‹å³è¾¹çš„
            l = i, r = i + 1;
            sub = getString(s, l, r);
            if (sub.length() > ans.length()) ans = sub;
        }
        return ans;
    }
    string getString(string s, int l, int r) {
        //è®¡ç®—ä»¥leftå’Œrightä¸ºä¸­å¿ƒçš„å›æ–‡ä¸²
        int left = l, right = r;
        while (left >= 0 && right < s.length() && s[left] == s[right]) {
            left--;
            right++;
        } 
        //å‘å·¦å³æ‰©ï¼Œreturn right-left-1
        //è®¡ç®—çœŸå®å€¼è¦å…ˆæŠŠrå’Œlæ¢å¤ï¼Œ(right-1)-(left+1)+1=r-l-1
        return s.substr(left + 1, right-left-1); //æ³¨æ„ï¼Œè¿™ä¸ªå­ä¸²çš„æ–¹æ³•ä¸åŒäºJavaï¼â­
    }
};
//Javaä¸­ï¼šs.charAt(i) æŒ‡çš„æ˜¯å–å­—ç¬¦ä¸²ä¸­ä¸‹æ ‡içš„
//C++ä¸­ï¼Œæ±‚å­ä¸²s.substr(a,b) ä»aå¼€å§‹çš„bä¸ª
# ä¸€ä¸ªæŠ„æ¥çš„
class Solution:
    def longestPalindrome(self, s: str) -> str:
        maxl, max_len = 0, 0
        n = len(s)
        for i in range(2*n-1):
            l = i//2
            r = i//2 + i%2
            while l >= 0 and r < n and s[l] == s[r]:
                if r-l+1 > max_len: 
                    maxl = l
                    max_len = r-l+1
                l-=1
                r+=1
        return s[maxl : maxl+max_len]
# ç»ˆäºï¼ŒæŠŠè‡ªå·±çš„ä»£ç å†™å‡ºæ¥äº†
class Solution:
    def longestPalindrome(self, s: str) -> str:
        ans=""
        for i in range(len(s)):
            l = i - 1
            r = i + 1
            sub = self.getString(s, l, r)
            if len(sub) > len(ans):
                ans = sub
            
            l = i
            r = i + 1
            sub = self.getString(s, l, r)
            if len(sub) > len(ans):
                ans = sub
        return ans


    def getString(self, s, l, r):
        left = l
        right = r
        while left >= 0 and right <len(s) and s[left] == s[right]:
            left-=1
            right+=1
        return s[left + 1:right]
# å¯¹å¹¶å¦ä¸€ä¸ªç®€æ´å¥½çœ‹çš„
   def longestPalindrome(self, s: str) -> str:
        res = ''
        for i in range(len(s)):
            s1 = self.find(s, i, i)       # ä»¥å½“å‰å­—ç¬¦ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡å­ä¸²ï¼Œï¼ˆå¥‡æ•°ä¸ªï¼‰
            s2 = self.find(s, i, i+1)     # ä»¥å½“å‰å­—ç¬¦å’Œä¸‹ä¸€å­—ç¬¦ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡å­ä¸²
            #å¦‚æœæœ€å¤§é•¿åº¦æœ‰å˜åŒ–åˆ™æ›´æ–°res
            if max(len(s1), len(s2)) > len(res):
                res = s2 if len(s1) < len(s2) else s1
        return res

    def find(self, s, left, right):
        #æ‰¾åˆ°å½“å‰ä¸­å¿ƒçš„æœ€å¤§é•¿åº¦å­ä¸²
        while left >= 0 and right < len(s) and s[left] == s[right]:
            left -= 1
            right += 1
        return s[left+1:right]
```

**åŠ¨æ€è§„åˆ’**

```C++
//è‡ªå·±çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¾ˆå°´å°¬ï¼Œé”™äº†

//è¾“å…¥ï¼š"cbbd"
//è¾“å‡ºï¼š"c"
//é¢„æœŸç»“æœï¼š"bb"
class Solution {
public:
    string longestPalindrome(string s){
        int n = s.size();
        int max = 1, begin = 0; //å¾—åœ¨å¤–é¢å®šä¹‰â­
        if(n <= 2) return s;
        vector<vector<int>> dp(n,vector<int>(n));
        //æ ¹æ®è¾¹ç•Œæ¡ä»¶ï¼Œåˆå§‹åŒ–ï¼
        for(int i = 0; i < n; i++){
            dp[i][i] = true;
            if(s[i]==s[i+1] && i<n-1) dp[i][i+1] = true; 
        }

        for(int l = 3; l < n; l++){
            for(int i=0; i < n; i++){
                int j = l - i + 1;
                if(j >= n) break;
                if(s[i] != s[j]) dp[i][j] = false;
                //really??
                else{
                    dp[i][j] = true;
                    dp[i][j] = dp[i+1][j-1];
                }

                //output
                if(dp[i][j] && j-i+1 > max){
                    max = j-i+1;
                    begin = i;
                }
            }
        }
        return s.substr(begin, max);
    }
};
//å®˜æ–¹é¢˜è§£
class Solution {
public:
    string longestPalindrome(string s) {
        int n = s.size();
        if (n < 2) {
            return s;
        }

        int maxLen = 1;
        int begin = 0;
        // dp[i][j] è¡¨ç¤º s[i..j] æ˜¯å¦æ˜¯å›æ–‡ä¸²
        vector<vector<int>> dp(n, vector<int>(n));
        // åˆå§‹åŒ–ï¼šæ‰€æœ‰é•¿åº¦ä¸º 1 çš„å­ä¸²éƒ½æ˜¯å›æ–‡ä¸²
        for (int i = 0; i < n; i++) {
            dp[i][i] = true;
        }
        // é€’æ¨å¼€å§‹
        // å…ˆæšä¸¾å­ä¸²é•¿åº¦
        for (int L = 2; L <= n; L++) {
            // æšä¸¾å·¦è¾¹ç•Œï¼Œå·¦è¾¹ç•Œçš„ä¸Šé™è®¾ç½®å¯ä»¥å®½æ¾ä¸€äº›
            for (int i = 0; i < n; i++) {
                // ç”± L å’Œ i å¯ä»¥ç¡®å®šå³è¾¹ç•Œï¼Œå³ j - i + 1 = L å¾—
                int j = L + i - 1;
                // å¦‚æœå³è¾¹ç•Œè¶Šç•Œï¼Œå°±å¯ä»¥é€€å‡ºå½“å‰å¾ªç¯
                if (j >= n) {
                    break;
                }

                if (s[i] != s[j]) {
                    dp[i][j] = false;
                } else {
                    if (j - i < 3) {
                        dp[i][j] = true;
                    } else {
                        dp[i][j] = dp[i + 1][j - 1];
                    }
                }

                // åªè¦ dp[i][L] == true æˆç«‹ï¼Œå°±è¡¨ç¤ºå­ä¸² s[i..L] æ˜¯å›æ–‡ï¼Œæ­¤æ—¶è®°å½•å›æ–‡é•¿åº¦å’Œèµ·å§‹ä½ç½®
                if (dp[i][j] && j - i + 1 > maxLen) {
                    maxLen = j - i + 1;
                    begin = i;
                }
            }
        }
        return s.substr(begin, maxLen);
    }
};
```

**Manacher ç®—æ³•**



#### [89. æ ¼é›·ç¼–ç ](https://leetcode-cn.com/problems/gray-code/)ï¼šå¯¹ç§°ç”Ÿæˆçš„æ–¹æ³•

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTAyZWEzNDhlNWMxNjcwNDBiMDkwMTIzZDA5MjgzZGRfZm9LNDNNUHF2b1NrS3dEMEZlN1BrbE5Gc3JNSlVwMzdfVG9rZW46Ym94Y250cjZEeko5elg4cmc4TmRSendxem9jXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**æ³•1ï¼šå¯¹ç§°ç”Ÿæˆï¼Ÿå€’åºæ‹¼æ¥**

```C++
class Solution {
public:
    vector<int> grayCode(int n) {
        vector<int> ans;  // n>=1
        ans.push_back(0);
        ans.push_back(1);
        int add = 2;
        for(int i = 2; i <= n; i++){
            for(int j = add - 1; j >= 0; --j)
                ans.push_back(ans[j] + add);  // å€’ç€å¢åŠ å¦‚anså‘é‡
            add *= 2;
        }
        return ans;
    }
};
```





**æ³•2ï¼šç›´æ¥åˆ©ç”¨å®šä¹‰æ„é€ æ ¼é›·ç¼–ç **









#### [112. è·¯å¾„æ€»å’Œ](https://leetcode-cn.com/problems/path-sum/)ï¼šç›´æ¥é€’å½’ / DFS / BFS â­é¢è¯•é¢˜

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NDI3Yjk2MDFlMzhiZTE1ZWNhYTJkNGMxMGJjMThlNDhfeEpQekQzNzRRaU9IcmEzRlpqN1FkczFVQWVFUTRjU05fVG9rZW46Ym94Y25CVU5sOW10YzhEZDZqMkJnVmZGMlVVXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

è¿™é“é¢˜é¢è¯•çš„æ—¶å€™é‡åˆ°äº†â­

æ¨èé¢˜è§£ï¼š

- [C++DFS/BFS - è·¯å¾„æ€»å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/path-sum/solution/cdfsbfs-by-sscicada-vhh5/)
- [è·¯å¾„æ€»å’Œçš„å››ç§è§£æ³•ï¼šDFSã€å›æº¯ã€BFSã€æ ˆ - è·¯å¾„æ€»å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/path-sum/solution/lu-jing-zong-he-de-si-chong-jie-fa-dfs-hui-su-bfs-/)

**æ³•1ï¼šé€’å½’ï¼ˆç»“åˆç€DFSçš„æ€æƒ³ï¼‰**

```Python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right

class Solution:
    def hasPathSum(self, root:TreeNode, sum: int) -> bool:
        if not root:
            return False
        if not root.left and not root.right:
            return sum == root.val
        return self.hasPathSum(root.left, sum-root.val) or self.hasPathSum(root.right, sum-root.val)
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */

class Solution {
public:
    bool hasPathSum(TreeNode* root, int sum) {
        if(root == nullptr) 
            return false;
        if(root->left == nullptr && root->right == nullptr)
            return sum == root->val;
        return hasPathSum(root->left, sum-root->val) || hasPathSum(root->right, sum-root->val);
    }
};
```

**æ³•2ï¼šDFSç”¨æ ˆ**

```Python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    def hasPathSum(self, root: TreeNode, target: int) -> bool:
        if not root: 
            return False
        return self.dfs(root, target, [root.val])
    
    def dfs(self, root, target, path):
        if not root: 
            return False
        if sum(path) == target and not root.left and not root.right:
            return True
        lflag, rflag = False, False
        if root.left:
            lflag = self.dfs(root.left, target, path+[root.left.val])
        if root.right:
            rflag = self.dfs(root.right, target, path+[root.right.val])
        return lflag or rflag
```

å…¶ä¸­ï¼Œæ³¨æ„åˆ—è¡¨çš„æ‹¼æ¥

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NGQyMThlZTQwMzU0ZDc1YjRmODc5M2ZiMzk3NDk5ZGNfeU45bGdqbkpQYlJ1VTlCQnVxa05RQTcxeTVveFlWekxfVG9rZW46Ym94Y25tM3lmS3lVMjhUNldPUWR4c1FVbUszXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

å¦‚æœä½¿ç”¨C++ï¼Œéœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼š

åŠ ä¸Šcurå€¼åè¿˜éœ€è¦å‡å»å®ƒï¼ï¼

ä»¥ä¸‹çš„æ–¹æ³•æ˜¯æœ‰é—®é¢˜çš„

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YjAyY2I1M2YwNTg1MjA2MWZiYjM1NmFjZjM2MGUwMWFfeEhuaWFiMEJiQkVxYXB3RWo1QVAxYWV5b0x3TEt5QnNfVG9rZW46Ym94Y25TREFPTVo4NXRvM3k2Sm9uYUoxUWRoXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

æ­£è§£ï¼š

```C++
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */

class Solution {
public:
    // vector<int> path;
    int cur = 0;
    bool hasPathSum(TreeNode* root, int sum) {
        if(root == nullptr) 
            return false;
        // path.push_back(root->val);
        return dfs(root, sum);
    }
    bool dfs(TreeNode* root, int sum){
        if(root == nullptr)
            return false;
        cur += root->val;
        if(cur == sum && root->left == nullptr && root->right == nullptr)
            return true;
        if(root->left){
            if(dfs(root->left, sum)) return true;
            cur -= root->left->val;
        }
        if(root->right){
            if(dfs(root->right, sum)) return true;
            cur -= root->right->val;
        }
        return false;
    }
};
```

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MGRjMTFiMWJiYWZhZWM1MGI5NDkyMDRlMjhmMTVhNjZfRnhEaWkxZEIwZjljNGtyVFdHYXplaWFhU2NKaGdtaXhfVG9rZW46Ym94Y25aZzBZVTJYVXZZbEs1RnhKNzFmNHhoXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)



**æ³•3ï¼šBFSç”¨é˜Ÿåˆ—**

```c++
class Solution:
    def hasPathSum(self, root: TreeNode, sum: int) -> bool:
        if not root:
            return False
        que = collections.deque()
        que.append((root, root.val))
        while que:
            node, cur = que.popleft()
            if not node.left and not node.right and cur == sum:
                return True
            if node.left:
                que.append((node.left, cur + node.left.val))
            if node.right:
                que.append((node.right, cur + node.right.val))
        return False
class Solution {
public:
// ç»´æŠ¤ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä¸€ä¸ªå­˜æ”¾èŠ‚ç‚¹ï¼Œä¸€ä¸ªå­˜æ”¾æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹è·¯å¾„çš„å’Œ
// ä¸€å±‚ä¸€å±‚éå†ï¼Œéå†æ‰¾åˆ°äº†æ²¡æœ‰å·¦å³å­©å­å¹¶ä¸”å’Œç­‰äº targetSum çš„èŠ‚ç‚¹ï¼Œå°± return true
// æ²¡æœ‰æ‰¾åˆ°å°± return false
    bool hasPathSum(TreeNode* root, int targetSum) {
        if (root == nullptr) return false;
        queue<TreeNode*> node_que;
        queue<int> cur;
        node_que.push(root);
        cur.push(root->val);
        while (!node_que.empty()) {
            int size = node_que.size();
            for (int i = 0; i < size; ++i) {
                TreeNode *t = node_que.front();
                node_que.pop();
                int temp = cur.front();
                cur.pop();
                if (!t->left && !t->right && temp == targetSum) {
                    return true;
                }
                if (t->left) {
                    node_que.push(t->left);
                    int m = temp + t->left->val;
                    cur.push(m);
                }
                if (t->right) {
                    node_que.push(t->right);
                    int m = temp + t->right->val;
                    cur.push(m);
                }
            }
        }
        return false;
    }
}; 
```

**æ³•4ï¼šç›´æ¥ç”¨æ ˆ**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZWMyZjc1OTQwNDJkYmNmYTE4YWIyZjZhYTUzYzM2MWJfdWhFZXZKT3oxSU1YZHZJeGl1TnhzTHZUSzFrU29rYTdfVG9rZW46Ym94Y243VUJzRnU4M1RpdWI2bXdwRWZoenNjXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)



#### [324. æ‘†åŠ¨æ’åº II](https://leetcode.cn/problems/wiggle-sort-ii/)ï¼šä¸èƒ½æƒ³å¾—å¤ªç®€å•

```C++
è¿™ä¸ªå°±æ˜¯æƒ³çš„å¤ªç®€å•äº†ï¼š
    å¦‚æœ[1,5,1,1,6,4]ï¼Œå°±ä¼šè¾“å‡º[1,1,1,5,4,6]ï¼Œæ˜¾ç„¶æ˜¯é”™çš„
    void wiggleSort(vector<int>& nums) {
        int n = nums.size();
        if (n == 1) return;
        sort(nums.begin(), nums.end());
        for (int i = 1; i < n - 1; i += 2) {
            swap(nums[i], nums[i + 1]);
        }
```

å¯ä»¥çœ‹ä¸€ä¸‹å®˜æ–¹é¢˜è§£

```C++
class Solution {
public:
    void wiggleSort(vector<int>& nums) {
        int n = nums.size();
        vector<int> tmp = nums;
        sort(tmp.begin(), tmp.end());
        int mid = (n + 1) / 2;
        for (int i = 0, j = mid - 1, k = n - 1; i < n; i += 2, j--, k--) {
            nums[i] = tmp[j];
            if (i + 1 < n) nums[i + 1] = tmp[k];
        }
    }
};
```



#### [383. èµé‡‘ä¿¡](https://leetcode-cn.com/problems/ransom-note/)ï¼šç»Ÿè®¡è¯é¢‘ï¼Œcounter()å‡½æ•° ç›¸å‡

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MDg3MmU3NzBiMmU3MTk0ZGQyNzJjMWJmYmRkNDE5ODBfNDJ6UERxS1VmVjE5QllZY1JrQUx6VzNxVFowbWZucUVfVG9rZW46Ym94Y25zc3dYdm1pd1lZclFWSXZyUWp1YWxnXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NjAyYzUyODJkMWFmNmJhNTQ4YjNmODk3NzgzMDU5M2JfUjJXWVFEWmt5QWs2a2hPZkVrRDhwdUNFTUJnYTN2aGpfVG9rZW46Ym94Y25vNnhtaDBLbzdWU1VYaDdzSFkzc01lXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

æ€è·¯å°±æ˜¯ç›´æ¥ç»Ÿè®¡è¯é¢‘ï¼Œ

```C++
class Solution {
public:
    // ç»Ÿè®¡è¯é¢‘
    bool canConstruct(string ransomNote, string magazine) {
        vector<int> cnt(26);
        for(char c: magazine) 
            cnt[c-'a']++;
        for(char c: ransomNote) 
            if(--cnt[c-'a'] < 0)
                return false;
        return true;
    }
};
```

pythonä¸€è¡Œä»£ç è§£å†³é—®é¢˜ï¼š

```Python
class Solution:
    def canConstruct(self, ransomNote: str, magazine: str) -> bool:
        return not collections.Counter(ransomNote)-collections.Counter(magazine)
```

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MjNlMTJmNDc0YmNlNDRlMmEzYWEyZjEyMjBlOWM2N2FfVDh3djZmM2xiYk92V1M4MmFxSzVCRlMxeWtiSlhPTVZfVG9rZW46Ym94Y242U0ZKanJmNnJpYU50aVlEQWd0WG9jXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)



#### [468. éªŒè¯IPåœ°å€](https://leetcode.cn/problems/validate-ip-address/)ï¼šå­—ç¬¦ä¸²æ¨¡æ‹Ÿ











#### 495.æè«æ”»å‡»ï¼šç®€å•çš„æ¨¡æ‹Ÿ

#### 506.ç›¸å¯¹åæ¬¡ï¼špair å“ˆå¸Œ pythonå†™æ³•ï¼Ÿ

```C++
// æ˜“æ‡‚çš„ç‰ˆæœ¬
class Solution {
public:
    vector<string> findRelativeRanks(vector<int>& nums) {
        vector<int> org = nums;
        sort(nums.rbegin(), nums.rend());
        unordered_map<int, string> order;
        for (int i = 0; i < nums.size(); i++) {
            if (i >= 3) order[nums[i]] = to_string(i+1);
            if (i == 0) order[nums[i]] = "Gold Medal";
            if (i == 1) order[nums[i]] = "Silver Medal";
            if (i == 2) order[nums[i]] = "Bronze Medal";
        }

        vector<string> res(nums.size());
        for (int i = 0; i < res.size(); i++) {
            res[i] = order[org[i]];
        }

        return res;
    }
};
// å®˜æ–¹é¢˜è§£
class Solution {
public:
    vector<string> findRelativeRanks(vector<int>& score) {
        int n = score.size();
        string str_ans[3] = {"Gold Medal", "Silver Medal", "Bronze Medal"};
        vector<pair<int, int>> mypair;

        //å­˜å…¥å“ˆå¸Œè¡¨(è¿™é‡Œvector)
        for (int i = 0; i < n; ++i) {
            mypair.emplace_back(make_pair(-score[i], i));
            // emplace_backä¼šåœ¨æ’å…¥æ•°æ®åç›´æ¥æ„é€ æ•°æ®ã€‚ç›¸æ¯”push,emplaceåº•å±‚å®ç°æ›´ç®€æ´ï¼Œæ•ˆç‡é«˜ï¼Œå½“ç„¶å¯ä»¥push_back()
        }
        sort(mypair.begin(), mypair.end());
        
        //è¾“å‡ºç»“æœ
        vector<string> ans(n);
        for (int i = 0; i < n; ++i) {
            if (i >= 3) {
                ans[mypair[i].second] = to_string(i + 1);
            } else {
                ans[mypair[i].second] = str_ans[i];
            }
        }
        return ans;

    }
};
// è‡ªå·±å†™çš„
class Solution {
public:
    vector<string> findRelativeRanks(vector<int>& score) {
        int n = score.size();
        string str_ans[3] = {"Gold Medal", "Silver Medal", "Bronze Medal"};
        unordered_map<int, int> mypair;  //sortedåˆ†æ•°->æ’å
        vector<int> sorted = score;
        sort(sorted.begin(), sorted.end());
        //å­˜å…¥å“ˆå¸Œè¡¨
        for (int i = n-1; i >= 0; --i) {
            mypair.insert(pair(sorted[i], n-1-i));
        }       
        //è¾“å‡ºç»“æœ
        vector<string> ans(n);
        for (int i = 0; i < n; ++i) {
            int rank = mypair[score[i]];
            ans[i] = rank < 3 ? str_ans[rank] : to_string(rank + 1);
        }
        return ans;
    }
};
class Solution:
    desc = ("Gold Medal", "Silver Medal", "Bronze Medal")

    def findRelativeRanks(self, score: List[int]) -> List[str]:
        ans = [""] * len(score)   #ä¸èƒ½å†™æˆ[]*len()
        arr = sorted(enumerate(score), key=lambda x: -x[1])
        for i, (idx, _) in enumerate(arr):
            ans[idx] = self.desc[i] if i < 3 else str(i + 1)
        return ans
```



#### [532. æ•°ç»„ä¸­çš„ k-diff æ•°å¯¹](https://leetcode.cn/problems/k-diff-pairs-in-an-array/)ï¼šå“ˆå¸Œ+set

æ€è·¯æ¯”è¾ƒå¥½æƒ³åˆ°ï¼š

**æ³•1ï¼šå“ˆå¸Œè¡¨ or set**

> unordered_setä¼šæ¯”setå¿«ä¸Šä¸å°‘ï¼

```C++
class Solution {
public:
    int findPairs(vector<int>& nums, int k) {
        unordered_set<int> ans;  // è®°å½•è¾ƒå°çš„
        unordered_set<int> isHave;
        for (int n : nums) {
            if (isHave.count(n + k)) ans.insert(n);
            if (isHave.count(n - k)) ans.insert(n - k);
            isHave.insert(n);
        }
        return ans.size();
    }
};
```

**æ³•2ï¼šæ’åºåäºŒåˆ†**

```C++
class Solution {
public:
    int findPairs(vector<int>& nums, int k) {
        sort(nums.begin(), nums.end());
        int n = nums.size(), ans = 0;
        for (int i = 0; i < n - 1; i++) {
            if (i > 0 && nums[i] == nums[i - 1]) continue;
            int l = i + 1, r = n - 1;
            while (l <= r) {
                int mid = l + (r - l) / 2;
                if (nums[mid] == nums[i] + k) {
                    ans++;
                    break;
                }
                else if (nums[mid] > nums[i] + k) r = mid - 1;
                else l = mid + 1;
            }
        }
        return ans;
    }
};
```

**æ³•3ï¼šåŒæŒ‡é’ˆ**

```C++
class Solution {
public:
    int findPairs(vector<int>& nums, int k) {
        sort(nums.begin(), nums.end());
        int n = nums.size(), ans = 0;
        for (int i = 0; i < n; i++) {
            if (i > 0 && nums[i] == nums[i - 1]) continue;
            for (int j = i + 1; j < n; j++) {
                if (nums[j] == nums[i] + k) {
                    ans++;
                    break;
                }
            }
        }
        return ans;
    }
};
    
    æ¢ä¸€ç§å†™æ³•
    int findPairs(vector<int>& nums, int k) {
        sort(nums.begin(), nums.end());
        int size = nums.size(), ret = 0;
        int last = 1e7 + 1; //ä¿å­˜ä¸Šä¸€ä¸ªæ•°å¯¹ä¸­çš„x
        vector<int>::iterator it;
        for (int i = 0; i < size; i++) {
            if (nums[i] == last) continue; //å¦‚æœxç›¸åŒçš„è¯å°±è·³è¿‡
            it = lower_bound(nums.begin() + i + 1, nums.end(), k + nums[i]);
            if (it != nums.end() && *it == (k + nums[i])) {
                ret++;
                last = nums[i];
            }
        }
        return ret;
    }
```



#### [535. TinyURL çš„åŠ å¯†ä¸è§£å¯†](https://leetcode.cn/problems/encode-and-decode-tinyurl/)ï¼šä¼ªåŠ è§£å¯†

> ç›´æ¥ç”¨å“ˆå¸Œè¡¨æ¥å­˜urlå°±è¡Œ

```C++
class Solution {
private:
    unordered_map<int, string> umap;
    int id = 0;
    string tiny = "http://tinyurl.com/";
public:
    // Encodes a URL to a shortened URL.
    string encode(string longUrl) {
        umap[++id] = longUrl;
        return tiny + to_string(id);
    }

    // Decodes a shortened URL to its original URL.
    string decode(string shortUrl) {
        int p = shortUrl.rfind('/') + 1;
        int key = stoi(shortUrl.substr(p, int(shortUrl.size()) - p));
        return umap[key];
    }
};
```





#### [537. å¤æ•°ä¹˜æ³•](https://leetcode-cn.com/problems/complex-number-multiplication/)ï¼š

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YzViOTU4NzkwNzU0MjA2Yjk4Y2QwMzQ2ODA3NDVmZGRfOVUwTllTMjFlWlk4OEY4MU1DOGF4S1dDcGtEWFVFSkFfVG9rZW46Ym94Y25TUjhkUUdVZFdqblhsaVRVb0p0N2plXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    string complexNumberMultiply(string num1, string num2) {
        // num1 = a1+b1*i
        // num2 = a2+b2*i
        int a1 = stoi(num1.substr(0, num1.find("+")));
        int b1 = stoi(num1.substr(num1.find("+") + 1, num1.size()-1));
        int a2 = stoi(num2.substr(0, num2.find("+")));
        int b2 = stoi(num2.substr(num2.find("+") + 1, num2.size()-1));
        int a = a1*a2 - b1*b2, b = a1*b2 + a2*b1;
        return to_string(a) + "+" + to_string(b) + "i";
    }
};
```

**æ³¨æ„ï¼š**

- stoiå‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°
- to_stringå‡½æ•°å°†æ•´æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²





#### [541. åè½¬å­—ç¬¦ä¸² II](https://leetcode-cn.com/problems/reverse-string-ii/)ï¼šæ³¨æ„ä¸¤ç§è¯­è¨€çš„reverseå‡½æ•°

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ODBiY2M4MjBiZWVjYTc3YTAxNjBiYTFiMDk2M2Q5M2RfQ0lLZlhYNlU3VnlNNUQ5Y2VoaU9Sbm1LRDRsc3E0aTlfVG9rZW46Ym94Y25tNnpXZlphVm9oZldkd3M2QlJCYXJlXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    string reverseStr(string s, int k) {
        int n = s.length();
        for(int i = 0; i < n; i += 2*k){
            // reverse(s[i], s[i+k]);âŒ
            reverse(s.begin() + i, s.begin() + min(i + k, n)); //å®˜æ–¹é¢˜è§£
        }
        return s;
    }
};

/*
c.begin() è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå®ƒæŒ‡å‘å®¹å™¨cçš„ç¬¬ä¸€ä¸ªå…ƒç´ 
c.end() è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå®ƒæŒ‡å‘å®¹å™¨cçš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®
c.rbegin() è¿”å›ä¸€ä¸ªé€†åºè¿­ä»£å™¨ï¼Œå®ƒæŒ‡å‘å®¹å™¨cçš„æœ€åä¸€ä¸ªå…ƒç´ 
c.rend() è¿”å›ä¸€ä¸ªé€†åºè¿­ä»£å™¨ï¼Œå®ƒæŒ‡å‘å®¹å™¨cçš„ç¬¬ä¸€ä¸ªå…ƒç´ å‰é¢çš„ä½ç½®
*/
class Solution:
    def reverseStr(self, s: str, k: int) -> str:
        t = list(s) #æŒ‰ç…§åˆ—è¡¨æ¥æ“ä½œäº†
        for i in range(0, len(t), 2 * k):
            # t[i: i + k] = list(reversed(t[i: i + k])) # pythonçš„é€†åºâ­
            t[i: i + k] = reversed(t[i: i + k])
            # print(t[i:i+k])
        return "".join(t)

# return t
# è¾“å‡º ["b","a","c","d","f","e","g"]
# é¢„æœŸç»“æœ "bacdfeg"
# è¦å°†åˆ—è¡¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼
```



#### [522. æœ€é•¿ç‰¹æ®Šåºåˆ— II](https://leetcode.cn/problems/longest-uncommon-subsequence-ii/)ï¼šéå†å­—ç¬¦ä¸²æ¥æ¯”è¾ƒ

> `strs[i].size()`ä¸èƒ½ç›´æ¥å½“ä½œintæ¥ä½¿ç”¨ï¼Ÿ

```C++
class Solution {
public:
    bool isSubseq(string a, string b) {  // aæ˜¯å¦æ˜¯bçš„å­åºåˆ—
        int i = 0, j = 0;
        while (i < a.size() && j < b.size()) {
            if (a[i] == b[j]) i++;
            j++;
        }
        return i == a.size();
    }
    int findLUSlength(vector<string>& strs) {
        int n = strs.size();
        int ans = -1;
        for (int i = 0; i < n; i++) {
            bool check = true;
            for (int j = 0; j < n; j++) {
                if (i != j && isSubseq(strs[i], strs[j])) {
                    check = false;
                    break;
                }
            }
            if (check) {
                ans = max(ans, (int)strs[i].size());
            }
        }
        return ans;
    }
};
```



#### [556. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  III](https://leetcode.cn/problems/next-greater-element-iii/)

```C++
class Solution {
public:
    int nextGreaterElement(int n) {
        auto tmp = to_string(n);  // æ˜¯æ­£å‘çš„string
        int i = tmp.size() - 1;
        while (i > 0 && tmp[i] <= tmp[i - 1]) i--;  // ä»iå¼€å§‹é€’å‡
        if (i > 0) {
            int j = tmp.size() - 1;
            while (tmp[j] <= tmp[i - 1]) j--;  // æ‰¾å‡ºéœ€è¦ä¸i-1äº¤æ¢çš„
            swap(tmp[i - 1], tmp[j]);
            reverse(tmp.begin() + i, tmp.end());  // è¦æ˜¯æœ€å°çš„é‚£ä¸ªï¼
        }
        else return -1;
        auto ans = stol(tmp);
        return ans > INT_MAX ? -1 : ans;
    }
};
äº¤æ¢å…ƒç´ åï¼Œéœ€è¦ä»
#include <algorithm>  // å¯¹äºreverseå‡½æ•°æ˜¯å¿…é¡»çš„ï¼ï¼
æœ‰é—®é¢˜çš„å†™æ³•ï¼š
    int nextGreaterElement(int x) {
        vector<int> nums;  // numsæ˜¯å€’ç€çš„x
        while (x != 0) {
            nums.push_back(x % 10);
            x /= 10;
        }
        int n = nums.size();
        int i = 0;
        while (i < n - 1 && nums[i] >= nums[i + 1]) i++;  // i->0é€’å‡ï¼Œä¸èƒ½äº¤æ¢
        if (i >= n - 1) return -1;
        int j = 0;
        while (nums[j] >= nums[i + 1]) j++;  // i+1æ˜¯è¦äº¤æ¢çš„ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„
        swap(nums[j], nums[i + 1]);
        reverse(nums.begin(), nums.begin() + i);

        int ans = 0;
        for (int i = n - 1; i >= 0; i--) ans = ans * 10 + nums[i];
        // return ans > INT_MAX ? -1 : ans;
        return ans;
    }
```



#### [565. æ•°ç»„åµŒå¥—](https://leetcode.cn/problems/array-nesting/)

```C++
class Solution {
public:
    int arrayNesting(vector<int>& nums) {
        int n = nums.size();
        int ans = 0;
        for (int i = 0; i < n; i++) {
            int cur = i, cnt = 0;
            // è®¿é—®è¿‡çš„å¯ä»¥è·³è¿‡ï¼Œå› ä¸ºæ˜¯çœ‹æ„æˆå›è·¯
            while (nums[cur] != -1) {
                cnt++;
                int t = cur;
                cur = nums[cur];
                nums[t] = -1;
            }
            ans = max(ans, cnt);
        }
        return ans;
    }
};
```



#### [591. æ ‡ç­¾éªŒè¯å™¨](https://leetcode-cn.com/problems/tag-validator/)ï¼šå­—ç¬¦ä¸²æ¨¡æ‹Ÿ+æ ˆï¼Ÿ

> å›°éš¾é¢˜ï¼š

è‡ªå·±å†™çš„ï¼šä½†æ˜¯æœ‰ç‚¹é—®é¢˜ã€‚ã€‚

```C++
class Solution {
public:
    bool isValid(string code) {
        int n = code.size();
        stack<string> s;
        int i = 0;
        while (i < n) {
            if (code[i] == '<') {
                // if (i == n - 1) return false;
                if (code[i + 1] == '/') {
                    int j = code.find('>', i);
                    if (j == string::npos) return false;
                    string tagName = code.substr(i + 2, j - (i + 2));
                    if (s.empty() || s.top() != tagName) return false;
                    s.pop();
                    i = j + 1;
                    // if (s.empty() && i != n) return false;  // â­
                }
                else if (code.substr(i + 1, 8) == "![CDATA[") {
                    int j = code.find("]]>", i);    // ä»iä¹‹åå†æ‰¾
                    if (j == string::npos) return false;
                    i = j + 3;
                }
                else {
                    int j = code.find('>', i);
                    if (j == string::npos) return false;
                    string tagName = code.substr(i + 2, j - (i + 2));
                    if (tagName.size() < 1 || tagName.size() > 9) return false;
                    for (auto s : tagName) {
                        if (!isupper(s)) return false;
                    }
                    s.push(tagName);
                    i = j + 1;
                }
            }
            else {
                if (s.empty()) return false;
                i++;
            }
        }
        return s.empty();
    }
};
```

è¯„è®ºé‡Œé¢æŠ„æ¥ä¸€ä¸ªï¼š

```C++
bool isValid(string code)
{
    int idx = 0;
    stack<string> tagname;
    while (idx < code.size())
    {
        if (code[idx] == '<')
        {
            idx++;                //è·³è¿‡<
            if (code[idx] == '/') //ç»“æŸç¬¦
            {
                int start = ++idx; //è·³è¿‡/
                while (idx < code.size() && code[idx] != '>')
                    idx++;
                if (tagname.empty() || idx == code.size() || code.substr(start, idx - start) != tagname.top()) //æ²¡æœ‰åŒ¹é…çš„å¼€å§‹ç¬¦æˆ–æ²¡æœ‰>è¿”å›false
                    return false;
                tagname.pop();
                idx++; //è·³è¿‡>
            }
            else if (code[idx] != '!') //å¼€å§‹ç¬¦
            {
                int start = idx;
                while (idx < code.size() && code[idx] != '>')
                {
                    if (!isupper(code[idx])) //ä¸æ˜¯å¤§å†™è¿”å›false
                        return false;
                    idx++;
                }
                int len = idx - start;
                if ((start > 1 && tagname.empty()) || idx == code.size() || len > 9 || len == 0) //é•¿åº¦å¤§äº9æˆ–ç­‰äº0æˆ–æ²¡æœ‰ç»“æŸç¬¦æˆ–å½“å‰æ ‡ç­¾ä¸æ˜¯ç¬¬ä¸€ä¸ªä¸”ä¸åœ¨ä»»ä½•æ ‡ç­¾èŒƒå›´å†…è¿”å›false
                    return false;
                tagname.push(code.substr(start, len));
                idx++; //è·³è¿‡>
            }
            else // cdata
            {
                idx++; //è·³è¿‡ï¼
                if (tagname.empty() || code.substr(idx, 7) != "[CDATA[")
                    return false;
                idx += 7; //ä½äº[åé¢ä¸€ä¸ªå­—ç¬¦
                while (idx < code.size())
                {
                    if (code.substr(idx, 3) == "]]>")
                        break;
                    idx++;
                }
                if (idx == code.size())
                    return false;
                idx += 3; //è·³]]>
            }
        }
        else
        {
            if (tagname.empty()) //å½“å‰æ–‡å­—ä¸åœ¨æ ‡ç­¾èŒƒå›´å†…
                return false;
            idx++;
        }
    }
    return tagname.empty(); //æœ‰æ— æœªé—­åˆæ ‡ç­¾
}
```



#### [593. æœ‰æ•ˆçš„æ­£æ–¹å½¢](https://leetcode.cn/problems/valid-square/)

```C++
class Solution {
public:
    bool isRtTriangle(vector<int>& p1, vector<int>& p2, vector<int>& p3) {
        int d1 = pow(p1[0] - p2[0], 2) + pow(p1[1] - p2[1], 2);
        int d2 = pow(p1[0] - p3[0], 2) + pow(p1[1] - p3[1], 2);
        int d3 = pow(p3[0] - p2[0], 2) + pow(p3[1] - p2[1], 2);
        if ((d3 > d1 && d1 == d2 && d1 + d2 == d3) || (d2 > d1 && d1 == d3 && d1 + d3 == d2) || (d1 > d2 && d2 == d3 && d2 + d3 == d1)) return true;
        return false;

    }
    bool validSquare(vector<int>& p1, vector<int>& p2, vector<int>& p3, vector<int>& p4) {
        return isRtTriangle(p1, p2, p3) && isRtTriangle(p1, p2, p4) && isRtTriangle(p1, p3, p4) && isRtTriangle(p2, p3, p4);
    }
};
```



#### [622. è®¾è®¡å¾ªç¯é˜Ÿåˆ—](https://leetcode.cn/problems/design-circular-queue/)ï¼šæ¨¡æ‹Ÿå¾ªç¯é˜Ÿåˆ—

**æ³•1ï¼šä½¿ç”¨æ•°ç»„ç›´æ¥æ¨¡æ‹Ÿ--****å·§å¦™ä½¿ç”¨k+1çš„é•¿åº¦**

```C++
class MyCircularQueue {
private:
    vector<int> cq;
    int g_len;
    int front;
    int end;
public:
    MyCircularQueue(int k) {
        this->g_len = k + 1;
        this->cq = vector<int>(g_len);
        front = 0, end = 0;
    }
    
    bool isEmpty() {
        return front == end;
    }
    
    bool isFull() {
        return ((end + 1) % g_len) == front;
    }
    
    bool enQueue(int value) {
        if (isFull()) return false;
        cq[end] = value;
        end = (end + 1) % g_len;
        return true;
    }
    
    bool deQueue() {
        if (isEmpty()) return false;
        front = (front + 1) % g_len;
        return true;
    }
    
    int Front() {
        if (isEmpty()) return -1;
        return cq[front];
    }
    
    int Rear() {
        if (isEmpty()) return -1;
        // endæŒ‡å‘äº†ä¸‹ä¸€ä¸ªï¼Œæ‰€ä»¥å†ç»•ä¸€åœˆ
        return cq[(end + g_len - 1) % g_len];
    }
};
```

**æ³•2ï¼šé“¾è¡¨**

```C++
class MyCircularQueue {
private:
    ListNode *head;
    ListNode *tail;
    int capacity;
    int size;

public:
    MyCircularQueue(int k) {
        this->capacity = k;
        this->size = 0;
        this->head = this->tail = nullptr;
    }

    bool enQueue(int value) {
        if (isFull()) return false;
        
        ListNode *node = new ListNode(value);
        if (!head) {
            head = tail = node;
        } else {
            tail->next = node;
            tail = node;
        }
        size++;
        return true;
    }

    bool deQueue() {
        if (isEmpty()) return false;
        ListNode *node = head;
        head = head->next;  
        size--;
        delete node;
        return true;
    }

    int Front() {
        if (isEmpty()) return -1;
        return head->val;
    }

    int Rear() {
        if (isEmpty()) return -1;
        return tail->val;
    }

    bool isEmpty() {
        return size == 0;
    }

    bool isFull() {
        return size == capacity;
    }
};

/**
 * Your MyCircularQueue struct will be instantiated and called as such:
 * MyCircularQueue* obj = myCircularQueueCreate(k);
 * bool param_1 = myCircularQueueEnQueue(obj, value);
 
 * bool param_2 = myCircularQueueDeQueue(obj);
 
 * int param_3 = myCircularQueueFront(obj);
 
 * int param_4 = myCircularQueueRear(obj);
 
 * bool param_5 = myCircularQueueIsEmpty(obj);
 
 * bool param_6 = myCircularQueueIsFull(obj);
 
 * myCircularQueueFree(obj);
*/
typedef struct {
    struct ListNode *head;
    struct ListNode *tail;
    int capacity;
    int size;
} CirQue;


CirQue* cqCreate(int k) {
    CirQue *obj = (CirQue *)malloc(sizeof(CirQue));
    obj->capacity = k;
    obj->size = 0;
    obj->head = obj->tail = NULL;
    return obj;
}

bool cqEnQueue(CirQue* obj, int value) {
    if (obj->size >= obj->capacity) {
        return false;
    }
    struct ListNode *node = (struct ListNode *)malloc(sizeof(struct ListNode));
    node->val = value;
    node->next = NULL;
    if (!obj->head) {
        obj->head = obj->tail = node;
    } else {
        obj->tail->next = node;
        obj->tail = node;
    }
    obj->size++;
    return true;
}

bool cqDeQueue(CirQue* obj) {
    if (obj->size == 0) {
        return false;
    }
    struct ListNode *node = obj->head;
    obj->head = obj->head->next;  
    obj->size--;
    free(node);
    return true;
}

int cqFront(CirQue* obj) {
    if (obj->size == 0) {
        return -1;
    }
    return obj->head->val;
}

int cqRear(CirQue* obj) {
    if (obj->size == 0) {
        return -1;
    }
    return obj->tail->val;
}

bool cqIsEmpty(CirQue* obj) {
    return obj->size == 0;
}

bool cqIsFull(CirQue* obj) {
    return obj->size == obj->capacity;
}

void cqFree(CirQue* obj) {
    for (struct ListNode *curr = obj->head; curr;) {
        struct ListNode *node = curr;
        curr = curr->next;
        free(node);
    }
    free(obj);
}
```



#### [640. æ±‚è§£æ–¹ç¨‹](https://leetcode.cn/problems/solve-the-equation/)ï¼šç§»é¡¹è§£æ–¹ç¨‹

```C++
class Solution {
public:
    // k * x + a = 0
    string solveEquation(string eq) {
        int k = 0, a = 0;
        int n = eq.size();
        for (int i = 0, op = 1; i < n;) {
            if (eq[i] == '+') {
                op = 1; i++;
            } else if (eq[i] == '-') {
                op = -1; i++;
            } else if (eq[i] == '=') {
                k *= -1; a *= -1;
                op = 1; i++;
            } else {
                int j = i;
                while (j < n && isdigit(eq[j])) j++;
                if (eq[j] == 'x') {
                    // kx
                    if (j == i) k += 1 * op;
                    else k += stoi(eq.substr(i, j - i)) * op;
                    i = j + 1;
                } else {
                    // a
                    a += stoi(eq.substr(i, j - i)) * op;
                    i = j;
                }
            }
        }

        if (k == 0) return a == 0 ? "Infinite solutions" : "No solution";
        else return "x=" + to_string(-a / k);
    }
};
```



#### [699. æ‰è½çš„æ–¹å—](https://leetcode.cn/problems/falling-squares/)ï¼šæš´åŠ›æ±‚è§£ä¿„ç½—æ–¯æ–¹å—

> æ€è·¯æ˜¯æ€ä¹ˆæƒ³åˆ°çš„ï¼Ÿ

> ä¸€ä¸ªæ ¼å­è½åˆ°å…¶ä»–æ ¼å­ä¸Šé¢ä»¥åï¼Œåæ¥çš„æ ¼å­å°±åªèƒ½ç»§ç»­å‘ä¸Šå †ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠå·²ç»è½ç¨³äº†çš„æ ¼å­ï¼Œå˜æˆé•¿æ–¹å½¢ï¼Œä¸”æŠŠä¸å…¶æœ‰äº¤é›†æ ¼å­ä¸­é‡å çš„éƒ¨åˆ†è¦†ç›–äº†ï¼šå¦‚å›¾

> ![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NWQ2MWUxNmQ5ZWNkMGZkZWViNzk1OTVhNjgwODFkMGVfaTRPQ0lTUGpJT0Jic05lT2wxWlJwaWViREJtWkR4cnZfVG9rZW46Ym94Y25hZ1lkUXFuc20zQjN6S21xd01wTHdnXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    struct Margin {
        int left;
        int right;
        int height;
        Margin(int l, int r, int h): left(l), right(r), height(h) {}
    };
    vector<int> fallingSquares(vector<vector<int>>& pos) {
        int n = pos.size();
        int maxHeight = 0;
        vector<Margin> margs;
        vector<int> ans;

        for (int i = 0; i < n; i++) {  // éå†æ¯ä¸ªæ­£æ–¹å½¢
            int l = pos[i][0], h = pos[i][1], r = l + h;
            int curMaxh = 0;
            for (Margin m : margs) {
                if (m.left >= r || m.right <= l) continue;  // æ­£å¥½é”™å¼€
                curMaxh = max(curMaxh, m.height);  // éœ€è¦å’ï¼Œé‚£å°±æ±‚å‡ºå½“å‰æœ€é«˜
            }
            int curHeight = curMaxh + h;
            margs.push_back(Margin(l, r, curHeight));  // å­˜çš„æ˜¯çŸ©å½¢æŠ•å½±åŒºåŸŸ
            maxHeight = max(maxHeight, curHeight);
            ans.push_back(maxHeight);
        }
        return ans;
    }
};
```

**æ³¨æ„å®šä¹‰ä¸€ä¸ªstructåæ€ä¹ˆåˆå§‹åŒ–ä¹‹ç±»çš„ï¼ï¼**



#### [748. æœ€çŸ­è¡¥å…¨è¯](https://leetcode-cn.com/problems/shortest-completing-word/)ï¼šif not counter()ç›¸å‡

```C++
class Solution {
public:
    // å®˜æ–¹é¢˜è§£
    string shortestCompletingWord(string licensePlate, vector<string> &words) {
        array<int, 26> cnt{};
        for (char ch : licensePlate) {
            if (isalpha(ch)) {
                ++cnt[tolower(ch) - 'a'];
            }
        }
        int idx = -1;
        for (int i = 0; i < words.size(); ++i) {
            array<int, 26> word_cnt{};
            for (char ch : words[i])
                ++word_cnt[ch - 'a'];

            bool isComplete = true;
            for (int j = 0; j < 26; ++j) {
                if (word_cnt[j] < cnt[j]) {
                    isComplete = false;
                    break;
                }
            }
            if (isComplete && (idx ==-1 || words[i].size() < words[idx].size()))
            // æ³¨æ„è¿™é‡Œidxçš„åˆ¤æ–­å’Œsizeåˆ¤æ–­çš„é¡ºåºä¸èƒ½å†™åï¼ï¼â­
                idx = i;
        }
        return words[idx];
    }
};
class Solution:
    # pythonå®˜æ–¹è§£ç­”æåº¦ç®€æ´
    def shortestCompletingWord(self, licensePlate: str, words: List[str]) -> str:
        cnt = Counter(ch.lower() for ch in licensePlate if ch.isalpha())
        return min((word for word in words if not cnt-Counter(word)),key=len)
```



#### [794. æœ‰æ•ˆçš„äº•å­—æ¸¸æˆ](https://leetcode-cn.com/problems/valid-tic-tac-toe-state/)ï¼šäº•å­—æ¨¡æ‹Ÿ

```C++
class Solution {
public:
    bool validTicTacToe(vector<string>& board) {
        int numX = 0, numO = 0;
        for(auto row : board){
            for(auto i : row){
                if(i == 'X') numX++;
                if(i == 'O') numO++;
            }
        }

        if(numX != numO && numX != numO + 1) return false;
        if(checkWin(board, 'X') && numX != numO + 1) return false;
        if(checkWin(board, 'O') && numX != numO) return false;
        else
            return true;
    }

    bool checkWin(vector<string>& board, char p) {
        for(int i = 0; i < 3; ++i){
            if(board[i][0] == p && board[i][1] == p && board[i][2] == p)
                return true;
            if(board[0][i] == p && board[1][i] == p && board[2][i] == p)
                return true;
        }
        if(board[0][0] == p && board[1][1] == p && board[2][2] == p)
            return true;
        if(board[0][2] == p && board[1][1] == p && board[2][0] == p)
            return true;
        else
            return false;
    }
};
```



#### [812. æœ€å¤§ä¸‰è§’å½¢é¢ç§¯](https://leetcode.cn/problems/largest-triangle-area/)ï¼šç”¨åæ ‡æ±‚ä¸‰è§’å½¢é¢ç§¯

**æ³•1ï¼šæµ·ä¼¦å…¬å¼**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZDkzOTJkMzM4MzQ0NDhkNGI4NzNkMjA1YWMzMWZmMGJfYXdyWGxKc1luMkRuVXloc0NxYXdUdnd1UzQ0MXpaSGJfVG9rZW46Ym94Y25adktHd2lXUGM1SHFJaUdoN29PT2tmXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    double getLen(vector<int>& a, vector<int>& b) {
        return sqrt(pow(a[0] - b[0], 2) + pow(a[1] - b[1], 2));
    }
    double getArea(double a, double b, double c) {
        double p = (a + b + c) / 2;
        return sqrt(p * (p - a) * (p - b) * (p - c));
    }
    double largestTriangleArea(vector<vector<int>>& points) {
        double ans = 0.0;
        for (auto &A : points) {
            for (auto &B : points) {
                for (auto &C : points) {
                    double a = getLen(B, C), b = getLen(A, C), c = getLen(A, B); 
                    ans = max(ans, getArea(a, b, c));
                }
            }
        }
        return ans;
    }
};
```

**æ³•2ï¼šå‘é‡å‰ä¹˜**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MjJkOWE3NTNmYTE1Mjk2ZTYxMDVkYTk5Y2FjMmFlZGNfaURLWWh1UmRrYmRYOVF6Skx6R0RNNUFualZaNjlMSUZfVG9rZW46Ym94Y25uQlM0ejNLYVhSNEZwOTJreWFBZU10XzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**æ³•3ï¼šS=1/2 \* a \* b \* sinC**



#### [828. ç»Ÿè®¡å­ä¸²ä¸­çš„å”¯ä¸€å­—ç¬¦](https://leetcode.cn/problems/count-unique-characters-of-all-substrings-of-a-given-string/)ï¼šæ¨¡æ‹Ÿ+ä¹˜æ³•åŸç†

**å›°éš¾é¢˜ï¼š**åŸé—®é¢˜ä¸ºæ±‚**æ‰€æœ‰å­ä¸²çš„å”¯ä¸€å­—ç¬¦æ•°é‡å’Œ**ï¼Œå…¶å¯ç­‰ä»·ä¸º**æ±‚æ¯ä¸ªs[i]å¯¹ç­”æ¡ˆçš„è´¡çŒ®**ï¼Œ**å³æ¯ä¸ªs[i]å¯ä½œä¸ºå¤šå°‘ä¸ªå­æ•°ç»„çš„å”¯ä¸€å…ƒç´ ã€‚**

- > "ABC"-----1 + 1 + 1 + 2 + 2 + 3 = 10ï¼ˆ1*3+2*2+3*1ï¼‰

- > "ABA"-----8ï¼ˆ1*2+2*2+2*1ï¼‰

å‡å®šæˆ‘ä»¬èƒ½é¢„å¤„ç†å‡ºä¸¤æ•°ç»„ l å’Œ r åˆ†åˆ«ä»£è¡¨s[i]ä½œä¸ºå­æ•°ç»„å”¯ä¸€å­—ç¬¦æ—¶ï¼Œå…¶æ‰€èƒ½åˆ°è¾¾çš„æœ€è¿œä¸¤ç«¯ï¼š

- l[i] = a ä»£è¡¨aä¸ºs[i]èƒ½å¤Ÿä½œä¸ºå­æ•°ç»„å”¯ä¸€å­—ç¬¦æ—¶çš„**æœ€è¿œå·¦è¾¹ç•Œä¸‹æ ‡**ï¼Œå³ä¸ºs[i]å·¦è¾¹ç¬¬ä¸€ä¸ªä¸s[i]å€¼ç›¸åŒçš„ä½ç½®ï¼ˆè‹¥ä¸å­˜åœ¨ï¼Œåˆ™ä¸ºa=-1ï¼‰
- r[i] = b ä»£è¡¨bä¸ºs[i]èƒ½å¤Ÿä½œä¸ºå­æ•°ç»„å”¯ä¸€å­—ç¬¦æ—¶çš„**æœ€è¿œå³è¾¹ç•Œä¸‹æ ‡**ï¼Œå³ä¸ºs[i]å³è¾¹ç¬¬ä¸€ä¸ªä¸s[i]å€¼ç›¸åŒçš„ä½ç½®ï¼ˆè‹¥ä¸å­˜åœ¨ï¼Œåˆ™ä¸º b=nï¼‰

å­æ•°ç»„å·¦ç«¯ç‚¹ä¸ªæ•°ä¸º(i-a)ä¸ªï¼Œå³ç«¯ç‚¹ä¸ªæ•°ä¸º(b-i)ä¸ªï¼Œæ ¹æ®ä¹˜æ³•åŸç†å¯çŸ¥ï¼Œå­æ•°ç»„ä¸ªæ•°ä¸ºä¸¤è€…ä¹˜ç§¯ã€‚

> å·¦ï¼šA_ï¼Œä¸­è¿Bï¼Œå³ï¼š_Cï¼Œç›¸ä¹˜2*2

> å·¦ï¼šA_ï¼Œä¸­è¿Bï¼Œå³ï¼š_ï¼Œç›¸ä¹˜2*1

**é¢„å¤„ç† l å’Œ r åªéœ€è¦ä½¿ç”¨éå†è®¡æ•°å³å¯ã€‚ï¼ˆå¾ˆå…³é”®ï¼ï¼ï¼‰**

```Java
class Solution {
public:
    int uniqueLetterString(string s) {
        int n = s.size();
        // l[i]ï¼šs[i]å·¦è¾¹ç¬¬ä¸€ä¸ªä¸s[i]å€¼ç›¸åŒçš„ä¸‹æ ‡
        // r[i]ï¼šs[i]å³è¾¹ç¬¬ä¸€ä¸ªä¸s[i]å€¼ç›¸åŒçš„ä¸‹æ ‡
        vector<int> l(n), r(n);
        vector<int> cnt(26, -1);    // è®°å½•å­—æ¯æœ€æ–°ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡
        for (int i = 0; i < n; i++) {
            l[i] = cnt[s[i] - 'A'];
            cnt[s[i] - 'A'] = i;
        }
        cnt = vector<int>(26, n);
        for (int i = n - 1; i >= 0; i--) {
            r[i] = cnt[s[i] - 'A'];
            cnt[s[i] - 'A'] = i;
        }

        int ans = 0;
        for (int i = 0; i < n; i++) {
            ans += (i - l[i]) * (r[i] - i);
        }
        return ans;
    }
};
```



#### [846. ä¸€æ‰‹é¡ºå­](https://leetcode-cn.com/problems/hand-of-straights/)ï¼šä¼˜å…ˆé˜Ÿåˆ—(å †)+å“ˆå¸Œ

æ³¨æ„å–ç‰Œï¼Œæ£€æŸ¥èƒ½å¦ç»„æˆé¡ºå­æ—¶çš„æ€è·¯â­

```C++
class Solution {
public:
    bool isNStraightHand(vector<int>& hand, int groupSize) {
        unordered_map<int, int> cnt;  // æŸæ•°å€¼å’Œæ•°é‡çš„å¯¹åº”å…³ç³»
        priority_queue<int, vector<int>, greater<int>> q;  // å‡åºé˜Ÿåˆ—
        for (auto c: hand) {  // å­˜è¿›å»
            cnt[c]++;
            q.push(c);
        }

        while(!q.empty()) {
            int c = q.top();
            q.pop();
            // ç‰Œå·²ç»è¢«å–å‡º
            // æˆ‘ä»¬åªéœ€è¦æ¯æ¬¡ä»å †ä¸­å–å‡ºä¸€å¼ ç‰Œ
            // æ£€æŸ¥ç›¸é‚»çš„groupsizeå¼ æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±å°†å¯¹åº”è¯¥æ•°å€¼çš„è®¡æ•°å™¨å‡1å³å¯
            if (cnt[c] != 0) {
                for (int x = 0; x < groupSize; x++) {  // æ£€æŸ¥èƒ½å¦é¡ºå­
                    if (cnt[c+x] == 0) return false;
                    cnt[c+x]--;  // è®¡æ•°å™¨å‡1ï¼Œç­‰ä»·äºå–å‡ºç‰Œ
                }
            }
        }
        return true;
    }
};
```



#### [868. äºŒè¿›åˆ¶é—´è·](https://leetcode-cn.com/problems/binary-gap/)ï¼šç›´æ¥éå†ï¼Œç®€å•æ¨¡æ‹Ÿ

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NGU5ZTAwNTg3NWViNmZjM2FkZjFhNTY2ZTdjZWI5NDVfWjZwRm1KbXVQcW9TajFvTVFQSkxYNkE2MHV3Y3ZsOG1fVG9rZW46Ym94Y25DVWl1S3ZuZmpaczZ1Yll2a09FVU9jXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    // ç›´æ¥éå†ï¼šéå†nçš„äºŒè¿›åˆ¶ä¸­çš„æ¯ä¸€ä½iï¼ŒåŒæ—¶è®°å½•ä¸Šä¸€ä½1çš„ä½ç½®j
    int binaryGap(int n) {
        int ans = 0;
        for (int i = 31, j = -1; i >= 0; i--) {
            if (((n >> i) & 1) == 1) {
                if (j != -1) ans = max(ans, j - i);
                j = i;
            }
        }
        return ans;
    }
};
#include <cmath>    // å¦‚æœåŠ ä¸Šä¸€ä¸ªæ²¡æœ‰å¤ªå¤§å¿…è¦çš„æ“ä½œ
int binaryGap(int n) {
    ...
    for (int i = (int)(log(n) / log(2)), j = -1; i >= 0; i--) {...}
}
```



#### [883. ä¸‰ç»´å½¢ä½“æŠ•å½±é¢ç§¯](https://leetcode-cn.com/problems/projection-area-of-3d-shapes/)ï¼šæŠ•å½±

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NmI3NjJiMzNjMDQ1MjQzYmE3MjFkNGM4ZDFiZmI2YzNfeTJLNnIxQUt6SFo4ZXVyYnlPVHc3NTd6Rkd5WTcyelJfVG9rZW46Ym94Y25YcnNyNDBCc3NDT1E1V3ZJdnh6Q0hnXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

> è¾“å…¥çš„æ˜¯æŸåæ ‡çš„vå€¼ï¼Œç›´æ¥éå†è¾“å…¥çš„åˆ—è¡¨å³å¯ï¼›

> ä¾¥å¹¸åœ°ï¼Œå› ä¸ºè¡Œåˆ—æ•°é‡ä¸€æ ·å¯ä»¥è¿™ä¹ˆæ“ä½œã€‚ã€‚ã€‚

ä½¿ç”¨ä¸‰ä¸ªå˜é‡åˆ†åˆ«ç»Ÿè®¡ä¸‰è§†å›¾çš„é˜´å½±é¢ç§¯ï¼š

- ans1ï¼šç»Ÿè®¡ä¿¯è§†å›¾çš„é¢ç§¯ï¼Œå…±æœ‰nâˆ—n ä¸ªä½ç½®éœ€è¦è¢«ç»Ÿè®¡ï¼Œå½“ä»»æ„æ ¼å­g[i][j]>0ï¼Œé¢ç§¯+1ï¼›
- ans2ï¼šç»Ÿè®¡å·¦è§†å›¾çš„é¢ç§¯ï¼Œå…±æœ‰nè¡Œéœ€è¦è¢«ç»Ÿè®¡ï¼Œæ¯ä¸€è¡Œå¯¹ ans2 çš„è´¡çŒ®ä¸ºè¯¥è¡Œçš„æœ€å¤§é«˜åº¦ï¼›
- ans3ï¼šç»Ÿè®¡ä¸»è§†å›¾çš„é¢ç§¯ï¼Œå…±æœ‰nåˆ—éœ€è¦è¢«ç»Ÿè®¡ï¼Œæ¯ä¸€åˆ—å¯¹ ans3 çš„è´¡çŒ®ä¸ºè¯¥åˆ—çš„æœ€å¤§é«˜åº¦ã€‚

```C++
class Solution {
public:
    int projectionArea(vector<vector<int>>& grid) {
        int s1 = 0, s2 = 0, s3 = 0;
        int n = grid.size();
        for (int i = 0; i < n; ++i) {
            int a = 0, b = 0;
            for (int j = 0; j < n; ++j) {
                if (grid[i][j] > 0) s1++;
                a = max(a, grid[i][j]);
                b = max(b, grid[j][i]);
            }
            s2 += a;
            s3 += b;
        }
        return s1 + s2 + s3;
    }
};
```



#### [890. æŸ¥æ‰¾å’Œæ›¿æ¢æ¨¡å¼](https://leetcode.cn/problems/find-and-replace-pattern/)ï¼šæ˜ å°„

> æ ¹æ®é¢˜æ„ï¼Œæˆ‘ä»¬éœ€è¦æ„é€ ä»å­—æ¯åˆ°å­—æ¯çš„åŒå°„ï¼Œ

```C++
class Solution {
public:
    bool isMatch(string word, string pattern) {
        unordered_map<int, int> map;
        int m = word.size();
        for (int i = 0; i < m; i++) {
            if (map.find(word[i] - 'a') == map.end()) {
                map[word[i] - 'a'] = pattern[i] - 'a';
            }
            else {
                if (map[word[i] - 'a'] != pattern[i] - 'a')
                    return false;
            }
        }
        return true;
    }
    vector<string> findAndReplacePattern(vector<string>& words, string pattern) {
        vector<string> res;
        for (auto word : words) {
            if (isMatch(word, pattern) && isMatch(pattern, word))
                res.push_back(word);
        }
        return res;
    }
};
```



#### [905. æŒ‰å¥‡å¶æ’åºæ•°ç»„](https://leetcode-cn.com/problems/sort-array-by-parity/)ï¼š

```C++
class Solution {
public:
    // éå†ä¸€è¶Ÿï¼ŒåŒæŒ‡é’ˆ
    vector<int> sortArrayByParity(vector<int>& nums) {
        int n = nums.size();
        for (int i = 0, j = n - 1; i < j; ++i) {
            if (nums[i] % 2 == 1) {
                int t = nums[i];
                nums[i--] = nums[j];
                nums[j--] = t;
            }
        }
        return nums;
    }
};
```



#### [929. ç‹¬ç‰¹çš„ç”µå­é‚®ä»¶åœ°å€](https://leetcode.cn/problems/unique-email-addresses/)ï¼šå­—ç¬¦ä¸²æ¨¡æ‹Ÿ

```C++
class Solution {
public:
    int numUniqueEmails(vector<string>& emails) {
        set<string> getMail;
        for (auto e : emails) {
            string mail;
            int n = e.size(), i = 0;
            bool flag = false;
            while (i < n) {
                if (e[i] == '@') break;  // @ä¹‹åç›´æ¥substr
                if (e[i] == '.' && ++i > 0) continue;
                if (e[i] == '+') flag = true;
                if (!flag) mail += e[i];
                i++;
            }
            // mail.append(e.substr(i));
            getMail.insert(mail + e.substr(i));
        }
        return getMail.size();
    }
};
```





#### [944. åˆ åˆ—é€ åº](https://leetcode.cn/problems/delete-columns-to-make-sorted/)ï¼šç›´æ¥æŒ‰åˆ—éå†

```C++
class Solution {
public:
    int minDeletionSize(vector<string>& strs) {
        int m = strs.size(), n = strs[0].size();  // mè¡Œnåˆ—
        int ans = 0;
        for (int j = 0; j < n; j++) {
            for (int i = 0; i < m - 1; i++) {
                if (strs[i][j] > strs[i + 1][j]) {
                    ans++;
                    break;
                }
            }
        }
        return ans;
    }
};
```



#### [953. éªŒè¯å¤–æ˜Ÿè¯­è¯å…¸](https://leetcode.cn/problems/verifying-an-alien-dictionary/)ï¼š

> é¢˜æ„å¾ˆæ˜¯æœ‰é—®é¢˜ï¼ï¼ä¸å¤šçº ç»“äº†

> æ ¹æ®å­—å…¸åºï¼Œé€ä½è¿›è¡Œæ¯”è¾ƒï¼Ÿéƒ½ä¸æ˜¯ï¼šç›¸å½“äºæŸ¥å­—å…¸ï¼Ÿ

```C++
class Solution {
public:
    bool isAlienSorted(vector<string>& words, string order) {
        unordered_map<char, int> mp;  // ç›´æ¥ä¸Šå“ˆå¸Œè¡¨
        int n = words.size();
        for (int i = 0; i < 26; i++) {
            mp[order[i]] = i;
        }
        for (int i = 0; i < n - 1; i++) {
            string w0 = words[i], w1 = words[i + 1];
            int l0 = w0.size(), l1 = w1.size();
            bool flag = false;
            for (int j = 0; j < l0 && j < l1; j++) {
                if (mp[w0[j]] < mp[w1[j]]) {
                    flag = true;
                    break;
                }
                else if (mp[w0[j]] > mp[w1[j]])
                    return false;
            }
            if (flag == false && l0 > l1) return false;
        }
        return true;
    }
};
```

è¡¥å……ä¸€ç§å†™æ³•ï¼šè‡ªå®šä¹‰æ’åºã€‚ã€‚ã€‚

```C++
class Solution {
public:
    unordered_map<char, int> ord;
    int check(string a, string b) {
        int m = a.size(), n = b.size();
        int i = 0, j = 0;
        while (i < m && j < n) {
            if (a[i] != b[j]) return ord[a[i]] - ord[b[j]];
            i++, j++;
        }
        if (i < m) return 1;
        if (j < n) return -1;
        return 0;
    }
    bool isAlienSorted(vector<string>& words, string order) {
        int n = words.size();
        for (int i = 0; i < 26; i++) {
            ord[order[i]] = i;
        }
        for (int i = 0; i < n - 1; i++) {
            if (check(words[i], words[i + 1]) > 0) return false;
        }
        return true;
    }
};
```



#### [961. åœ¨é•¿åº¦ 2N çš„æ•°ç»„ä¸­æ‰¾å‡ºé‡å¤ N æ¬¡çš„å…ƒç´ ](https://leetcode.cn/problems/n-repeated-element-in-size-2n-array/)

> ä¼¼ä¹è¿‡åˆ†ç®€å•äº†ï¼š2n = (n + 1) + (n - 1)

- > ä¸é‡å¤çš„é‚£ä¸ªä¸€å®šæ˜¯åªå‡ºç°äº†ä¸€æ¬¡ï¼

```C++
int repeatedNTimes(vector<int>& nums) {
    int cnt[10001] = {0};  //æ•°æ®èŒƒå›´<=10^4
    for (int n : nums) {
        if (++cnt[n] > 1) return n;
    }
    return -1;
}
```



#### [997. æ‰¾åˆ°å°é•‡çš„æ³•å®˜](https://leetcode-cn.com/problems/find-the-town-judge/)ï¼šå…¥åº¦å‡ºåº¦

pythonçš„è§£æ³•çœ‹èµ·æ¥æ›´æ–¹ä¾¿

```Python
class Solution:
    def findJudge(self, n: int, trust: List[List[int]]) -> int:
        inDg = Counter(y for _,y in trust)
        outDg = Counter(x for x,_ in trust)
        for i in range(1, n + 1):
            if inDg[i] == n - 1 and outDg[i] == 0:
                return i
        return -1
```



#### [1051. é«˜åº¦æ£€æŸ¥å™¨](https://leetcode.cn/problems/height-checker/)ï¼šç®€å•æ’åºæ¨¡æ‹Ÿ



#### [1078. Bigram åˆ†è¯](https://leetcode-cn.com/problems/occurrences-after-bigram/)ï¼šè‡ªå·±å†™ä¸€ä¸ªC++åˆ†è¯å§

å¦‚æœç”¨C++å®ç°æœ¬é¢˜ï¼Œé—®é¢˜åœ¨äºå¦‚ä½•å°†textåˆ†è¯æˆä¸ºä¸€ä¸ªåŠ¨æ€æ•°ç»„wordsï¼Ÿ

```C++
class Solution {
public:
    // å¯æƒœC++æ²¡æœ‰åˆ†å‰²å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Ÿ
    vector<string> findOcurrences(string text, string first, string second) {
        vector<string> words;
        int start = 0;
        int len = text.size();
        for(int i = 0; i < len; ++i) {
            if(text[i] == ' ') {
                words.push_back(text.substr(start, i - start));
                start = i + 1;
            }
        }
        words.push_back(text.substr(start, len - start));

        vector<string> ans;
        int n = words.size();
        for (int i = 2; i < n; i++) {
            if (words[i - 2] == first && words[i - 1] == second)
                ans.push_back(words[i]);
        }
        return ans;
    }
};
```

pythonè§£æ³•æ³¨æ„**enumerate**çš„ç”¨æ³•

```Python
class Solution:
    def findOcurrences(self, text: str, first: str, second: str) -> List[str]:
        ans = []
        words = text.split(" ")
        for i,_ in enumerate(words):
            if i < len(words)-2 and words[i] == first and words[i+1] == second:
                ans.append(words[i+2])
        return ans

# class Solution:
#     def findOcurrences(self, text: str, first: str, second: str) -> List[str]:
#         words = text.split()
#         return [words[i] for i in range(2, len(words)) if words[i - 2] == first and words[i - 1] == second]
```

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YWU3MDMzYTkwZDUxZTUzMDk1ZTNlNDBlMzYxYTM5ZDhfd0ZPaXlDZTlEaVlUSU9kMVZwQkl1UjRTMzBBV0RWTGtfVG9rZW46Ym94Y25aWmdncXpPNTRZTHhkbFQ2Z2tHa21jXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)



#### [1154. ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©](https://leetcode-cn.com/problems/day-of-the-year/)ï¼š4å¹´ä¸€é—°ï¼Œç™¾å¹´ä¸é—°

```C++
class Solution {
public:
    int dayOfYear(string date) {
        int days[12] = {31,28,31,30,31,30,31,31,30,31,30,31};       
        string yy = date.substr(0, 4);
        string mm = date.substr(5, 2);
        string dd = date.substr(8, 2);
        int y = stoi(yy), m = stoi(mm), d = stoi(dd);
        int ans = 0;
        if (((y%4==0)&&(y%100!=0))||(y%400==0)) days[1]++;
        for (int i = 0; i < m - 1; i++) ans += days[i];
        ans += d;
        return ans;
    }
};
class Solution:
    def dayOfYear(self, date: str) -> int:
        year, month, day = [int(_) for _ in date.split("-")]
        amount = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
        if year % 400 == 0 or (year % 4 == 0 and year % 100 != 0):
            amount[1] += 1
        ans = sum(amount[:month - 1])
        return ans + day
```



#### [1108. IP åœ°å€æ— æ•ˆåŒ–](https://leetcode.cn/problems/defanging-an-ip-address/)ï¼šå­—ç¬¦ä¸²æ¨¡æ‹Ÿ

> å­—ç¬¦ä¸²æ·»åŠ å­—ç¬¦ï¼

```C++
class Solution {
public:
    string defangIPaddr(string address) {
        string ans;
        for (auto a : address) {
            if (a == '.') ans.append("[.]");
            else ans.push_back(a);
        }
        return ans;
    }
};
```



#### [1175. è´¨æ•°æ’åˆ—](https://leetcode.cn/problems/prime-arrangements/)ï¼šæ‰¾è´¨æ•°+é˜¶ä¹˜

```C++
const int MOD = 1e9 + 7;

class Solution {
public:
    // è´¨æ•°åœ¨è´¨æ•°çš„ä½ç½®ä¸Š-->å…¨æ’åˆ—
    long getFactorial(int n) {
        long res = 1;
        for (int i = 1; i <= n; i++) {
            res *= i;
            res %= MOD;
        }
        return res;
    }
    bool isPrime(int n) {
        if (n == 1) return false;
        for (int i = 2; i <= sqrt(n); i++) {
            if (n % i == 0) return false;
        }
        return true;
    }
    int numPrimeArrangements(int n) {
        int primeCnt = 0;
        for (int i = 1; i <= n; i++) {
            if (isPrime(i)) primeCnt++;
        }
        int ans = (int)(getFactorial(primeCnt) * getFactorial(n - primeCnt) % MOD);
        return ans;
    }
};
```



#### [1184. å…¬äº¤ç«™é—´çš„è·ç¦»](https://leetcode.cn/problems/distance-between-bus-stops/)

> ç›´æ¥åŒæŒ‡é’ˆï¼Œå‰åæ–¹å‘è¿›è¡Œéå†

```C++
class Solution {
public:
    int distanceBetweenBusStops(vector<int>& distance, int start, int destination) {
        int n = distance.size();
        int i = start, j = start;
        int ans1 = 0, ans2 = 0;
        while (i != destination) {
            ans1 += distance[i];
            if (++i == n) i = 0;
        }
        while (j != destination) {
            if (--j < 0) j = n - 1;
            ans2 += distance[j];
        }
        return min(ans1, ans2);
    }
};
```







#### [1189. â€œæ°”çƒâ€ çš„æœ€å¤§æ•°é‡](https://leetcode-cn.com/problems/maximum-number-of-balloons/)ï¼šç»Ÿè®¡è¯é¢‘è®¡æ•°

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MDI2NDNmNmFkYzZhMjBiM2ZkNmZhMWIxYjljNjQxMjhfRHR4VEdjZUF1d3pZWnlGeU00dENBNlFBSHpYWW9IRURfVG9rZW46Ym94Y256YXRrMEVnZ1pnb2ZlWVZ0bjEyVEJiXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    // å°±æ˜¯ç»Ÿè®¡è¯é¢‘ï¼Œballoon: a:1, b:1, l:2, n:1, o:2
    int maxNumberOfBalloons(string text) {
        int cnt[5] = {0};
        for (auto c : text) {
            if (c == 'b') cnt[0]++;
            else if (c == 'a') cnt[1]++;
            else if (c == 'l') cnt[2]++;
            else if (c == 'o') cnt[3]++;
            else if (c == 'n') cnt[4]++;
        }
        cnt[2] /= 2, cnt[3] /= 2;
        int ans = cnt[0];
        for (int i = 0; i < 5; i++)
            ans = min(ans, cnt[i]);
        return ans;
    }
};
class Solution:
    def maxNumberOfBalloons(self, text: str) -> int:
        cnt = Counter(ch for ch in text if ch in "balon")
        cnt['l'] //= 2
        cnt['o'] //= 2
        return min(cnt.values()) if len(cnt) == 5 else 0
```



#### [1200. æœ€å°ç»å¯¹å·®](https://leetcode.cn/problems/minimum-absolute-difference/)

```C++
#include <limits.h>
class Solution {
public:
    vector<vector<int>> minimumAbsDifference(vector<int>& arr) {
        int n = arr.size();
        sort(arr.begin(), arr.end());

        int abs = INT_MAX;
        vector<vector<int>> ans;
        for (int i = 0; i < n - 1; i++) {
            int cur = arr[i + 1] - arr[i];
            vector<int> tmp = vector<int>{arr[i], arr[i + 1]};
            if (cur < abs) {
                abs = cur;
                // ans = {{arr[i], arr[i + 1]}};
                ans.clear();
                ans.push_back(tmp);
            }
            else if (cur == abs) {
                // ans.emplace_back(arr[i], arr[i + 1]);
                ans.push_back(tmp);
            }
        }
        return ans;
    }
};
class Solution {
public:
    vector<vector<int>> minimumAbsDifference(vector<int>& arr) {
        sort(arr.begin(), arr.end());
        int n = arr.size();
        int minDiff = INT_MAX;
        vector<vector<int>> ans;
        for (int i = 0; i < n - 1; ++i) {
            int diff = arr[i + 1] - arr[i];
            // å¦‚æœå·®å€¼å°äºæœ€å°å·®å€¼ï¼Œansä¸­çš„éƒ½ä¸æ»¡è¶³ç›´æ¥clearï¼Œå¦‚æœç­‰äºæœ€å°å·®å€¼ï¼Œåˆ™å°†è¯¥æ•°å¯¹åŠ å…¥
            if (diff <= minDiff) {
                if (diff < minDiff) {
                    minDiff = diff;
                    ans.clear();
                }
                ans.push_back({arr[i], arr[i + 1]});
            }
        }
        return ans;
    }
};
è¿™æ˜¯å¦ä¸€ç§çœ‹èµ·æ¥æ›´å¥½çš„å†™æ³•ï¼Œå‡ ä¹å®Œå…¨ä¸€æ ·
```



#### [1224. æœ€å¤§ç›¸ç­‰é¢‘ç‡](https://leetcode.cn/problems/maximum-equal-frequency/)ï¼šç›´æ¥è®¡æ•°æ¨¡æ‹Ÿ or å“ˆå¸Œ

**å›°éš¾é¢˜ï¼šã€ä¸‰å¶ã®é¢˜è§£ã€‘**

æˆ‘ä»¬**ä½¿ç”¨ cnt æ•°ç»„è®°å½•æ¯ä¸ªæ•°çš„å‡ºç°æ¬¡æ•°**ï¼ˆå³ cnt[i] = x å«ä¹‰ä¸ºæ•°å€¼ i çš„å‡ºç°æ¬¡æ•°ä¸º x æ¬¡ï¼‰ï¼Œä»¥åŠ**ä½¿ç”¨ sum æ¥è®°å½•å‡ºç°æ¬¡æ•°ä¸ºæŸä¸ªå€¼çš„æ•°æœ‰å¤šå°‘ä¸ª**ï¼ˆå³ sum[i] = x å«ä¹‰ä¸ºå‡ºç°æ¬¡æ•°ä¸º i çš„æ•°å€¼å…±æœ‰ x ä¸ªï¼‰ï¼ŒåŒæ—¶**ä½¿ç”¨ max æ¥è®°å½•æœ€å¤§å‡ºç°æ¬¡æ•°** **cnt[i]**ã€‚

ä»å‰å¾€åå¤„ç† numsï¼Œå‡è®¾å½“å‰å¤„ç†åˆ°çš„æ•°å€¼ä¸º t=nums[i]ï¼ˆå‰ç¼€æ‰€å«æ•°é‡ä¸º len=i+1ï¼‰ï¼Œæœ‰å¦‚ä¸‹å‡ ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥**æ›´æ–°æœ€å¤§é•¿åº¦ ans**ï¼š

- `max=1`ï¼šè¯´æ˜å½“å‰å¤„ç†åˆ°çš„æ‰€æœ‰ nums[i] å‡åªå‡ºç°äº†ä¸€æ¬¡ï¼Œæ­¤æ—¶ä»»æ„åˆ é™¤ä¸€ä¸ªå‡æ»¡è¶³è¦æ±‚ï¼›
- `max*sum[max]+1=len`ï¼šè¯´æ˜æœ‰ä¸€ä¸ªæ•°å€¼å•ç‹¬å‡ºç°äº†ä¸€æ¬¡ï¼ˆå…¶ä½™å‡ºç°æ¬¡æ•°ä¸º max çš„æ•°å€¼ + è¢«åˆ é™¤çš„ä¸€ä¸ªæ•° = æ€»æ•°é‡ lenï¼‰ï¼Œåˆ é™¤åå³æ»¡è¶³è¦æ±‚ï¼›
- `(maxâˆ’1)*(sum[maxâˆ’1]+1)+1=len`ï¼šè¯´æ˜å‡ºç°æ¬¡æ•°ä¸º max çš„æ•°å€¼åªæœ‰ä¸€ä¸ªï¼Œå…¶ä½™å‡ºç°æ¬¡æ•°å‡ä¸º max - 1ï¼Œå¯¹å…¶åˆ é™¤ä¸€æ¬¡åå³æ»¡è¶³è¦æ±‚ï¼ˆåˆ é™¤è¯¥å‡ºç°æ¬¡æ•°ä¸º max çš„æ•°å€¼åï¼Œä¼šå¯¼è‡´å‡ºç°æ¬¡æ•°ä¸º max - 1 çš„æ•°å€¼å¤šä¸€ä¸ªï¼Œæ­¤æ—¶æœ‰ã€Œå‡ºç°æ¬¡æ•°ä¸º max - 1 çš„æ•°å€¼ + è¢«åˆ é™¤çš„ä¸€ä¸ªæ•° = æ€»æ•°é‡ lenã€ï¼‰ã€‚

```C++
class Solution {
public:
    int maxEqualFreq(vector<int>& nums) {
        int cnt[100010] = {0};
        int sum[100010] = {0};
        int n = nums.size();
        int maxcnt = 0, ans = 0;

        for (int i = 0; i < n; i++) {
            int t = nums[i];        // å½“å‰æ•°å­—æ˜¯t
            int cur = ++ cnt[t];    // æ•°å­—tå‡ºç°æ¬¡æ•°cur
            int len = i + 1;        // å½“å‰å‰ç¼€é•¿åº¦
            sum[cur]++; sum[cur - 1]--;     // å‡ºç°curå’Œcur-1æ¬¡çš„æ•°æœ‰å‡ ä¸ªéƒ½è¦å˜
            maxcnt = max(maxcnt, cur);      // å‡ºç°æœ€å¤šçš„æ¬¡æ•°æ˜¯maxcnt

            if (maxcnt == 1) ans = len;
            if (maxcnt * sum[maxcnt] + 1 == len) ans = len;
            if ((maxcnt - 1) * (sum[maxcnt - 1] + 1) + 1 == len) ans = len;
        }
        return ans;
    }
};
```





#### [1260. äºŒç»´ç½‘æ ¼è¿ç§»](https://leetcode.cn/problems/shift-2d-grid/)ï¼šäºŒç»´æ•°ç»„ä¸€ç»´å±•å¼€

> å°†äºŒç»´æ•°ç»„å…ƒç´ ä¾æ¬¡å‘åè¿ç§»kæ­¥

```C++
class Solution {
public:
    vector<vector<int>> shiftGrid(vector<vector<int>>& grid, int k) {
        int m = grid.size(), n = grid[0].size();
        vector<vector<int>> ans(m, vector<int>(n));
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                int idx = (i * n + j + k) % (m * n);
                ans[idx / n][idx % n] = grid[i][j];
            }
        }
        return ans;
    }
};
```





#### [1342. å°†æ•°å­—å˜æˆ 0 çš„æ“ä½œæ¬¡æ•°](https://leetcode-cn.com/problems/number-of-steps-to-reduce-a-number-to-zero/)ï¼šç®€å•æ•°å­¦è®¡ç®—ï¼Œæ˜¯å¥‡æ˜¯å¶

```Dart
class Solution {
public:
    int numberOfSteps(int num) {
        int ans = 0;
        while(num != 0) {
            num = num % 2 == 0 ? num / 2 : num - 1;
            ans++;
        }
        return ans;
    }
};
```



#### [1380. çŸ©é˜µä¸­çš„å¹¸è¿æ•°](https://leetcode-cn.com/problems/lucky-numbers-in-a-matrix/)ï¼šè”æƒ³åˆ°807.åŸå¸‚å¤©é™…çº¿

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YjIwOTBkM2IxMmVmMjQ1ZDQxYjY2MmNkZDcxNzdiMDVfQXlHR2gyVGlYVUpQb3NpRU1BNHlCeU96enl4SXY1d01fVG9rZW46Ym94Y25yVEZUS3VIOFRJT3l1eGxXNVZCRFJnXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**æ³¨æ„C++å’ŒPythonä¸­æ— ç©·å¤§ã€æ— ç©·å°çš„å†™æ³•**

```C++
class Solution {
public:
    vector<int> luckyNumbers (vector<vector<int>>& matrix) {
        int m = matrix.size(), n = matrix[0].size();  // mè¡Œnåˆ—
        vector<int> rowMin(m, INT_MAX);
        vector<int> colMax(n, INT_MIN);
        for (int i = 0; i < m; ++i) {
            for (int j = 0; j < n; ++j) {
                rowMin[i] = min(rowMin[i], matrix[i][j]);
                colMax[j] = max(colMax[j], matrix[i][j]);
            }
        }
        vector<int> ans;
        for (int i = 0; i < m; ++i) {
            for (int j = 0; j < n; ++j) {
                if (matrix[i][j] == rowMin[i] && matrix[i][j] == colMax[j])
                    ans.push_back(matrix[i][j]);
            }
        }
        return ans;
    }
};
class Solution:
    def luckyNumbers (self, matrix: List[List[int]]) -> List[int]:
        m, n = len(matrix), len(matrix[0])
        rowMin = [float('inf') for _ in range(m)]
        colMax = [float('-inf') for _ in range(n)]
        for i in range(m):
            for j in range(n):
                rowMin[i] = min(rowMin[i], matrix[i][j])
                colMax[j] = max(colMax[j], matrix[i][j])
        ans = []
        for i in range(m):
            for j in range(n):
                if matrix[i][j] == rowMin[i] and matrix[i][j] == colMax[j]:
                    ans.append(matrix[i][j])
        return ans
```



#### [1374. ç”Ÿæˆæ¯ç§å­—ç¬¦éƒ½æ˜¯å¥‡æ•°ä¸ªçš„å­—ç¬¦ä¸²](https://leetcode.cn/problems/generate-a-string-with-characters-that-have-odd-counts/)

```C++
class Solution {
public:
    string generateTheString(int n) {
        if (n % 2 == 1) return string(n, 'a');
        else return string(n - 1, 'a') + 'b';
    }
};
```



#### [1408. æ•°ç»„ä¸­çš„å­—ç¬¦ä¸²åŒ¹é…](https://leetcode.cn/problems/string-matching-in-an-array/)

> åˆ¤æ–­æ˜¯å¦åŒ…å«å­ä¸²ï¼šç›´æ¥éå†ï¼Œ`words[j].find(words[i]) != string::npos`

```C++
class Solution {
public:
    vector<string> stringMatching(vector<string>& words) {
        vector<string> ans;
        int n = words.size();
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                if (i == j) continue;
                if (words[j].find(words[i]) != string::npos) {
                    ans.push_back(words[i]);
                    break;
                }
            }
        }
        return ans;
    }
};
```



#### [1413. é€æ­¥æ±‚å’Œå¾—åˆ°æ­£æ•°çš„æœ€å°å€¼](https://leetcode.cn/problems/minimum-value-to-get-positive-step-by-step-sum/)

> å·§å¦™åˆ©ç”¨ï¼Œæ¯æ¬¡æ±‚æœ€å°çš„ç´¯è®¡å’Œ

```C++
class Solution {
public:
    int minStartValue(vector<int>& nums) {
        int n = nums.size();
        int ans = INT_MAX;
        for (int i = 0, j = 1; i < n; i++) {
            j = j + nums[i];
            ans = min(ans, j);
        }
        return ans < 1 ? 2 - ans : 1;
    }
};
```



#### [1417. é‡æ–°æ ¼å¼åŒ–å­—ç¬¦ä¸²](https://leetcode.cn/problems/reformat-the-string/)

```TypeScript
class Solution {
public:
    string reformat(string s) {
        string digit;
        string chara;
        for (auto c : s) {
            if (c >= 'a' && c <= 'z') chara += c;
            else digit += c;
        }
        if (digit.size() < chara.size()) swap(digit, chara);
        int m = digit.size(), n = chara.size();
        int len = m + n;
        if (m - n > 1) return "";

        string ans;
        for (int i = 0; i < len; i++) {
            if (i % 2 == 0) ans += digit[--m];
            else ans += chara[--n];
        }
        return ans;
    }
};
```



#### [1422. åˆ†å‰²å­—ç¬¦ä¸²çš„æœ€å¤§å¾—åˆ†](https://leetcode.cn/problems/maximum-score-after-splitting-a-string/)ï¼šå‰ç¼€å’Œ or ç›´æ¥æ¨¡æ‹Ÿ

**æ³•1ï¼šå‰ç¼€å’Œ**

æ„å»ºå‰ç¼€å’Œæ•°ç»„æ¥è®°å½•æ¯ä¸ªå‰ç¼€ä¸­1çš„ä¸ªæ•°ï¼Œå¤æ‚åº¦ä¸ºO(n)ï¼Œæšä¸¾æ¯ä¸ªåˆ†å‰²ç‚¹ï¼Œæ­é…å‰ç¼€å’Œæ•°ç»„è®¡ç®—å·¦ä¸²ä¸­0çš„æ•°é‡å’Œå³ä¸²ä¸­1çš„æ•°é‡ï¼Œå–æ‰€æœ‰å¾—åˆ†çš„æœ€å¤§å€¼å³æ˜¯ç­”æ¡ˆã€‚

```C++
class Solution {
public:
    int maxScore(string s) {
        int n = s.size();
        vector<int> sum(n + 1);     // å‰ç¼€å’Œ sum[i]æ˜¯ç¬¬iä¸ªå‰1çš„ä¸ªæ•°
        int ans = 0;
        for (int i = 1; i <= n; i++) sum[i] = sum[i - 1] + (s[i - 1] - '0');
        for (int i = 1; i <= n - 1; i++) {
            int a = i - sum[i];
            int b = sum[n] - sum[i];
            ans = max(ans, a + b);
        }
        return ans;
    }
};
```

**æ³•2ï¼šç›´æ¥æ¨¡æ‹Ÿ**

```C++
class Solution {
public:
    int maxScore(string s) {
        int n = s.size();
        int cur = (s[0] == '0');
        for (int i = 1; i < n; i++) cur += (s[i] == '1');
        int ans = cur;      // åˆå§‹ï¼Œä»ç¬¬ä¸€ä¸ªåˆ’åˆ†
        for (int i = 1; i < n - 1; i++) {
            cur += (s[i] == '0' ? 1 : -1);      // æœ‰ä¸€ä¸ª1ä»å³ä¸²ä¸­ç§»åˆ°äº†å·¦ä¸²ï¼Ÿ
            ans = max(ans, cur);
        }
        return ans;
    }
};
```





#### 1436.æ—…è¡Œç»ˆç‚¹ç«™ï¼šå“ˆå¸Œè¡¨ï¼Œfor(auto i : v)

```C++
// å®˜æ–¹é¢˜è§£ï¼Œå»ºè®®çœ‹åŸé¢˜è®°å½•
class Solution {
public:
    string destCity(vector<vector<string>>& paths) {
        unordered_set<string> citiesA;
        for (auto &path : paths) { //for (auto path : paths)çœ‹èµ·æ¥ä¹Ÿè¡Œ
            citiesA.insert(path[0]);
        }
        for (auto &path : paths) {
            if (!citiesA.count(path[1])) {
                return path[1];
            }
        }
        return "";
    }
};
class Solution {
public:
    string destCity(vector<vector<string>>& paths) {
        unordered_map<string, int> out; //out è®°å½•å‡ºåº¦
        for (auto &p : paths) {
            out[p[0]]++; //out[p[1]]ä¸å˜ï¼Œè§æ¼”è‰æœ¬çš„ä¾‹å­
        }
        // for (auto [a,b] : out) è¿™æ˜¯é”™è¯¯çš„
        for (auto p : paths) {
            if (out[p[1]] == 0) {
                // return out[a];âŒ
                return p[1]; //æ³¨æ„ï¼Œæ˜¯æŠŠå¯¹åº”çš„åŸå¸‚åè¿”å›ï¼Œç±»å‹string
            }
        }
        return "";
    }
};
```



#### [1450. åœ¨æ—¢å®šæ—¶é—´åšä½œä¸šçš„å­¦ç”Ÿäººæ•°](https://leetcode.cn/problems/number-of-students-doing-homework-at-a-given-time/)

```C++
class Solution {
public:
    int busyStudent(vector<int>& startTime, vector<int>& endTime, int queryTime) {
        int ans = 0;
        int n = startTime.size();
        for (int i = 0; i < n; i++) {
            if (queryTime >= startTime[i] && queryTime <= endTime[i]) ans++;
        }
        return ans;
    }
};
```

 

#### [1455. æ£€æŸ¥å•è¯æ˜¯å¦ä¸ºå¥ä¸­å…¶ä»–å•è¯çš„å‰ç¼€](https://leetcode.cn/problems/check-if-a-word-occurs-as-a-prefix-of-any-word-in-a-sentence/)ï¼šç±»ä¼¼äºæ‰‹åŠ¨åˆ†è¯

> è¿™ä¸€é¢˜ä¸èƒ½ç›´æ¥æ‰¾æ˜¯å¦åŒ…å«searchwordï¼Œå› ä¸ºæ˜¯åˆ¤æ–­æ˜¯å¦æ˜¯å‰ç¼€ï¼

> ä¸å¦‚ç¡¬åšï¼šç›´æ¥æ¡ä»¶åˆ¤æ–­

```C++
class Solution {
public:
    int isPrefixOfWord(string sentence, string searchWord) {
        int idx = 1;
        int n = sentence.size(), m = searchWord.size();
        for (int i = 0; i < n; i++) {
            if (sentence[i] == ' ') idx++;
            if (i == 0 && sentence.substr(i, m) == searchWord) return idx;
            if (i > 0 && sentence[i - 1] == ' ' && sentence.substr(i, m) == searchWord) return idx;
        }
        return -1;
    }
};
```



#### [1460. é€šè¿‡ç¿»è½¬å­æ•°ç»„ä½¿ä¸¤ä¸ªæ•°ç»„ç›¸ç­‰](https://leetcode.cn/problems/make-two-arrays-equal-by-reversing-sub-arrays/)ï¼šç»Ÿè®¡è¯é¢‘

```C++
class Solution {
public:
    bool canBeEqual(vector<int>& target, vector<int>& arr) {
        int n = arr.size();
        int diff = 0;
        vector<int> cnt(1010);
        for (int i = 0; i < n; i++) {
            if (++cnt[target[i]] == 1) diff++;
            if (--cnt[arr[i]] == 0) diff--;
        }
        return diff == 0;
    }
};
```



#### [1464. æ•°ç»„ä¸­ä¸¤å…ƒç´ çš„æœ€å¤§ä¹˜ç§¯](https://leetcode.cn/problems/maximum-product-of-two-elements-in-an-array/)ï¼šç®€å•æ¨¡æ‹Ÿ

```C++
class Solution {
public:
    int maxProduct(vector<int>& nums) {
        int a = -1, b = -1;     // aæ˜¯è¾ƒå¤§è€…ï¼Œbæ˜¯è¾ƒå°è€…
        for (int x : nums ) {
            if (x > a) {
                b = a; a = x;
            } else if (x > b) {
                b = x;
            }
        }
        return (a - 1) * (b - 1);
    }
};
```



#### [1470. é‡æ–°æ’åˆ—æ•°ç»„](https://leetcode.cn/problems/shuffle-the-array/)ï¼šç®€å•æ¨¡æ‹Ÿ

```C++
class Solution {
public:
    vector<int> shuffle(vector<int>& nums, int n) {
        vector<int> ans(2 * n);
        for (int i = 0, j = n, k = 0; k < 2 * n; k++) {
            ans[k] = k % 2 == 0 ? nums[i++] : nums[j++];
        }
        return ans;
    }
};
```



#### [1475. å•†å“æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼](https://leetcode.cn/problems/final-prices-with-a-special-discount-in-a-shop/)ï¼šæ¨¡æ‹Ÿ or å•è°ƒæ ˆ

**æ³•1ï¼šç›´æ¥æ¨¡æ‹Ÿ**

```C++
class Solution {
public:
    vector<int> finalPrices(vector<int>& prices) {
        int n = prices.size();
        vector<int> ans(n);
        for (int i = 0; i < n; i++) {
            int k = 0;
            for (int j = i + 1; j < n && k == 0; j++) {
                if (prices[j] <= prices[i]) k = prices[j];
            }
            ans[i] = prices[i] - k;
        }
        return ans;
    }
};
```

**æ³•2ï¼š****å•è°ƒæ ˆ****ï¼ˆæ€è·¯å¾ˆå·§å¦™ï¼‰**

æ ¹æ®é¢˜æ„ï¼Œæˆ‘ä»¬çŸ¥é“è‹¥ nums[i] å­˜åœ¨æŠ˜æ‰£ï¼Œå¿…ç„¶æ˜¯è¢«å…¶å³è¾¹æœ€è¿‘ä¸€ä¸ªæ»¡è¶³ã€Œnums[j] <= nums[i]ã€çš„ nums[j] æ‰€æ›´æ–°ã€‚åè¿‡æ¥è¯´ï¼Œç»™å®šä¸€ä¸ª nums[j]ï¼Œå…¶æ‰€èƒ½æ›´æ–°çš„æ˜¯å…¶å·¦è¾¹æœ€è¿‘ä¸€ä¸ªæ»¡è¶³ã€Œnums[i] >= nums[j]ã€çš„ nums[i]ã€‚

å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ã€Œå•è°ƒæ ˆã€æ¥è¿›è¡Œæ±‚è§£ã€‚

å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½ä¸ä¾é ç»éªŒï¼Œè€Œä»é—®é¢˜çš„æœ¬èº«å‡ºå‘ï¼Œé€æ­¥åˆ†æå‡ºè¯¥åšæ³•ã€‚



å…·ä½“çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä»å‰å¾€åå¤„ç†æ‰€æœ‰çš„ nums[i]ï¼Œä½¿ç”¨æŸç±»å®¹å™¨**è£…è½½æˆ‘ä»¬æ‰€æœ‰çš„ã€Œå¾…æ‰“æŠ˜ã€çš„å•†å“ä¸‹æ ‡**ã€‚å‡è®¾å½“å‰å¤„ç†åˆ°çš„æ˜¯ nums[i]ï¼š

- è‹¥å…¶æ¯”å®¹å™¨å†…çš„ä»»æ„å•†å“ä»·æ ¼è¦é«˜ï¼Œå…¶å¿…ç„¶ä¸èƒ½æ›´æ–°ä»»ä½•ä¸€ä¸ªå¾…æ‰“æŠ˜å•†å“çš„ä»·æ ¼ï¼Œå°†å…¶ä¹ŸåŠ å…¥å®¹å™¨å°¾éƒ¨ï¼ˆæ­¤æ—¶æˆ‘ä»¬å‘ç°ï¼Œè‹¥æœ‰ä¸€ä¸ªæ–°çš„å•†å“åŠ å…¥å®¹å™¨ï¼Œå…¶å¿…ç„¶æ˜¯å½“å‰æ‰€æœ‰å¾…æ‰“æŠ˜å•†å“ä¸­çš„ä»·æ ¼æœ€é«˜çš„ï¼Œå³**å®¹å™¨å†…çš„å•†å“ä»·æ ¼å•è°ƒé€’å¢**ï¼‰ï¼›
- è‹¥å…¶ä»·æ ¼ä¸é«˜äºå®¹å™¨å†…çš„å•†å“ä»·æ ¼ï¼Œå…¶èƒ½å¤Ÿæ›´æ–°å®¹å™¨å†…å¾…æ‰“æŠ˜çš„å•†å“ä»·æ ¼ï¼Œå¹¶ä¸”ç”±äºæˆ‘ä»¬å®¹å™¨æ»¡è¶³å•è°ƒé€’å¢ç‰¹æ€§ï¼Œæˆ‘ä»¬å¿…ç„¶èƒ½å¤Ÿä»å°¾éƒ¨å¼€å§‹å–å‡ºå¾…æ‰“æŠ˜å•†å“æ¥è¿›è¡Œæ›´æ–°ï¼Œç›´åˆ°å¤„ç†å®Œæˆæˆ–é‡åˆ°ç¬¬ä¸€ä¸ªæ— æ³•æ›´æ–°ä»·æ ¼çš„å•†å“ã€‚

**ç”±äºæˆ‘ä»¬éœ€è¦å¾€å°¾éƒ¨æ·»åŠ å’Œå–å‡ºå…ƒç´ ï¼Œå› æ­¤å®¹å™¨å¯ä½¿ç”¨ã€Œæ ˆã€**ã€‚

```C++
class Solution {
public:
    vector<int> finalPrices(vector<int>& prices) {
        int n = prices.size();
        vector<int> ans = prices;
        stack<int> st;
        for (int i = 0; i < n; i++) {
            while (!st.empty() && prices[i] <= prices[st.top()]) {
                int idx = st.top();
                st.pop();
                ans[idx] = prices[idx] - prices[i];
            }
            st.push(i);
        }
        return ans;
    }
};
```

è‡³æ­¤ï¼Œæˆ‘ä»¬åˆ†æäº†å•è°ƒæ ˆåšæ³•çš„ä¸¤å¤§é‡ç‚¹ï¼šä¸ºä½•å•è°ƒ & ä¸ºä½•ç”¨æ ˆã€‚è‹¥å¯¹ã€Œå•è°ƒæ ˆã€ä»ä¸äº†è§£çš„åŒå­¦ï¼Œå¯ä»¥çœ‹å‰ç½® ğŸ§€ : **[å…³äº RMQ çš„è‹¥å¹²è§£æ³•](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247493262&idx=1&sn=2d8e192a5767b49b9a13a6192ab3b833)** ä¸­çš„ç¬¬å››ç§è§£æ³• ğŸ‰ğŸ‰ğŸ‰ã€‚







#### 1480.ä¸€ç»´æ•°ç»„çš„åŠ¨æ€å’Œï¼šåŠ¨è§„ æ™®æ™®é€šé€š

#### [1576. æ›¿æ¢æ‰€æœ‰çš„é—®å·](https://leetcode-cn.com/problems/replace-all-s-to-avoid-consecutive-repeating-characters/)ï¼šå­—ç¬¦çš„æ›¿æ¢ ç®€å•é¢˜

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NGQ5NGY0NGUyY2IzZjhhMDU3NGU2MjVhMzA4N2NiMWFfbUlTcExweHlBa1RjWXhMUmxxS0tnMDlvTHFJN2xwSE5fVG9rZW46Ym94Y25qTVZOQWJOWEZwVVFtWG5GRlhyNnZlXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```Python
class Solution:
    def modifyString(self, s: str) -> str:
        ls = list(s)
        n = len(s)
        for i in range(n):
            if ls[i] == '?':
                for p in "abc":
                    if (i >= 1 and ls[i-1] == p) or (i < n-1 and ls[i+1] == p):
                        continue
                    ls[i] = p
                    break
        return "".join(ls)
```



#### [1582. äºŒè¿›åˆ¶çŸ©é˜µä¸­çš„ç‰¹æ®Šä½ç½®](https://leetcode.cn/problems/special-positions-in-a-binary-matrix/)ï¼šçŸ©é˜µæ“ä½œ

å¯¹äºçŸ©é˜µæ“ä½œå¦‚ä½•å‡å°‘æ—¶é—´å¤æ‚åº¦ï¼šæœ¬é¢˜æ˜¯åˆ†åˆ«æŒ‰è¡ŒæŒ‰åˆ—ç»Ÿè®¡

```C++
class Solution {
public:
    int numSpecial(vector<vector<int>>& mat) {
        int m = mat.size(), n = mat[0].size();  // m*n
        int ans = 0;

        vector<int> row_sum(m);
        vector<int> col_sum(n);
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                row_sum[i] += mat[i][j];
                col_sum[j] += mat[i][j];
            }
        }

        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (mat[i][j] == 1 && row_sum[i] == 1 && col_sum[j] == 1) {
                    ans++;
                }
            }
        }
        return ans;
    }
};
```



#### [1592. é‡æ–°æ’åˆ—å•è¯é—´çš„ç©ºæ ¼](https://leetcode.cn/problems/rearrange-spaces-between-words/)ï¼šåŒæŒ‡é’ˆ+åˆ†è¯

> è¿™é‡Œä½¿ç”¨äº†ä¸€ç§å¯ä»¥ç»™å­—ç¬¦ä¸²èµ‹å€¼çš„æ–¹æ³•

```C++
class Solution {
public:
    string reorderSpaces(string text) {
        int n = text.size();
        int cnt = 0;
        vector<string> words;
        for (int i = 0; i < n; ) {
            if (text[i] == ' ') {
                i++; cnt++;
                continue;
            }
            int j = i;
            while (j < n && text[j] != ' ') j++;
            words.push_back(text.substr(i, j - i));
            i = j;
        }
        string ans;
        int m = words.size(), blank = cnt / max(m - 1, 1);
        for (int i = 0; i < m; i++) {
            ans += words[i];
            if (i != m - 1) ans.append(string(blank, ' '));
        }
        if (ans.size() != n) ans.append(string(cnt - (m - 1) * blank, ' '));
        return ans;
    }
};
```





#### [1614. æ‹¬å·çš„æœ€å¤§åµŒå¥—æ·±åº¦](https://leetcode-cn.com/problems/maximum-nesting-depth-of-the-parentheses/)ï¼šç®€å•åœ°â€˜(â€™ç´¯åŠ è®¡æ•°

```C++
class Solution {
public:
    int maxDepth(string s) {
        int n = s.size();
        int ans = 0;
        for(int i = 0, cnt = 0; i < n; ++i){
            if(s[i] == '(') cnt++;
            else if(s[i] == ')') cnt--;
            ans = max(ans, cnt);
        }
    return ans;
    }
};
```



#### [1629. æŒ‰é”®æŒç»­æ—¶é—´æœ€é•¿çš„é”®](https://leetcode-cn.com/problems/slowest-key/)ï¼šä¸€æ¬¡éå†æ‰¾æœ€å¤§

æ³¨æ„ç›´æ¥æ¯”è¾ƒå­—èŠ‚åº

```C++
class Solution {
public:
    // åªçœ‹æ¯æ¬¡çš„æœ€é•¿æŒç»­æ—¶é—´
    char slowestKey(vector<int>& releaseTimes, string keysPressed) {
        int n = releaseTimes.size();
        int p = 0, max = releaseTimes[0];
        for(int i = 1; i < n; i++){
            int cur = releaseTimes[i] - releaseTimes[i-1];
            if(cur > max){
                p = i;
                max = cur;
            }
            else if(cur == max && keysPressed[i] > keysPressed[p]){
                p = i;
            }
        }
        return keysPressed[p];
    }
};
```



#### [1656. è®¾è®¡æœ‰åºæµ](https://leetcode.cn/problems/design-an-ordered-stream/)

> åˆ¤æ–­æ•°ç»„ä¸­å…ƒç´ ä¸ºç©ºï¼Œ`**stream[idx].empty()**`

```C++
class OrderedStream {
public:
    vector<string> stream;
    int idx;

    OrderedStream(int n) {
        stream = vector<string>(n + 1);
        idx = 1;
    }
    
    vector<string> insert(int idKey, string value) {
        stream[idKey] = value;
        vector<string> ans;
        int n = stream.size();
        while (idx < n && !stream[idx].empty()) {
            ans.push_back(stream[idx++]);
        }
        return ans;
    }
};

/**
 * Your OrderedStream object will be instantiated and called as such:
 * OrderedStream* obj = new OrderedStream(n);
 * vector<string> param_1 = obj->insert(idKey,value);
 */
```





#### [1706. çƒä¼šè½ä½•å¤„](https://leetcode-cn.com/problems/where-will-the-ball-fall/)ï¼š

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ODZlODliMTYwNTY0NGYyNWRhYzM4ODUzZDdiNzZmN2ZfczhqSkZiTFZabUxGcnpQVlVNSjVUc2xkdTgxRVRnVThfVG9rZW46Ym94Y25tUmUzWGpsMlhMNnVYMkxwbW5WTGloXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**å†™æ³•1ï¼š**è¿›è¡Œä¸€ä¸ªåŠ¨æ€è§„åˆ’

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjU1M2M2YmQwOGNmZjgyNDlkYTE2MTBhMzI0YmRkMGFfZUVta0wwdlV4emtFYVltb1dRVUV1NjVOVlhxdW5EQkNfVG9rZW46Ym94Y25RUVJIMjU2RHlxdXdvOURUa0JlM0VlXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```Python
class Solution:
    def findBall(self, grid: List[List[int]]) -> List[int]:
        m, n = len(grid), len(grid[0])  # mè¡Œnåˆ—
        dp = {i : i for i in range(n)}
        for i in range(m):  # éå†æ¯ä¸€è¡Œ
            for j in list(dp.keys()):  # çœ‹æ¯ä¸€åˆ—çš„å€¼
                if grid[i][dp[j]] == 1:
                    if dp[j] == n-1 or grid[i][dp[j]+1] == -1: dp.pop(j)
                    else: dp[j] += 1
                elif grid[i][dp[j]] == -1:
                    if dp[j] == 0 or grid[i][dp[j]-1] == 1: dp.pop(j)
                    else: dp[j] -= 1
        return [dp[_] if _ in dp else -1 for _ in range(n)]
```

æ³¨æ„ï¼šè¿™æ ·å†™ä¼šè¶Šç•Œï¼ï¼

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NGJmYjkzYzRlMWRiMWI3Nzk0NWU2ZDQyZGU0OTY3Nzhfa2o5cW44RjdXdUNWU3BXa2hHUEF0ZEdLNmdoNWtCRkVfVG9rZW46Ym94Y25uUmpRVVFtRE1Kb1I5QWR6QmluTE5nXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**å†™æ³•2ï¼š**æ¯”ä¸Šé¢å“ªä¸ªæ›´å®¹æ˜“çœ‹æ‡‚ï¼Œåƒæ˜¯äººèƒ½å†™å‡ºæ¥çš„ä¸œè¥¿

ã€ä¸‰å¶ã€‘ã®é¢˜è§£æ€è·¯ï¼š

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MWEwMWI4ZTMzZjExOWEwYTA1NDc0NDc2MjFhYTA0MTNfTE44UktDQ3FYREh4eDFwWDhkd3RUeERJVlBPQjc1dVZfVG9rZW46Ym94Y253b3BRd2Jvb24xTW9hQTdNOHJGaExHXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    int m, n;
    vector<vector<int>> g;
    vector<int> findBall(vector<vector<int>>& grid) {
        g = grid;
        m = g.size(), n = g[0].size();
        vector<int> ans(n);
        for (int i = 0; i < n; ++i) {
            ans[i] = getVal(i);
        }
        return ans;
    }
    int getVal(int x) {
        int r = 0, c = x;
        while (r < m) {
            int ne = c + g[r][c];
            if (ne < 0 || ne >= n) return -1;
            if (g[r][c] != g[r][ne]) return -1;
            r++;
            c = ne;
        }
        return c;
    }
};
```

æœ€å®¹æ˜“ç†è§£çš„ä¸€ä¸ªå†™æ³•ï¼š

```C++
class Solution {
public:
    vector<int> findBall(vector<vector<int>>& grid) {
        int m = grid.size(), n = grid[0].size(); 
        vector<int> ans(n);  // å½“å‰æ±‚åœ¨ç¬¬å‡ åˆ—ï¼ˆ-1ä¸ºå¡ä½ï¼‰
        for (int j = 0; j < n; j++) ans[j] = j; 

        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (ans[j] == -1) continue;
                int col = ans[j]; 
                if (grid[i][col] == 1)
                    ans[j] = (col + 1 >= n || grid[i][col+1] == -1) ? -1 : col + 1; 
                else if (grid[i][col] == -1)
                    ans[j] = (col - 1 < 0 || grid[i][col-1] == 1) ? -1 : col - 1; 
            }
        }

        return ans; 
    }
};
```



#### [1725. å¯ä»¥å½¢æˆæœ€å¤§æ­£æ–¹å½¢çš„çŸ©å½¢æ•°ç›®](https://leetcode-cn.com/problems/number-of-rectangles-that-can-form-the-largest-square/)ï¼šç®€å•æ±‚æœ€å€¼

> æ•°ç»„å†…æ±‚minï¼Œç„¶åå†æ±‚max

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjE1ZjhkN2NlOTY3YjY4YjdiMzg0ZWE4NDA3OWZjOTNfZUdEaWY4aGJqTkZnTjRIT0w2WHEyZ0pGRUF6NnBpY2JfVG9rZW46Ym94Y253dXhzbjJoSFM2TDdsNHRmc0lCV1VlXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**ä¸€ç§ç®€å•çš„å†™æ³•ï¼š**

```C++
class Solution {
public:
    int countGoodRectangles(vector<vector<int>>& rectangles) {
        int ans = 0, maxLen = 0;
        int n = rectangles.size();
        for(int i = 0; i < n; ++i){
            int cur = min(rectangles[i][0], rectangles[i][1]);
            if(cur == maxLen)
                ans++;
            else if(cur > maxLen){
                maxLen = cur;  // æ‰¾çš„æ˜¯æœ€å¤§æ­£æ–¹å½¢
                ans = 1;
            }
        }
        return ans;
    }
};
```

**è¿˜æœ‰ä¸€ç§ç®€ä¾¿çš„C++å†™æ³•ï¼š**

```C++
class Solution {
public:
    int countGoodRectangles(vector<vector<int>>& rectangles) {
        int ans = 0, maxLen = 0;
        for(auto &rec : rectangles){
            int cur = min(rec[0], rec[1]);
            if(cur == maxLen)
                ans++;
            else if(cur > maxLen){
                maxLen = cur;  // æ‰¾çš„æ˜¯æœ€å¤§æ­£æ–¹å½¢
                ans = 1;
            }
        }
        return ans;
    }
};
# pythonåŸºç¡€å†™æ³•
class Solution:
    def countGoodRectangles(self, rectangles: List[List[int]]) -> int:
        ans, maxLen = 0, 0
        for a, b in rectangles:
            cur = min(a, b)
            if cur == maxLen:
                ans += 1
            elif cur > maxLen:
                maxLen = cur
                ans = 1
        return ans
        
# pythonçš„ç®€ç»ƒå†™æ³•â­
class Solution:
    def countGoodRectangles(self, rectangles: List[List[int]]) -> int:
        return cur.count(m) if (cur := [min(rec) for rec in rectangles]) and (m := max(cur)) else 0
```



#### [1763. æœ€é•¿çš„ç¾å¥½å­å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/longest-nice-substring/)ï¼šæœ´ç´ åœ°æšä¸¾

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NzcwY2ViOTc4YWRlZDlmYzhhOGI3MWJhYTliOWNjYzJfblpLY3lEMWVhb2xkZjBET2xqakV6UndiWTc1TU5DNjFfVG9rZW46Ym94Y25GMWtQeFBRblVJWGRsVmQxSTMzV3ZiXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**æ³•1ï¼šåˆ†æ²»æ€æƒ³**

å°†åŸé—®é¢˜æ‹†è§£æˆå­é—®é¢˜ï¼š**å¦‚æœæŸä¸ªå­—ç¬¦ï¼Œåœ¨å½“å‰å­—ç¬¦ä¸²ä¸­æ²¡æœ‰å®ƒå¯¹åº”çš„å¤§å†™æˆ–å°å†™å­—ç¬¦ï¼Œå®ƒå¿…ä¸èƒ½æ„æˆç­”æ¡ˆä¸­çš„ä¸€éƒ¨åˆ†ï¼Œç­”æ¡ˆåªèƒ½åœ¨å®ƒå·¦è¾¹æˆ–åœ¨å®ƒå³è¾¹**ã€‚

æˆ‘ä»¬è¿”å›è¯¥ç‚¹å·¦è¾¹æˆ–å³è¾¹æ›´é•¿çš„ç­”æ¡ˆå³ä¸ºç­”æ¡ˆã€‚

å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„å­—ç¬¦ï¼Œè¯´æ˜åŸå­—ç¬¦ä¸²æœ¬èº«å°±æ˜¯ç¾å¥½å­—ç¬¦ä¸²

```Python
class Solution:
    # åˆ†æ²»æ€æƒ³â­
    def longestNiceSubstring(self, s: str) -> str:
        if len(s) < 2:
            return ""
        for i, ch in enumerate(s):
            if ch.upper() not in s or ch.lower() not in s:
                return max(self.longestNiceSubstring(s[:i]), self.longestNiceSubstring(s[i+1:]), key = len)
        return s
```



**æ³•2ï¼šæšä¸¾ï¼Ÿ**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=M2ZmMjkwOWU3ODgyZGY0Njk5NzI5YzJhZmUwMjgxNThfSVlZQU9Ja3NlOFV1b1Rmelc0YVgwekNZanpLb3ZkOWlfVG9rZW46Ym94Y25PR2thdTN0SmJqRjRxenpHOEtTMk9kXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)







#### [1816. æˆªæ–­å¥å­](https://leetcode-cn.com/problems/truncate-sentence/)ï¼šç®€å•çš„åˆ‡ç‰‡ substr()



#### [1823. æ‰¾å‡ºæ¸¸æˆçš„è·èƒœè€…](https://leetcode-cn.com/problems/find-the-winner-of-the-circular-game/)ï¼šçº¦ç‘Ÿå¤«ç¯

**æ–¹æ³•ä¸€ï¼šç›´æ¥æ¨¡æ‹Ÿ**

- > åˆ©ç”¨æ•°æ®èŒƒå›´1 <= k <= n <= 500ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ ¹æ®è§„åˆ™è¿›è¡Œæ¨¡æ‹Ÿã€‚

- > åˆ›å»ºä¸€ä¸ªæ ‡è®°æ•°ç»„ visï¼Œè‹¥æœ‰ vis[idx] = true åˆ™ä»£è¡¨ç‚¹ç¼–å·ä¸º idx å·²è¢«æ·˜æ±°ï¼Œæ¯æ¬¡æˆ‘ä»¬éƒ½ä»å½“å‰ä½ç½® cur å¼€å§‹ï¼Œæ‰¾åˆ°ç¬¬ k ä¸ªå°šæœªæ·˜æ±°çš„ç‚¹ï¼ˆvis[idx] = falseï¼‰ï¼Œå¹¶å°†å…¶è¿›è¡Œæ ‡è®°ï¼ˆvis[idx] = trueï¼‰ï¼Œå…±æœ‰ n - 1 ä¸ªç‚¹éœ€è¦è¢«æ·˜æ±°ã€‚

- > ä¸€äº›ç»†èŠ‚ï¼Œä¸ºäº†æ–¹ä¾¿å–æ¨¡ï¼Œæˆ‘ä»¬è°ƒæ•´ç‚¹ç¼–å·ä» 11 å¼€å§‹ï¼Œåœ¨è¿”å›ç­”æ¡ˆæ—¶å†é‡æ–°è°ƒæ•´ä¸ºä» 11 å¼€å§‹ã€‚

```C++
class Solution {
public:
    int findTheWinner(int n, int k) {
        vector<bool> vis(n, false);
        int cnt = 0, cur = 0;
        while (cnt < n - 1) {
            for (int i = 0; i < k - 1; ++i) {
                cur++;
                while (vis[cur % n]) cur++;
            }
            vis[cur % n] = true;
            cnt++;
            cur++;
            while (vis[cur % n]) cur++;
        }
        return (cur % n) + 1;
    }
};
```

**æ–¹æ³•äºŒï¼šé€’å½’â­**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NjE2YTgyNmUyNDcwNDM2NTQwZTg0ZjdmNTVjM2JmZTBfTDFydGRqUEVwN2JVb01OOWQ5M3d0R2Z2OGVYeURiZUtfVG9rZW46Ym94Y25RUU80Z3dzdUxEckc2clhHclJ1MjhkXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
    int findTheWinner(int n, int k) {
        if (n <= 1)
            return n;
        int ans = (findTheWinner(n - 1, k) + k) % n;
        return ans == 0 ? n : ans;
    }
```

**æ–¹æ³•ä¸‰ï¼šçº¦ç‘Ÿå¤«ç¯çš„æ•°å­¦æ¨å¯¼**

[ã€è´Ÿé›ªæ˜çƒ›ã€‘ä½ èƒ½æ‰¾åˆ°çš„æœ€è¯¦ç»†çº¦ç‘Ÿå¤«ç¯æ•°å­¦æ¨å¯¼ï¼ - æ‰¾å‡ºæ¸¸æˆçš„è·èƒœè€… - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/find-the-winner-of-the-circular-game/solution/by-fuxuemingzhu-laof/)

```Java
    int findTheWinner(int n, int k) {
        int pos = 0;
        for (int i = 2; i < n + 1; ++i) {
            pos = (pos + k) % i;
        }
        return pos + 1;
```



#### [2000. åè½¬å•è¯å‰ç¼€](https://leetcode-cn.com/problems/reverse-prefix-of-word/)ï¼šfindå‡½æ•°ä½¿ç”¨æ–¹æ³•â­+pythonç®€æ´çš„åè½¬æ–¹æ³•

> é¢˜æ„ï¼šæŒ‡å®šå­—ç¬¦å¯»æ‰¾ä¸‹æ ‡è¿›è¡Œç¿»è½¬

findå‡½æ•°æ‰¾ï¼›reverseå‡½æ•°ç¿»è½¬ï¼ŸğŸ˜…

```C++
class Solution {
public:
    string reversePrefix(string word, char ch) {
        int idx = word.find(ch);
        if(idx != string::npos){
            reverse(word.begin(), word.begin() + idx + 1);
        }
        return word;
    }
};
class Solution:
    def reversePrefix(self, word: str, ch: str) -> str:
        idx = word.find(ch)
        return word if idx == -1 else word[:idx+1][::-1] + word[idx+1:]

# è§£æ³•2
class Solution:
    def reversePrefix(self, word: str, ch: str) -> str:
        return word if (idx:=word.find(ch)) == -1 else word[:idx+1][::-1] + word[idx+1:]
```



> **åŒæŒ‡é’ˆè¿›è¡Œç¿»è½¬ï¼Ÿï¼š**å…ˆä»å‰å¾€åéå†ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªchçš„ä¸‹æ ‡idxï¼ˆåˆå§‹å€¼-1ï¼‰ï¼Œç„¶åå¯¹[0,idx] åº”ç”¨**åŒæŒ‡é’ˆ**è¿›è¡Œç¿»è½¬ï¼ˆè‹¥æ²¡æœ‰chå­—ç¬¦ï¼Œåˆ™idx = -1ï¼Œåˆ™[0,idx] ä¸ºä¸åˆæ³•åŒºé—´ï¼Œç¿»è½¬è¿‡ç¨‹è¢«è·³è¿‡ï¼‰ã€‚

```C++
class Solution {
public:
    string reversePrefix(string word, char ch) {
        int n = word.size(), idx = -1;
        for(int i = 0; i < n && idx == -1; ++i){
            if(word[i] == ch)
                idx = i;
        }
        // ç”¨åŒæŒ‡é’ˆè¿›è¡Œç¿»è½¬
        int l = 0, r = idx;
        while(l < r){
            char ch = word[l];
            word[l++] = word[r];
            word[r--] = ch;
        }
        return word;
    }
};
```



#### [2016. å¢é‡å…ƒç´ ä¹‹é—´çš„æœ€å¤§å·®å€¼](https://leetcode-cn.com/problems/maximum-difference-between-increasing-elements/)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NmFjZWVhYTlmNWJhMGQ0NjI5NzVjNmQ0ZmJlNTFmNTZfb0w1TzM4T3FqUFRaMG5zMnNtOXR6OFFJc2pOR2Y4R3dfVG9rZW46Ym94Y252MXUySlFwbFBMejJxemM2a0NJM1JmXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    int maximumDifference(vector<int>& nums) {
        int n = nums.size(), ans = -1;
        int premin = nums[0];  // numså‰é¢çš„æœ€å°å€¼
        for (int i = 0; i < n; ++i) {
            if (nums[i] > premin) ans = max(ans, nums[i] - premin);
            else premin = min(premin, nums[i]);
        }
        return ans;
    }
};
```





#### [é¢è¯•é¢˜ 01.05. ä¸€æ¬¡ç¼–è¾‘](https://leetcode.cn/problems/one-away-lcci/)ï¼šåŒæŒ‡é’ˆæ¨¡æ‹Ÿï¼Œæ¯”è¾ƒå­—ç¬¦ä¸²

> ä¸ºäº†æ¯”è¾ƒå­—ç¬¦ä¸²ï¼Œæ˜¯å¦é€šè¿‡ä¸€æ¬¡ç¼–è¾‘å°±èƒ½å®ç°

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MDlkZmZhNDUxYTE0ZjE2NTNlNjU1OTc5YWUzOTVhMGZfd0k0dVJTNHFKS2FtdWl5em5UemE1VmlxT2t0TWpmSnlfVG9rZW46Ym94Y24yc0E5bEZYSWVxZ2d1SHBVZHN6OGJkXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**æ³•1ï¼šä¸€æ¬¡æ€§éå†ï¼Œåˆ†ç±»è®¨è®º**

```C++
#include <cmath>
class Solution {
public:
    bool oneEditAway(string first, string second) {
        int m = first.size(), n = second.size();
        if (m < n) return oneEditAway(second, first);
        if (m == n) {  // æ‰§è¡Œä¸€æ¬¡æ›¿æ¢
            for (int i = 0, dif = 0; i < m; i++) {
                if (first[i] != second[i]) dif++;
                if (dif > 1) return false;
            }
            return true;
        }
        if (m - n == 1) {  // æ‰§è¡Œä¸€æ¬¡åˆ é™¤
            for (int i = 0, dif = 0; i < m; i++) {
                if (first[i + dif] != second[i]) {  // difç›¸å½“äºåç§»é‡
                    dif++;
                    i--;  // ä»¥secondä¸ºåŸºå‡†ï¼Œå†æ¯”è¾ƒä¸€æ¬¡ç¬¬iä½
                }
                if (dif > 1) return false;
            }
            return true;
        }
        return false;
    }
};
```

**æ³•2ï¼šåŒæŒ‡é’ˆ**

```TypeScript
class Solution {
public:
    bool oneEditAway(string first, string second) {
        int m = first.size(), n = second.size();
        if (m < n) return oneEditAway(second, first);
        if (m - n > 1) return false;
        int i = 0, j = 0, dif = 0;
        while (i < m && j < n && dif <= 1) {
            if (first[i] == second[j]) {
                i++, j++;
            }
            else {
                if (m == n) {
                    i++, j++, dif++;  // è¯´æ˜æ˜¯ä¸€æ¬¡æ›¿æ¢
                }
                else {
                    i++, dif++;  // è¯´æ˜æ˜¯ä¸€æ¬¡åˆ é™¤
                }
            }
        }
        return dif <= 1 ? true : false;
    }
};
```



#### [é¢è¯•é¢˜ 17.11. å•è¯è·ç¦»](https://leetcode.cn/problems/find-closest-lcci/)

```C++
class Solution {
public:
    int findClosest(vector<string>& words, string word1, string word2) {
        int n = words.size();
        int p1 = -1, p2 = -1, ans = n;
        for (int i = 0; i < n; i++) {
            if (words[i] == word1) p1 = i;
            if (words[i] == word2) p2 = i;
            if (p1 != -1 && p2 != -1) ans = min(ans, abs(p1 - p2));
        }
        return ans;
    }
};
```









# æ•°æ®ç»“æ„

## (1)æ ˆ

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹

#### 20.æœ‰æ•ˆæ‹¬å·ï¼šC++å‡½æ•°ç”¨æ³•ï¼Œpythonæ ˆ+å“ˆå¸Œè¡¨

```C++
class Solution {
public:
    bool isValid(string s) {
        int n = s.size();
        if (n % 2 == 1)
            return false;

        unordered_map<char, char> pairs = {
            {')', '('},
            {']', '['},
            {'}', '{'}
        };
        stack<char> stk;
        for (char ch: s) {
            if (pairs.count(ch)) { //ä¸‹æ ‡ä¸ºchçš„åœ°æ–¹æœ‰æ•°æ®ï¼Œè¿™é‡Œæ˜¯æ ¹æ®å³æ‹¬å·æŸ¥å·¦ï¼Ÿ
                if (stk.empty() || stk.top() != pairs[ch])
                    return false;
                stk.pop();
            }
            else
                stk.push(ch);
        }
        return stk.empty();
    }
};
//æƒ³å¿…ï¼šif (pairs.count(ch)) æ˜¯çœ‹å½“å‰chæ˜¯å³æ‹¬å·ä¸æ˜¯ï¼Ÿè‹¥æ˜¯åˆ™è¿›å…¥if
//count(ch)æ˜¯æŸ¥æ‰¾ keyçš„å­˜åœ¨
//pairs[ch]æ˜¯ key->valueæŸ¥è¯¢
class Solution:
    def isValid(self, s: str) -> bool:
        # pythonç”¨åˆ—è¡¨æ¥å®ç°æ ˆå°±å¯ä»¥äº†ï¼æ–¹ä¾¿
        if len(s)%2 == 1:
            return False
        pairs = {
            ")": "(",
            "]": "[",
            "}": "{",
        } #å­—å…¸ï¼šä½œä¸ºå“ˆå¸Œè¡¨
        stack = list()
        for ch in s:
            if ch in pairs:
                if not stack or stack[-1]!=pairs[ch]: # stack[-1]å€’åºç¬¬1ä¸ªï¼Œå³æ ˆé¡¶
                    return False
                stack.pop()
            else:
                stack.append(ch)
        
        return not stack
```

#### [32. æœ€é•¿æœ‰æ•ˆæ‹¬å·](https://leetcode-cn.com/problems/longest-valid-parentheses/)ï¼šä¸è¦æƒ³ç®€å•äº† æ€è·¯ è¾¹ç•Œ

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MjM5NDkyYTdhM2ZhN2Y0MzNlZTUyOWUyNTBkM2YxYjBfalJ5UjZDR3hzRlYyUldFWDRvNEZVQUU2NjNEZUwzWUhfVG9rZW46Ym94Y25KR1owdkszRTgzSmRzcDNOcmVaMWdnXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

ç”¨æ ˆå®ç°çš„æ€è·¯æ˜¯ï¼š

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MWFiN2IwYzcxYThlODE4ZTY4NGYyYThiMDVhZDU1M2JfVEYzQUFXbjU1aWx4TFhmRmZUdHQzSmN4RWlTNnJKcGZfVG9rZW46Ym94Y25kYk92RTRrZmw2QXJBdE1teXpFQ0VoXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    int longestValidParentheses(string s) {
        int ans = 0;
        stack<int> stk;  // æ ˆä¸­å­˜æ”¾çš„æ˜¯æœªåŒ¹é…çš„æ‹¬å·çš„ä¸‹æ ‡
        // æ ˆåº•å…ƒç´ ä¸ºå½“å‰â€œæœ€åä¸€ä¸ªæ²¡æœ‰è¢«åŒ¹é…çš„å³æ‹¬å·çš„ä¸‹æ ‡â€
        stk.push(-1);
        for (int i = 0; i < s.length(); i++) {
            if (s[i] == '(') {
                stk.push(i);
            } else {  // æ˜¯')'åˆ™æŠŠå·¦æ‹¬å·ä¸‹æ ‡å‡ºæ ˆ
                stk.pop();
                // è¿™æ—¶ï¼Œçœ‹æ ˆä¸­è¿˜æœ‰æ²¡æœ‰ç­‰å¾…åŒ¹é…çš„å·¦æ‹¬å·
                if (stk.empty()) { // å¦‚æœæ²¡æœ‰å·¦æ‹¬å·äº†ï¼Œè¯´æ˜å½“å‰å³æ‹¬å·æ˜¯æ²¡æœ‰è¢«åŒ¹é…çš„
                    stk.push(i);  //æŠŠå½“å‰è¿™ä¸ªæœªåŒ¹é…çš„å³æ‹¬å·ä¸‹æ ‡æ”¾å…¥ï¼Œä½œä¸ºæ–°çš„èµ·ç‚¹ï¼
                } else { //å¦‚æœè¿˜æœ‰å·¦æ‹¬å·ç­‰å¾…åŒ¹é…
                    ans = max(ans, i - stk.top());
                }
                // stk.pop();
            }
        }
        return ans;
    }
};
```

**éœ€è¦è®°å½•ï¼šæœ€è¿‘çš„æœ€é•¿æ‹¬å·å¼€å§‹ä½ç½®ï¼ï¼**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YWE4ZTFlNGQ2OTljNDBkYmFlY2ExODJjZGQyMWIzOGZfNWVKNjBvOE1LbE02WkNMVWpOT3plYU1SdGU2WXdvY3BfVG9rZW46Ym94Y25jQlRvWHVST1dOMmhycVVSekFYS1hiXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)



#### 155.æœ€å°æ ˆ

```Python
class MinStack:

    def __init__(self):
        self.stack = []
        self.min_stack = [math.inf]

    def push(self, val: int) -> None:
        self.stack.append(val)
        # self.min_stack.append(min(val, min_stack[-1])) æœ‰ä¸ªé”™è¯¯ï¼å¿˜è®°å†™selfäº†ï¼ï¼
        self.min_stack.append(min(val, self.min_stack[-1]))

    def pop(self) -> None:
        self.stack.pop()
        self.min_stack.pop()

    def top(self) -> int:
        return self.stack[-1]

    def getMin(self) -> int:
        return self.min_stack[-1]

# Your MinStack object will be instantiated and called as such:
# obj = MinStack()
# obj.push(val)
# obj.pop()
# param_3 = obj.top()
# param_4 = obj.getMin()
```

#### [232. ç”¨æ ˆå®ç°é˜Ÿåˆ—](https://leetcode-cn.com/problems/implement-queue-using-stacks/)ï¼šåŒæ ˆ



#### [636. å‡½æ•°çš„ç‹¬å æ—¶é—´](https://leetcode.cn/problems/exclusive-time-of-functions/)ï¼šæ ˆ æ¨¡æ‹Ÿå‡½æ•°æ‰§è¡Œ

> `c_str()`å‡½æ•°çš„ç”¨æ³•ï¼ï¼å¯ä»¥ç”¨äºæ ¼å¼åŒ–åˆ†å‰²å­—ç¬¦ä¸²å†…å®¹

```C++
char type[10];
int idx, timestamp;
sscanf(log.c_str(), "%d:%[^:]:%d", &idx, type, &timestamp);

// if (log.find("start") != string::npos)
```

è‡ªå·±å†™çš„ä¸€ç§è§£æ³•ï¼š

```C++
class Solution {
public:
    vector<int> exclusiveTime(int n, vector<string>& logs) {
        vector<int> ans(n);
        stack<int> st;
        int last = -1;
        for (string log : logs) {
            int i = 0, j = log.size() - 1;
            while (log[i] != ':') i++;
            while (log[j] != ':') j--;
            int idx = stoi(log.substr(0, i));
            int t = stoi(log.substr(j + 1));

            if (log[i + 1] == 's') {  // å¼€å§‹æˆ–é‡æ–°å¼€å§‹
                if (!st.empty()) {
                    int func = st.top();
                    ans[func] += t - last;  // è®°å½•å½“å‰stä¸­å·²ç»æ‰§è¡Œçš„æ—¶é—´
                }
                st.push(idx);
                last = t;
            } else {  // è¡¨ç¤ºç»“æŸæ‰§è¡Œ
                int func = st.top();
                st.pop();
                ans[func] += t - last + 1;
                last = t + 1;
            }
        }
        return ans;
    }
};
```



#### [946. éªŒè¯æ ˆåºåˆ—](https://leetcode.cn/problems/validate-stack-sequences/)ï¼šåˆ©ç”¨æ ˆæ¥æ¨¡æ‹Ÿå…¶è¡Œä¸º

```C++
class Solution {
public:
    bool validateStackSequences(vector<int>& pushed, vector<int>& popped) {
        stack<int> st;
        int n = pushed.size();
        for (int i = 0, j = 0; i < n; i++) {
            st.push(pushed[i]);
            while (!st.empty() && st.top() == popped[j]) {
                st.pop();
                j++;
            }
        }
        return st.empty();
    }
};
```





#### [1047. åˆ é™¤å­—ç¬¦ä¸²ä¸­ç›¸é‚»é‡å¤é¡¹](https://leetcode-cn.com/problems/remove-all-adjacent-duplicates-in-string/)ï¼šstringç±»ä¼¼vectorçš„ç”¨æ³• æ˜æ˜ç”¨æ ˆå°±å¾ˆå¥½

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=M2QzNTUyM2ExNzM0NGIyZmRkN2RmZTY2ZjJmMjliYmNfaXE0ZjVncEVkNk1KRE9mTG1YazhzdWxaN0tjcWlzemFfVG9rZW46Ym94Y25QaHpRbTBJc3FtSmI3SkM1dFRJUGJkXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

å®˜æ–¹ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²çš„æ“ä½œï¼šæ˜¾ç„¶ç”¨æ ˆæ¯”è¾ƒå¥½ï¼Œè¿™é‡Œ**æŠŠstringå½“æ ˆç”¨**

```C++
class Solution {
public:
    string removeDuplicates(string s) {
        string stk;
        for (char ch : s) {
            if (!stk.empty() && stk.back() == ch) {
                stk.pop_back();
            } else {
                stk.push_back(ch);
            }
        }
        return stk;
    }
};
```

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YmJjNzM0Y2QxNzk0ZTc5MTE5NmM5YjQ1YzVlZjAyNzNfeVg5NG9PVVNyNWIySm54aXUwaWpXYVo5eWh3c0k1R1VfVG9rZW46Ym94Y25YOUJJWnkwZHJ5TFo2MnJsY29LSFBIXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)







## 

## (3)é˜Ÿåˆ—

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹

#### [622. è®¾è®¡å¾ªç¯é˜Ÿåˆ—](https://leetcode.cn/problems/design-circular-queue/)ï¼šæ¨¡æ‹Ÿå¾ªç¯é˜Ÿåˆ—

#### [641. è®¾è®¡å¾ªç¯åŒç«¯é˜Ÿåˆ—](https://leetcode.cn/problems/design-circular-deque/)ï¼šæ¨¡æ‹Ÿï¼Œæ•°ç»„orå¾ªç¯é“¾è¡¨

> ç±»ä¼¼äº[622. è®¾è®¡å¾ªç¯é˜Ÿåˆ—](https://leetcode.cn/problems/design-circular-queue/)ï¼Œè§ä¸Šæ–‡



**æ³•1ï¼šç›´æ¥ç”¨æ•°ç»„æ¨¡æ‹Ÿï¼Œé•¿åº¦ä» n = k + 1**

> æ ¹æ®å¾ªç¯é˜Ÿåˆ—çš„å®šä¹‰ï¼Œ

> é˜Ÿåˆ—åˆ¤ç©ºçš„æ¡ä»¶æ˜¯front=rearï¼Œ

> é˜Ÿåˆ—åˆ¤æ»¡çš„æ¡ä»¶æ˜¯front=(rear+1) mod capacity

> å¯¹å›ºå®šå¤§å°çš„æ•°ç»„ï¼ŒçŸ¥é“é˜Ÿå°¾ä¸é˜Ÿé¦–å³å¯ç®—å‡ºé˜Ÿåˆ—å½“å‰çš„é•¿åº¦(rearâˆ’front+capacity) mod capacity

- frontï¼šé˜Ÿåˆ—é¦–å…ƒç´ å¯¹åº”çš„æ•°ç»„çš„ç´¢å¼•ã€‚
- tailï¼šé˜Ÿåˆ—å°¾å…ƒç´ å¯¹åº”çš„ç´¢å¼•çš„ä¸‹ä¸€ä¸ªç´¢å¼•ã€‚

```C++
class MyCircularDeque {
private:
    vector<int> deq;
    int front, tail;
    int n;
public:
    MyCircularDeque(int k) {
        front = tail = 0;
        n = k + 1;
        deq = vector<int>(n);
    }

    bool isEmpty() {
        return tail == front;
    }
    
    bool isFull() {
        return (tail + 1) % n == front;
    }
    
    bool insertFront(int value) {
        if (isFull()) return false;
        front = (front - 1 + n) % n;
        deq[front] = value;
        return true;
    }
    
    bool insertLast(int value) {
        if (isFull()) return false;
        deq[tail] = value;
        tail = (tail + 1) % n;
        return true;
    }
    
    bool deleteFront() {
        if (isEmpty()) return false;
        front = (front + 1) % n;
        return true;
    }
    
    bool deleteLast() {
        if (isEmpty()) return false;
        tail = (tail - 1 + n) % n;
        return true;
    }
    
    int getFront() {
        if (isEmpty()) return -1;
        return deq[front];
    }
    
    int getRear() {
        if (isEmpty()) return -1;
        return deq[(tail - 1 + n) % n];
    }
};

/**
 * Your MyCircularDeque object will be instantiated and called as such:
 * MyCircularDeque* obj = new MyCircularDeque(k);
 * bool param_1 = obj->insertFront(value);
 * bool param_2 = obj->insertLast(value);
 * bool param_3 = obj->deleteFront();
 * bool param_4 = obj->deleteLast();
 * int param_5 = obj->getFront();
 * int param_6 = obj->getRear();
 * bool param_7 = obj->isEmpty();
 * bool param_8 = obj->isFull();
 */
```

æ³•2ï¼šé“¾è¡¨

```C++
struct Node {
    int val;
    Node* last;
    Node* next;
    Node(int k): val(k), last(NULL), next(NULL) {}
};

class MyCircularDeque {
private:
    Node* head;
    Node* tail;
    int capacity;
    int n;
public:
    MyCircularDeque(int k): capacity(k), n(0), head(NULL), tail(NULL){}

    bool isEmpty() {
        return n == 0;
    }    
    bool isFull() {
        return n == capacity;
    }
    
    bool insertFront(int value) {
        if (isFull()) return false;
        Node* p = new Node(value);
        if (n == 0) {
            head = p;
            tail = p;
        } else {
            p->next = head;
            head->last = p;
            head = p;

            // tail->next = head;
        }
        n++;
        return true;
    }
    
    bool insertLast(int value) {
        if (isFull()) return false;
        Node* p = new Node(value);
        if (n == 0) {
            head = p;
            tail = p;
        } else {
            tail->next = p;
            p->last = tail;
            tail = p;

            // head->last = tail;
        }
        n++;
        return true;
    }
    
    bool deleteFront() {
        if (isEmpty()) return false;
        Node* p = head;
        head = head->next;
        if (head != NULL) head->last = NULL;
        delete p;
        n--;
        return true;
    }
    
    bool deleteLast() {
        if (isEmpty()) return false;
        Node* p = tail;
        tail = tail->last;
        if (tail != NULL) tail->next = NULL;
        delete p;
        n--;
        return true;
    }
    
    int getFront() {
        if (isEmpty()) return -1;
        return head->val;
    }
    
    int getRear() {
        if (isEmpty()) return -1;
        return tail->val;
    }
};
```















#### [933. æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•°](https://leetcode-cn.com/problems/number-of-recent-calls/)ï¼š

> å…³é”®åœ¨äºçœ‹æ‡‚é¢˜æ„ï¼šæ¯æ¬¡tå…¥é˜Ÿï¼›å–åœ¨é˜Ÿä¸­çš„ä»‹äº[t-3000, t]çš„å…ƒç´ ä¸ªæ•°

```C++
class RecentCounter {
public:
    queue<int> q;

    RecentCounter() {}
    
    int ping(int t) {
        q.push(t);
        while (q.front() < t - 3000) q.pop();
        return q.size();
    }
};
```

æ— éå°±æ˜¯ç»ƒä¹ äº†ä¸€ä¸‹é˜Ÿåˆ—çš„ä½¿ç”¨







## (4)å•è°ƒé˜Ÿåˆ—





## (5)äºŒå‰æ ‘

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹

**é‡è¦æ€§è´¨ï¼š**

- **äºŒå‰æœç´¢æ ‘orå®Œå…¨äºŒå‰æ’åºæ ‘ï¼šä¸­åºéå†å¯ä»¥å¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—ï¼ï¼**





#### [449. åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘](https://leetcode.cn/problems/serialize-and-deserialize-bst/)ï¼šâ­

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YTU3MjU3ZTAxNzY1M2U2ZmViMTMyNTY4ZWQwODE4MmFfalJJTnBvRXREZ0htR05ld2o0cUFienFNU3N6Vnh0dzhfVG9rZW46Ym94Y25jcUNxWDgzcWhsWFRKNDJidjY3VVdiXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

- > æ ¹--å·¦--å³

- > è½¬æˆå­—ç¬¦è½¬åï¼Œå†è½¬å›æ¥ï¼Œ**æ€è€ƒï¼šä¸¤ä½æ•°çš„æƒ…å†µï¼Œè¦ç‰¹æ®Šå¤„ç†â­**

```C++
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode(int x) : val(x), left(NULL), right(NULL) {}
 * };
 */
class Codec {
public:
    void seHandler(vector<int>& list, TreeNode* root) {
        if (root == NULL) return;
        list.push_back(root->val);
        seHandler(list, root->left);
        seHandler(list, root->right);
    }
    // Encodes a tree to a single string.
    string serialize(TreeNode* root) {
        vector<int> list;
        string se;
        seHandler(list, root);
        for (auto n : list) se += to_string(n) + ',';
        return se;
    }

    TreeNode* deHandler(vector<int>& list, int lb, int rb) {
        if (lb > rb) return NULL;
        TreeNode* root = new TreeNode(list[lb]);  //å…ˆæ˜¯æ ¹
        int border = rb + 1;
        for (int i = lb + 1; i <= rb; i++) {
            if (list[i] < list[lb]) {
                continue;  // æ¯”æ ¹å°ï¼Œæ˜¯å·¦å­æ ‘
            }
            else {
                border = i;
                break;
            }
        }
        root->left = deHandler(list, lb + 1, border - 1);
        root->right = deHandler(list, border, rb);

        return root;
    }
    // Decodes your encoded data to tree.
    TreeNode* deserialize(string data) {
        if (data == "") return NULL;
        vector<int> list;
        string curNum = "";
        for (auto s : data) {
            if (s == ',') {
                list.push_back(stoi(curNum));
                curNum = "";
            }
            else curNum += s;
        }
        return deHandler(list, 0, list.size() - 1);  // è¦è§„å®šå¥½listçš„å·¦å³è¾¹ç•Œ
    }
};

// Your Codec object will be instantiated and called as such:
// Codec* ser = new Codec();
// Codec* deser = new Codec();
// string tree = ser->serialize(root);
// TreeNode* ans = deser->deserialize(tree);
// return ans;
```

å‡çº§å†™æ³•ï¼š

```C++
class Codec {
public:
    int idx = 0;
    int n;
    // Encodes a tree to a single string.
    string serialize(TreeNode* root) {
        if(root == NULL) return "";
        string ans = "";
        ans += to_string(root->val) + ",";
        ans += serialize(root->left) + ",";
        ans += serialize(root->right);
        return ans;
    }
    // Decodes your encoded data to tree.
    TreeNode* deserialize(string& data) { // æ­¤å¤„å¼•ç”¨ä¼ é€’ï¼Œé¿å…å€¼æ‹·è´ï¼Œæé«˜æ•ˆç‡
        n = data.size();
        if(idx >= n) return NULL;
        string num = "";
        while(idx < n && data[idx] != ',') {
            num += data[idx];
            ++idx;
        }
        ++idx;    // è·³è¿‡é€—å·
        if(num == "") return NULL;
        TreeNode* root = new TreeNode(stoi(num));
        root->left = deserialize(data);
        root->right = deserialize(data);
        return root;
    }
};
```



#### [450. åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹](https://leetcode.cn/problems/delete-node-in-a-bst/)ï¼šåˆ é™¤äºŒå‰æ ‘çš„èŠ‚ç‚¹

> ç›´æ¥è°ƒç”¨äº†`delete`å‡½æ•°ï¼Œä¸å¦‚åä¸ºojè§„èŒƒ

```PHP
/* Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    TreeNode* deleteNode(TreeNode* root, int key) {
        //ç¬¬ä¸€ç§æƒ…å†µï¼Œä¸å­˜åœ¨è¢«åˆ é™¤èŠ‚ç‚¹
        if (root == NULL) return root;
        if (root->val == key) {
            //ç¬¬äºŒç§æƒ…å†µï¼Œåˆ é™¤èŠ‚ç‚¹å·¦å³å­©å­éƒ½ä¸ºç©º
            if (root->left == NULL && root->right == NULL) {
                delete root;
                return NULL;
            }
            //ç¬¬ä¸‰ç§æƒ…å†µï¼Œå·¦å­©å­ä¸ä¸ºç©ºï¼Œå³å­©å­ä¸ºç©º
            if (root->left != NULL && root->right == NULL) {
                TreeNode* node = root->left;
                delete root;
                return node;
            }
            //ç¬¬å››ç§æƒ…å†µï¼Œå·¦å­©å­ä¸ºç©ºï¼Œå³å­©å­ä¸ä¸ºç©º
            if (root->left == NULL && root->right != NULL) {
                TreeNode* node = root->right;
                delete root;
                return node;
            }
            //ç¬¬äº”ç§æƒ…å†µï¼Œéƒ½ä¸ä¸ºç©ºï¼Œå°†å·¦å­æ ‘æ”¾åˆ°å³å­æ ‘çš„æœ€å·¦ä¾§
            if (root->left != NULL && root->right != NULL) {
                TreeNode* node = root->right;
                while (node->left != NULL) {
                    node = node->left;
                }
                node->left = root->left;
                TreeNode* tmp = root->right;
                delete root;
                return tmp;
            }
        }
        if (root->val > key) root->left = deleteNode(root->left, key);
        if (root->val < key) root->right = deleteNode(root->right, key);
        return root;
    }
};
```



#### [513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼](https://leetcode.cn/problems/find-bottom-left-tree-value/)ï¼šdfs+bfsæ¨¡æ¿ 

æ³•1ï¼šdfsï¼Œç”¨å…¨å±€å˜é‡è®°å½•ç»“æœï¼

```C++
class Solution {
public:
    int maxDep, ans = 0;
    int findBottomLeftValue(TreeNode* root) {
        dfs(root, 1);
        return ans;
    }
    void dfs(TreeNode* root, int depth) {
        if (root == NULL) return;
        if (depth > maxDep) {
            maxDep = depth;
            ans = root->val;
        }
        dfs(root->left, depth + 1);
        dfs(root->right, depth + 1);
    }
};
```

æ³•2ï¼šbfs

éœ€è¦å…ˆæŠŠå®ƒçš„éç©ºå³å­èŠ‚ç‚¹æ”¾å…¥é˜Ÿåˆ—ï¼Œç„¶åå†æŠŠå®ƒçš„éç©ºå·¦å­èŠ‚ç‚¹æ”¾å…¥é˜Ÿåˆ—ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯ä»å³åˆ°å·¦éå†æ¯ä¸€å±‚çš„èŠ‚ç‚¹

```C++
class Solution {
public:
    int findBottomLeftValue(TreeNode* root) {
        int ans = 0;
        queue<TreeNode *> q;
        q.push(root);
        while (!q.empty()) {
            TreeNode* p = q.front();
            q.pop();
            if (p->right) q.push(p->right);
            if (p->left) q.push(p->left);  // æ‰¾å‡ºå·¦ä¸‹è§’ï¼Œå› æ­¤è¦åŒºåˆ†é¡ºåºï¼Œå…ˆå³å†å·¦
            ans = p->val;
        }
        return ans;
    }
};
```



#### [515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼](https://leetcode.cn/problems/find-largest-value-in-each-tree-row/)

bfs

```C++
class Solution {
public:
    vector<int> largestValues(TreeNode* root) {
        if (root == NULL) return {};
        vector<int> res;
        queue<TreeNode*> q;
        q.push(root);
        while (!q.empty()) {
            int len = q.size();
            int maxVal = INT_MIN;
            while (len > 0) {
                len--;
                TreeNode* p = q.front();
                q.pop();
                maxVal = max(maxVal, p->val);
                if (p->left) q.push(p->left);
                if (p->right) q.push(p->right);
            }
            res.push_back(maxVal);
        }
        return res;
    }
};
```



#### [563. äºŒå‰æ ‘çš„å¡åº¦](https://leetcode-cn.com/problems/binary-tree-tilt/)ï¼šé€’å½’åœ°è¿›è¡Œdfs

> å‘ä¸Šè®°å½•æ¯ä¸€å±‚çš„å¡åº¦

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NDYwN2IyYzA2NTZjMDRhYTY0NTA5ZWRlYjAzNzQ4ZDZfMlRkd0JodFBUV2VTMGY0dUh0ajVzN3pBYWNkN2pGNEVfVG9rZW46Ym94Y25vMVlqaUZaTFNmZDZlMmQ4alVVQmJoXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    int ans = 0; //è®°å½•æ¯æ¬¡æœç´¢ä¸­ï¼Œæš‚æ—¶ç”¨åˆ°çš„è¿”å›ç»“æœ
    int findTilt(TreeNode* root) {
        dfs(root);
        return ans;
    }

    int dfs(TreeNode* node){
        if(node == NULL)
            return 0;
        int sumLeft = dfs(node->left); //å·¦è¾¹çš„å’Œï¼Œæ‰€ä»¥dfs()çš„è¿”å›å€¼ä¹Ÿåº”...â­
        int sumRight = dfs(node->right);
        ans += abs(sumLeft - sumRight);
        return sumLeft + sumRight + node->val;
    }
};
```



#### [623. åœ¨äºŒå‰æ ‘ä¸­å¢åŠ ä¸€è¡Œ](https://leetcode.cn/problems/add-one-row-to-tree/)ï¼šè®°å½•æ·±åº¦çš„bfs & dfs

> ä¸å¤ªä¸€æ ·çš„bfså’Œdfsï¼Œç”±äºè®°å½•äº†æ·±åº¦

**æ³•1ï¼šbfs**

```PHP
class Solution {
public:
    // bfs
    TreeNode* addOneRow(TreeNode* root, int val, int depth) {
        if (depth == 1) {
            TreeNode* ans = new TreeNode(val);
            ans->left = root;
            return ans;
        }
        queue<TreeNode*> q;
        q.push(root);
        int cur = 1;
        while (!q.empty()) {
            int n = q.size();
            while (n-- > 0) {
                TreeNode* p = q.front();
                q.pop();
                if (cur == depth - 1) {
                    TreeNode* addl = new TreeNode(val);
                    TreeNode* addr = new TreeNode(val);
                    addl->left = p->left, addr->right = p->right;
                    p->left = addl, p->right = addr;
                } else {
                    if (p->left != NULL) q.push(p->left);
                    if (p->right != NULL) q.push(p->right);
                }
            }
            cur++;
        }
        return root;
    }
};
```

**æ³•2ï¼šdfs**

```PHP
class Solution {
public:
    // dfs
    int g_dep;
    int v;

    void dfs(TreeNode* root, int cur) {
        if (root == NULL) return;
        if (cur == g_dep - 1) {
            TreeNode* addl = new TreeNode(v);
            TreeNode* addr = new TreeNode(v);
            addl->left = root->left, addr->right = root->right;
            root->left = addl, root->right = addr;
        } else {
            dfs(root->left, cur + 1);
            dfs(root->right, cur + 1);
        }
    }

    TreeNode* addOneRow(TreeNode* root, int val, int depth) {
        g_dep = depth;
        v = val;
        if (g_dep == 1) {
            TreeNode* ans = new TreeNode(v);
            ans->left = root;
            return ans;
        }
        dfs(root, 1);
        return root;
    }
};
```



#### [654. æœ€å¤§äºŒå‰æ ‘](https://leetcode.cn/problems/maximum-binary-tree/)ï¼šçº¯ç²¹çš„é€’å½’ or å•è°ƒæ ˆ

**æ³•1ï¼šé€’å½’**

```C++
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    TreeNode* constructMaximumBinaryTree(vector<int>& nums) {
        return buildTree(nums, 0, nums.size() - 1);
    }
    TreeNode* buildTree(vector<int>& nums, int l, int r) {
        if (l > r) return NULL;
        int idx = l;
        for (int i = l; i <= r; i++) {
            if (nums[i] > nums[idx]) idx = i;
        }
        TreeNode* ans = new TreeNode(nums[idx]);
        ans->left = buildTree(nums, l, idx - 1);
        ans->right = buildTree(nums, idx + 1, r);
        return ans;
    }
};
```

**æ³•2ï¼šå•è°ƒæ ˆï¼Ÿ**

æˆ‘ä»¬ä¹Ÿå¯ä»¥è¾¹éå†è¾¹æ„é€ äºŒå‰æ ‘çš„å„ä¸ªèŠ‚ç‚¹ï¼Œ**ç”¨ä¸€ä¸ªé€’å‡çš„å•è°ƒæ ˆ**æ¥å­˜å‚¨å…ƒç´ ï¼Œæœ€åï¼Œæ ˆåº•çš„å…ƒç´ å°±æ˜¯æ•´ä¸ªäºŒå‰æ ‘çš„æœ€å¤§å€¼ï¼Œä¹Ÿå°±æ˜¯æ ¹èŠ‚ç‚¹ã€‚

ä»¥ [3,2,1,6,0,5] ä¸ºä¾‹ï¼š

- æ„é€ èŠ‚ç‚¹ 3ï¼Œå…¥æ ˆï¼›
- æ„é€ èŠ‚ç‚¹ 2ï¼Œå®ƒæ¯”æ ˆé¡¶å…ƒç´  3 å°ï¼Œæ‰€ä»¥ï¼Œå®ƒæ˜¯ 3 çš„å³å­èŠ‚ç‚¹ï¼Œç›´æ¥å…¥æ ˆï¼›
- æ„é€ èŠ‚ç‚¹ 1ï¼Œå®ƒæ¯”æ ˆé¡¶å…ƒç´  2 å°ï¼Œæ‰€ä»¥ï¼Œå®ƒæ˜¯ 2 çš„å³å­èŠ‚ç‚¹ï¼Œç›´æ¥å…¥æ ˆï¼›
- æ„é€ èŠ‚ç‚¹ 6ï¼Œå®ƒæ¯”æ ˆé¡¶å…ƒç´  1 å¤§ï¼Œæ‰€ä»¥ï¼Œ1 æ˜¯å®ƒçš„å·¦å­èŠ‚ç‚¹ï¼Œå¼¹å‡º 1ï¼›åŒæ ·åœ°ï¼Œæ ˆé¡¶å…ƒç´  2 ä¹Ÿæ¯”å®ƒå°ï¼Œå¼¹å‡º 2 å¹¶åšä¸ºå®ƒçš„å·¦å­èŠ‚ç‚¹ï¼›æŠŠæ ˆé¡¶æ‰€æœ‰æ¯”å®ƒå°çš„å…ƒç´ éƒ½å¼¹å‡ºï¼Œæœ€åå¼¹å‡ºçš„æ˜¯ 3ï¼Œæ‰€ä»¥ï¼Œæœ€ç»ˆæ˜¯ 3 åšä¸º 6 çš„å·¦å­èŠ‚ç‚¹ï¼Œå¹¶æŠŠ 6 å…¥æ ˆï¼›
- æ„é€ èŠ‚ç‚¹ 0ï¼Œå®ƒæ¯”æ ˆé¡¶å…ƒç´  6 å°ï¼Œæ‰€ä»¥ï¼Œå®ƒæ˜¯ 6 çš„å³å­èŠ‚ç‚¹ï¼Œç›´æ¥å…¥æ ˆï¼›
- æ„é€ èŠ‚ç‚¹ 5ï¼Œå®ƒæ¯”æ ˆé¡¶å…ƒç´  0 å¤§ï¼Œæ‰€ä»¥ï¼Œ0 æ˜¯å®ƒçš„å·¦å­èŠ‚ç‚¹ï¼Œå¼¹å‡º 0ï¼›æ¥ç€æ¯”è¾ƒï¼Œå®ƒæ¯”æ ˆé¡¶å…ƒç´  6 å°ï¼Œæ‰€ä»¥ï¼Œå®ƒæ˜¯ 6 çš„å³å­èŠ‚ç‚¹ï¼Œå…¥æ ˆï¼›
- æœ€åï¼Œæ ˆä¸­å…ƒç´ ä¸º [6,5]ï¼Œæ ˆåº•å…ƒç´ ä¸º 6ï¼Œæ˜¯æœ€ç»ˆçš„æ ¹èŠ‚ç‚¹ï¼›

```C++
class Solution {
public:
    TreeNode* constructMaximumBinaryTree(vector<int>& nums) {
        stack<TreeNode*> st;
        for (int num : nums) {
            TreeNode* p = new TreeNode(num);
            // å¦‚æœæ–°è¿›æ¥çš„æ•°numæ¯”æ ˆé‡Œé¢çš„å¤§ï¼Œè¦æ”¾åœ¨numçš„å·¦å­æ ‘ä¸Š
            while (!st.empty() && num > st.top()->val) {
                p->left = st.top();
                st.pop();
            }
            // æ–°è¿›æ¥çš„æ•°numæ¯”æ ˆé‡Œé¢çš„å°
            if (!st.empty()) st.top()->right = p;
            st.push(p);
        }
        while (st.size() != 1) st.pop();
        return st.top();
    }
};
```

> æ„Ÿè§‰ç”¨vectorä¼šæ›´ç®€æ´ä¸€äº›



#### [655. è¾“å‡ºäºŒå‰æ ‘](https://leetcode.cn/problems/print-binary-tree/)ï¼šdfsæ„é€ ã€è¾“å‡º

> å¦‚æœä½¿ç”¨å…¨å±€å˜é‡ä¼šæ›´åŠ ç®€æ´

```C++
class Solution {
public:
    int dfs_geth(TreeNode* root) {
        int h = 0;
        if (root->left != NULL) h = max(h, dfs_geth(root->left) + 1);
        if (root->right != NULL) h = max(h, dfs_geth(root->right) + 1);
        return h;
    }
    void dfs_print(vector<vector<string>>& ans, TreeNode* root, int x, int y, int h) {
        ans[x][y] = to_string(root->val);
        if (root->left != NULL) {
            dfs_print(ans, root->left, x + 1, y - (1 << (h - x - 1)), h);
        }
        if (root->right != NULL) {
            dfs_print(ans, root->right, x + 1, y + (1 << (h - x - 1)), h);
        }
    }
    vector<vector<string>> printTree(TreeNode* root) {
        int h = dfs_geth(root);
        int m = h + 1, n = (1 << (h + 1)) - 1;
        vector<vector<string>> ans(m, vector<string>(n, ""));
        dfs_print(ans, root, 0, (n - 1) / 2, h);
        return ans;
    }
};
```



#### [662. äºŒå‰æ ‘æœ€å¤§å®½åº¦](https://leetcode.cn/problems/maximum-width-of-binary-tree/)ï¼šdfs

> æœ¬é¢˜intå¯¹äºä¸‹æ ‡idxä¸å¤Ÿç”¨äº†ï¼Ÿ

```C++
class Solution {
public:
    unsigned long long ans;
    map<int, unsigned long long> mp;
    void dfs(TreeNode* root, unsigned long long idx, int depth) {
        if (root == NULL) return;
        if (mp.count(depth) == 0) mp[depth] = idx;
        ans = max(ans, idx - mp[depth] + 1);
        dfs(root->left, idx * 2, depth + 1);
        dfs(root->right, idx * 2 + 1, depth + 1);
    }
    int widthOfBinaryTree(TreeNode* root) {
        dfs(root, 1, 0);
        return (int)ans;
    }
};
```



#### [687. æœ€é•¿åŒå€¼è·¯å¾„](https://leetcode.cn/problems/longest-univalue-path/)ï¼šé€’å½’

è®¾è®¡é€’å½’å‡½æ•° int dfs(TreeNode root)ï¼Œå«ä¹‰ä¸ºä¼ å…¥æ ¹èŠ‚ç‚¹ rootï¼Œ**è¿”å›ä»¥è¯¥èŠ‚ç‚¹ä¸ºèµ·ç‚¹ï¼Œå¾€ä¸‹èµ°åŒå€¼è·¯å¾„æ‰€èƒ½ç»è¿‡çš„æœ€å¤§èŠ‚ç‚¹æ•°é‡**ï¼ˆå³åœ¨è·¯å¾„ä¸­è¯¥èŠ‚ç‚¹ä¸èƒ½ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œä¸èƒ½åŒæ—¶å¾€å·¦å³èŠ‚ç‚¹èµ°ï¼‰ï¼ŒåŒæ—¶ä½¿ç”¨å…¨å±€å˜é‡ max è®°å½•ç­”æ¡ˆè·¯å¾„æ‰€åŒ…å«çš„èŠ‚ç‚¹æ•°é‡ã€‚

åœ¨é€’å½’å‡½æ•°å†…éƒ¨ï¼Œå…ˆé€šè¿‡é€’å½’ root çš„å·¦å³å­èŠ‚ç‚¹ï¼Œæ‹¿åˆ°ä»¥ root.left å’Œ root.right ä¸ºèµ·ç‚¹çš„æœ€å¤§èŠ‚ç‚¹æ•° l å’Œ rï¼Œç„¶åæ ¹æ®å½“å‰èŠ‚ç‚¹å€¼å’Œå·¦å³å­èŠ‚ç‚¹å€¼çš„ç›¸ç­‰å…³ç³»æ¥æ›´æ–° ansï¼ŒåŒæ—¶**ç”¨ cur ç»´æŠ¤ã€Œä»¥å½“å‰èŠ‚ç‚¹ root ä¸ºç›®æ ‡è·¯å¾„ä¸­æ·±åº¦æœ€å°ï¼ˆä½ç½®æœ€é«˜ï¼‰èŠ‚ç‚¹æ—¶ã€æ‰€ç»è¿‡çš„æœ€å¤§èŠ‚ç‚¹æ•°é‡**ã€‚

```C++
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    int n_max = 0;
    int dfs(TreeNode* root) {
        if (root == NULL) return 0;
        int cur = 1, ans = 1;
        int l = dfs(root->left);
        int r = dfs(root->right);
        
        if (root->left != NULL && root->left->val == root->val) {
            ans = l + 1;
            cur += l;
        }
        if (root->right != NULL && root->right->val == root->val) {
            ans = max(ans, r + 1);
            cur += r;
        }
        n_max = max(n_max, cur);
        
        return ans;
    }
    int longestUnivaluePath(TreeNode* root) {
        dfs(root);
        return max(n_max - 1, 0);
    }
};
```







#### [814. äºŒå‰æ ‘å‰ªæ](https://leetcode.cn/problems/binary-tree-pruning/)

```C++
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    TreeNode* pruneTree(TreeNode* root) {
        if (root == NULL) return NULL;
        root->left = pruneTree(root->left);
        root->right = pruneTree(root->right);

        if (root->left != NULL || root->right != NULL) return root;
        return root->val == 0 ? NULL : root;
    }
};
```





#### [863. äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º K çš„ç»“ç‚¹](https://leetcode-cn.com/problems/all-nodes-distance-k-in-binary-tree/)ï¼š



#### [919. å®Œå…¨äºŒå‰æ ‘æ’å…¥å™¨](https://leetcode.cn/problems/complete-binary-tree-inserter/)ï¼šbfså®Œå…¨äºŒå‰æ ‘æ’å…¥

```PHP
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class CBTInserter {
public:
    TreeNode* treeRoot;
    queue<TreeNode*> addin;

    CBTInserter(TreeNode* root) {
        this->treeRoot = root;
        queue<TreeNode*> q;
        q.push(treeRoot);

        while (!q.empty()) {
            TreeNode* p = q.front();
            q.pop();
            if (p->left != NULL) q.push(p->left);
            if (p->right != NULL) q.push(p->right);
            if (!(p->left && p->right)) addin.push(p);  // éæ»¡ï¼Œè®°å½•ç©ºä½
        }
    }
    
    int insert(int val) {
        TreeNode* p = addin.front();
        int ret = p->val;   // è¦å…ˆæå‰ä¿å­˜ä¸€ä¸‹
        TreeNode* child = new TreeNode(val);
        
        if (p->left == NULL) {
            p->left = child;
        } else {
            p->right = child;
            addin.pop();
        }

        addin.push(child);
        return ret;
    }
    
    TreeNode* get_root() {
        return treeRoot;
    }
};
```





#### [938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ](https://leetcode-cn.com/problems/range-sum-of-bst/)ï¼šåŒä¸Šbfsä¸­



#### [965. å•å€¼äºŒå‰æ ‘](https://leetcode.cn/problems/univalued-binary-tree/)ï¼š**æ¨¡æ¿é¢˜** dfs / bfs

**æ³•1ï¼šdfs**

```C++
class Solution {
public:
    bool dfs(int val, TreeNode* root) {
        if (root == NULL) return true;
        if (root->val != val) return false;
        return dfs(root->val, root->left) && dfs(root->val, root->right);
    }
    bool isUnivalTree(TreeNode* root) {
        return dfs(root->val, root);
    }
};
```

æˆ–è€…å‡çº§ç‰ˆï¼š

```C++
class Solution {
public:
    int val = -1;
    bool isUnivalTree(TreeNode* root) {
        if (val == -1) val = root->val;
        if (root == NULL) return true;
        if (root->val != val) return false;
        return isUnivalTree(root->left) && isUnivalTree(root->right);
    }
};
```

**æ³•2ï¼šbfs**

```C++
class Solution {
public:
    bool isUnivalTree(TreeNode* root) {
        queue<TreeNode*> q;
        q.push(root);
        int val = root->val;
        while (!q.empty()) {
            TreeNode* node = q.front();
            q.pop();
            if (node == NULL) continue;
            if (node->val != val) return false;
            q.push(node->left);
            q.push(node->right);
        }
        return true;
    }
};
```



#### [998. æœ€å¤§äºŒå‰æ ‘ II](https://leetcode.cn/problems/maximum-binary-tree-ii/)ï¼šå¸¸è§„æ¨¡æ‹Ÿ ï¼Ÿ

> ç±»ä¼¼äº[654. æœ€å¤§äºŒå‰æ ‘](https://leetcode.cn/problems/maximum-binary-tree/)ï¼Ÿ

é¢˜æ„ä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œå…ˆç¨å¾®è§£é‡Šä¸€ä¸‹å§ã€‚

å¤§æ¦‚æ„æ€æ˜¯æœ€å¤§æ ‘ root æ˜¯æ ¹æ®ç‰¹å®šçš„è§„åˆ™æ„é€ å‡ºæ¥çš„ï¼Œå³ç»™å®šçš„ root å…¶å®å¯¹åº”ä¸€ä¸ªå…·ä½“çš„ numsï¼Œé¢˜ç›®è¦æ±‚æ˜¯**å°† val è¿½åŠ åˆ° nums çš„å°¾éƒ¨**ï¼Œç„¶åå†å¯¹å¾—åˆ°çš„ nums è¿ç”¨ç›¸åŒè§„åˆ™çš„æ„é€ ï¼Œ**è¿”å›é‡æ–°æ„é€ çš„æœ€å¤§æ ‘å¤´ç»“ç‚¹**ã€‚

æ ¹æ®æ„é€ è§„åˆ™ï¼Œè‹¥æœ‰ä¸‹æ ‡ i < jï¼Œåˆ™ nums[i] å¿…ç„¶åœ¨ nums[j] æ°´å¹³çº¿çš„å·¦è¾¹ï¼Œè€Œ val åˆæ˜¯è¿½åŠ åœ¨åŸæœ‰ nums çš„ç»“å°¾ã€‚å› æ­¤å…¶æœ€ç»ˆä½ç½®åˆ†å¦‚ä¸‹ä¸¤ç§æƒ…å†µï¼š

- val ä¸ºæ–° nums ä¸­çš„æœ€å¤§å€¼ï¼ŒåŒæ—¶ val åˆæ˜¯è¿½åŠ åœ¨åŸæœ‰ nums çš„ç»“å°¾ï¼Œæ­¤æ—¶å°†åŸæœ‰çš„ root æŒ‚åœ¨ val å¯¹åº”èŠ‚ç‚¹çš„å·¦å­æ ‘å³å¯ï¼Œæ–°æ ‘çš„æ ¹èŠ‚ç‚¹ä¸º val å¯¹åº”èŠ‚ç‚¹ï¼›
- å¦åˆ™ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸æ–­åœ¨ root çš„å³å­æ ‘ä¸­æ‰¾ç›®æ ‡ä½ç½®ï¼ˆåè¯æ³•å¯ä»¥çŸ¥ï¼Œval å¿…ä¸å¯èƒ½å‡ºç°åœ¨ä»»ä¸€éå³ä½ç½®ï¼Œå¦åˆ™å¯æ¨æ–­å‡ºåœ¨ val å³è¾¹ä»æœ‰å…ƒç´ ï¼Œè¿™ä¸ val ä½äº nums çš„ç»“å°¾ä½ç½®å†²çªï¼‰ã€‚å‡è®¾ç›®æ ‡ä½ç½®çš„çˆ¶èŠ‚ç‚¹ä¸º prevï¼Œç›®æ ‡ä½ç½®çš„åŸèŠ‚ç‚¹ä¸º curï¼Œæ ¹æ®æ„é€ è§„åˆ™å¯çŸ¥ prev.right = node ä¸” node.left = curï¼Œæ–°æ ‘çš„æ ¹èŠ‚ç‚¹ä¸å˜ã€‚

```PHP
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    TreeNode* insertIntoMaxTree(TreeNode* root, int val) {
        TreeNode* node = new TreeNode(val);
        TreeNode* prev = NULL;
        TreeNode* cur = root;

        while (cur != NULL && cur->val > val) {
            prev = cur;
            cur = cur->right;
        }
        if (prev == NULL) {
            node->left = cur;
            return node;
        } else {
            prev->right = node;
            node->left = cur;
            return root;
        }
    }
};
```













#### [1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ](https://leetcode.cn/problems/sum-of-root-to-leaf-binary-numbers/)ï¼šä¸¤ç§dfså†™æ³•

> é€’å½’æœ‰ä½¿ç”¨**ã€Œå‡½æ•°è¿”å›å€¼ã€**å’Œ**ã€Œå…¨å±€å˜é‡ã€**ä¸¤ç§å®ç°æ–¹å¼ã€‚

æ³•1ï¼šä½¿ç”¨å‡½æ•°è¿”å›å€¼

```PHP
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    int dfs(TreeNode* root, int cur) {
        int ans = 0;
        cur = cur * 2 + root->val;  // (cur << 1) + root.val
        if (root->left != NULL) ans += dfs(root->left, cur);
        if (root->right != NULL) ans += dfs(root->right, cur);
        return (root->left == NULL && root->right == NULL) ? cur : ans;
    }
    int sumRootToLeaf(TreeNode* root) {
        return dfs(root, 0);
    }
};
```

æ³•2ï¼šå…¨å±€å˜é‡

```PHP
class Solution {
public:
    int ans = 0;
    void dfs(TreeNode* root, int cur) {
        cur = cur * 2 + root->val;  // (cur << 1) + root.val
        if (root->left != NULL) dfs(root->left, cur);
        if (root->right != NULL) dfs(root->right, cur);
        if (root->left == NULL && root->right == NULL) ans += cur;
        return;
    }
    int sumRootToLeaf(TreeNode* root) {
        dfs(root, 0);
        return ans;
    }
};
```



#### [1302. å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ](https://leetcode.cn/problems/deepest-leaves-sum/)ï¼šdfs or bfs

> æ±‚çš„æ˜¯ï¼šæœ€æ·±çš„å¶èŠ‚ç‚¹ä¹‹å’Œ

**æ³•1ï¼šdfs**

```C++
class Solution {
public:
    int sum = 0;
    int maxdep = -1;
    int deepestLeavesSum(TreeNode* root) {
        dfs(root, 0);
        return sum;
    }
    void dfs(TreeNode* root, int depth) {
        if (root == NULL) return;
        
        if (depth > maxdep) {
            maxdep = depth;
            sum = root->val;
        } else if (depth == maxdep) {
            sum += root->val;
        }

        dfs(root->left, depth + 1);
        dfs(root->right, depth + 1);
    }
};
```

**æ³•2ï¼šbfs**

```PHP
class Solution {
public:
    int deepestLeavesSum(TreeNode* root) {
        int sum = 0;
        queue<TreeNode*> q;
        q.push(root);
        while (!q.empty()) {
            sum = 0;
            int n = q.size();
            for (int i = 0; i < n; i++) {
                TreeNode* p = q.front();
                q.pop();
                sum += p->val;
                if (p->left != NULL) q.push(p->left);
                if (p->right != NULL) q.push(p->right);
            }
        }
        return sum;
    }
};
```



#### [1305. ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ ](https://leetcode-cn.com/problems/all-elements-in-two-binary-search-trees/)ï¼šæ³¨æ„vectorä½œä¸ºå½¢å‚

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YWQzZTBlOTlkMmFkNjE4NDEwZGY1YTUyMDU2NzZmYzRfOEF1UElyNExWa3dySFBaQzhIdnRaS2hBTVZlOExGQklfVG9rZW46Ym94Y25pZDI4ZWhRbzd6R2RoeTk0a1JsN3NiXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

- > **ä¸­åºéå†çš„æœ‰åºæ€§ï¼›**

- > **å°†ä¸¤ä¸ªæœ‰åºåºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ‰åºåºåˆ—åˆ™æ˜¯åˆ©ç”¨äº†ç»å…¸çš„ã€Œå½’å¹¶æ’åºã€**

```C++
// ä¸­åºéå†åï¼Œåˆå¹¶ï¼ˆå½’å¹¶æ’åºï¼‰
class Solution {
public:
    void dfs(TreeNode* curNode, vector<int> &list)
    {
        if (curNode == NULL) return;
        dfs(curNode->left, list);
        list.push_back(curNode->val);
        dfs(curNode->right, list);
    }
    vector<int> getAllElements(TreeNode* root1, TreeNode* root2) {
        vector<int> ans;
        vector<int> list1, list2;
        dfs(root1, list1);
        dfs(root2, list2);
        int m = list1.size(), n = list2.size();
        int i = 0, j = 0;
        while(i < m || j < n) {
            int a = i < m ? list1[i] : INT_MAX;
            int b = j < n ? list2[j] : INT_MAX;
            if (a <= b) {
                ans.push_back(a);
                i++;
            }
            else {
                ans.push_back(b);
                j++;
            }
        }
        return ans;
    }
};
```



#### [é¢è¯•é¢˜ 04.06. åç»§è€…](https://leetcode.cn/problems/successor-lcci/)ï¼šäºŒå‰æœç´¢æ ‘çš„æ€§è´¨â­

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=Nzc0YzdkOWNmMTgzOGZmODNiODIyZjExMGU3YTU2NTVfTUg2Z0M2Yk10T1BvNnRNNEFwVHRkNTRXRVR0cVE0eERfVG9rZW46Ym94Y25HV01vWEpRYnhMczVRQkFjbzJxNEtlXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=M2U4NGNjN2E1MTkyM2IwMWMwNGU5OGE4MTE5ZmM5OTVfUjg3eTlyN1FtOVdWQ3JwTjJxR1BLZ3BldWFZNlVPM3lfVG9rZW46Ym94Y25seDR6WWtQVlU3VUtndEtybVpDQzRmXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

- > å½“`root.val<=p.val`æ—¶ï¼Œå»rootå³å­æ ‘ä¸Šæ‰¾pï¼Œè¿”å›ç»“æœä¸€å®šåœ¨`root.right`ä¸Šï¼›æ‰€ä»¥é€’å½’åˆ°å³å­æ ‘ï¼Œæ— å³å­æ ‘åˆ™è¿”å›NULL

- > å½“`root.val>p.val`æ—¶ï¼Œå»rootå·¦å­æ ‘ä¸Šæ‰¾pï¼Œpä¸€å®šåœ¨`root.left`ä¸Šï¼›å¦‚æœpæœ‰å³å­æ ‘ï¼Œè¿”å›é€’å½’åˆ°å³å­æ ‘ï¼Œæ— å³å­æ ‘åˆ™è¿”å›root

- > å†è€…ï¼šå¦‚æœpæ˜¯å·¦å­æ ‘ä¸Šçš„ï¼Œè¿”å›pçš„`root`ï¼›å¦‚æœpæ˜¯å³å­æ ‘ä¸Šçš„ï¼Œè¿”å›`p.right`ï¼ˆçœ‹pç›¸å¯¹äºä¸Šä¸€ä¸ªæ˜¯å·¦æ˜¯å³ï¼‰

- > ç‰¹æ®Šä¸€ç‚¹çš„ï¼šp=4éœ€è¦è¿”å›5

```C++
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode(int x) : val(x), left(NULL), right(NULL) {}
 * };
 */
class Solution {
public:
    TreeNode* inorderSuccessor(TreeNode* root, TreeNode* p) {
        if (root == NULL) return NULL;
        if (p->val >= root->val)
            return inorderSuccessor(root->right, p);
        TreeNode* ans = inorderSuccessor(root->left, p);  // é»˜è®¤å¾€å·¦èµ°
        return ans == NULL ? root : ans;
    }
};
```

**æ³•2ï¼šä¸­åºéå†â­**

BSTçš„æ€§è´¨ï¼Œä¸­åºéå†çš„æ–¹å¼ä¼¼ä¹å¥½ç†è§£ä¸€äº›ï¼šæ€è·¯æ˜¯ï¼Œ**æ·±åº¦ä¼˜å…ˆ**ï¼Œç”¨ä¸­åºéå†æ¢å¤å‡ºé€’å¢çš„åºåˆ—

```C++
class Solution {
public:
    bool isFind = false;
    TreeNode* ans;
    void dfs(TreeNode* curRoot, TreeNode* p) {
        if (curRoot == NULL) return;    // å…ˆåˆ¤ç©º
        dfs(curRoot->left, p);          // å·¦å­æ ‘
        if (isFind) {                   // æ˜¯å¦å·²ç»æ‰¾åˆ°pï¼Œè‹¥å·²æ‰¾åˆ°ï¼Œå½“å‰å°±æ˜¯è¦è¿”å›çš„
            if (ans == NULL) ans = curRoot;
            return;
        }
        if (curRoot->val == p->val) isFind = true;
        dfs(curRoot->right, p);        // å³å­æ ‘
    }
    TreeNode* inorderSuccessor(TreeNode* root, TreeNode* p) {
        dfs(root, p);
        return ans;
    }
};
```





## (6)é“¾è¡¨

#### [å‰‘æŒ‡ Offer II 029. æ’åºçš„å¾ªç¯é“¾è¡¨](https://leetcode.cn/problems/4ueAj6/)ï¼šé“¾è¡¨ä½œå¾ªç¯é˜Ÿåˆ—

```PHP
/*
class Node {
public:
    int val;
    Node* next;
    Node() {}
    Node(int _val) {
        val = _val;
        next = NULL;
    }
    Node(int _val, Node* _next) {
        val = _val;
        next = _next;
    }
};
*/

class Solution {
public:
    Node* insert(Node* head, int insertVal) {
        if (head == NULL) {
            Node* ans = new Node(insertVal);
            ans->next = ans;
            return ans;
        }
        Node* p = head;
        while (!(p->val <= insertVal && insertVal <= p->next->val)) {
            p = p->next;
            if (p == head || (p->val > p->next->val && (insertVal >= p->val || insertVal <= p->next->val))) break;
        }
        p->next = new Node(insertVal, p->next);
        return head;
    }
};
```



## (7)å“ˆå¸Œè¡¨

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹



#### [398. éšæœºæ•°ç´¢å¼•](https://leetcode-cn.com/problems/random-pick-index/)ï¼šåŒè§£ï¼Œå“ˆå¸Œorè“„æ°´æ± æŠ½æ ·

> é¢˜ç›®å¹¶æ²¡æœ‰å¾ˆçœ‹æ‡‚

**æ³•1ï¼šå“ˆå¸Œè¡¨**

```C++
class Solution {
public:
    unordered_map<int, vector<int>> position;  // ç”¨å“ˆå¸Œè¡¨è®°å½•ç›¸åŒå…ƒç´ ä¸‹æ ‡ä½ç½®â­
    Solution(vector<int>& nums) {
        for (int i = 0; i < nums.size(); ++i) {
            position[nums[i]].push_back(i);
        }
    }
    
    int pick(int target) {
        auto idx = position[target];  // å–targetä¸‹æ ‡æ„æˆåˆ—è¡¨
        return idx[rand() % idx.size()];
    }
};
```



#### [442. æ•°ç»„ä¸­é‡å¤çš„æ•°æ®](https://leetcode-cn.com/problems/find-all-duplicates-in-an-array/)ï¼šåŸåœ°å“ˆå¸Œ

è‡ªå·±çš„è§£æ³•å¯èƒ½ä¼šæµªè´¹ç©ºé—´ï¼Œ

```C++
vector<int> findDuplicates(vector<int>& nums) {
    int n = nums.size();
    vector<bool> isExist(n, false);
    vector<int> ans;
    for (int i = 0; i < n; ++i) {
        if (!isExist[nums[i] - 1])
            isExist[nums[i] - 1] = true;
        else ans.push_back(nums[i]);
    }
    return ans;
}
```

- > ç›´æ¥ä½¿ç”¨å“ˆå¸Œè¡¨ï¼ŒæŠŠæ¬¡æ•°ä¸º2çš„æ•°å­—è¾“å‡ºï¼šä¸æ»¡è¶³å¤æ‚åº¦è¦æ±‚ï¼›

- > **åŸåœ°å“ˆå¸Œï¼š**`**h(value) = value - 1**`

> é¢˜ç›®è¯´ï¼šnums çš„æ‰€æœ‰æ•´æ•°éƒ½åœ¨èŒƒå›´ [1, n] å†…ï¼Œé‚£å¯èƒ½ä¸éš¾æƒ³åˆ°è¦ä½¿ç”¨**åŸåœ°å“ˆå¸Œ**çš„æ–¹æ³•ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å°†é¢˜ç›®ç»™çš„æ•°ç»„å½“æˆä¸€ä¸ªå“ˆå¸Œè¡¨

> ä¸ºä»€ä¹ˆè¦æ„å»ºè¿™æ ·çš„ä¸€ä¸ªå“ˆå¸Œå‡½æ•°å‘¢ï¼Ÿé¦–å…ˆï¼Œæˆ‘ä»¬çš„æ•°ç»„ä¸‹æ ‡æ˜¯[0, n - 1]çš„ï¼Œè€Œæ•°æ®èŒƒå›´æ˜¯ [1, n]ï¼Œå¦‚æœæ•°æ®èŒƒå›´å†…çš„æ•°å­—æ¯ä¸ªéƒ½å‡ºç°ä¸€æ¬¡ï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“å°±èƒ½æ‰¾åˆ°nums[val - 1] = valçš„å“ˆå¸Œå‡½æ•°ä½¿å¾—æ¯ä¸ªæ•°å€¼ä¸é‡ä¸æ¼çš„æ˜ å°„åˆ°å”¯ä¸€çš„æ•°ç»„ä¸‹æ ‡ï¼Œå¹¶å¡«æ»¡æ•´ä¸ªæ•°ç»„ã€‚

> è‹¥æœ‰æ•´æ•°å‡ºç°ä¸æ­¢ä¸€æ¬¡ï¼Œé‚£ä¹ˆå¿…å®šæŸäº›æ•°å€¼ç¼ºå°‘ï¼Œè€Œç¼ºå¤±æ•°å€¼çš„ä½ç½®è¢«é‡å¤çš„æ•°å€¼å æ®äº†ï¼Œæˆ‘ä»¬åªéœ€è°ƒæ•´æ•°ç»„æ»¡è¶³ä¸Šè¿°çš„å“ˆå¸Œæ˜ å°„ï¼Œå³å¯å¾ˆå®¹æ˜“æ‰¾åˆ°é‡å¤çš„æ•°æ®ã€‚

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YzUxYTVhYzBjNGUyZmQ2YTI5MGM2OWYxMWNmNzRiNTlfbnp2VUhyZVE5U2tsQTJ1WjJYWjh4TUVSRzFXeUQ0MnFfVG9rZW46Ym94Y25CVXRndVFzU0Jlak1TaHlGRGRIWDlHXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

åŸåœ°å“ˆå¸Œçš„å®ç°æ˜¯äº¤æ¢å…ƒç´ ä½ç½®ï¼š**æ¯ä¸€æ¬¡äº¤æ¢æ“ä½œä¼šä½¿å¾—è‡³å°‘ä¸€ä¸ªå…ƒç´ è¢«äº¤æ¢åˆ°å¯¹åº”çš„æ­£ç¡®ä½ç½®**

1. ä¸€ä¸ªä¸å¤ªå¥½çš„å†™æ³•ï¼š

```C++
    vector<int> findDuplicates(vector<int>& nums) {
        vector<int> ans;
        int n = nums.size();
        for (int i = 0; i < n; i++) {
            if (nums[i] < 0 || nums[i] - 1 == i) continue;
            if (nums[nums[i] - 1] == nums[i]) {
                ans.push_back(nums[i]);
                nums[i] *= -1;
            }
            else {
                int c = nums[nums[i] - 1];
                nums[nums[i] - 1] = nums[i];
                nums[i--] = c;
            }
        }
        return ans;
    }
```

1. ç¬¬äºŒç§å†™æ³•â­ï¼š

```C++
vector<int> findDuplicates(vector<int>& nums) {
    int n = nums.size();
    for (int i = 0; i < n; ++i) {                 // éå†numsä¸Šçš„æ¯ä¸€ä½
        while (nums[i] != nums[nums[i] - 1]) {    // ä¿è¯æ¯ä¸€æ¬¡iä½ä¸Šéƒ½æœ‰æ­£ç¡®çš„æ•°
            swap(nums[i], nums[nums[i] - 1]);
        }
    }
    vector<int> ans;
    for (int i = 0; i < n; ++i) {
        if (nums[i] - 1 != i) {
            ans.push_back(nums[i]);
        }
    }
    return ans;
}
```

1. ç›´æ¥**ç”¨æ­£è´Ÿå·åšæ ‡è®°**ï¼Œè¿›ä¸€æ­¥ç®€åŒ–â­ï¼šè´Ÿæ•°è¯´æ˜å·²ç»è‡³å°‘å‡ºç°è¿‡ä¸€æ¬¡

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NjgxNmE2MzJiY2VmM2MyNzdhYWVmZGYwNTlmNjA2NWZfU1JsNnVPdTBzV0pXNUlGR1pzYTFmTm0wRzRKZmIyVzdfVG9rZW46Ym94Y25oSzJDRHJHc29QMFdvTTRCSDRsWm9lXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
vector<int> findDuplicates(vector<int>& nums) {
    int n = nums.size();
    vector<int> ans;
    for (int i = 0; i < n; ++i) {
        int x = abs(nums[i]);
        if (nums[x - 1] > 0) {
            nums[x - 1] = -nums[x - 1];
        }
        else {
            ans.push_back(x);
        }
    }
    return ans;
}
```



#### [1001. ç½‘æ ¼ç…§æ˜](https://leetcode-cn.com/problems/grid-illumination/)ï¼šå“ˆå¸Œè¡¨+setï¼Œçº¿æ€§æ˜ å°„æ¨¡æ‹Ÿâ—

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MjBlMjNkMjBkNWIzODc5ZmU1ODZiMzQxOTI1N2RlNGFfNFVlTHdSbFNHYWpmZEpWR1Z6WVpBTWZoYUFodXFqb1VfVG9rZW46Ym94Y25nREs5d09URlM5M3ZTNWdRaFhqblpiXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

> å†çœ‹çœ‹åŸé¢˜ï¼



#### [1282. ç”¨æˆ·åˆ†ç»„](https://leetcode.cn/problems/group-the-people-given-the-group-size-they-belong-to/)ï¼šå“ˆå¸Œè¡¨å®ç°åˆ†ç»„æ“ä½œ

```C++
class Solution {
public:
    vector<vector<int>> groupThePeople(vector<int>& gs) {
        unordered_map<int, vector<int>> map;
        int n = gs.size();
        for (int i = 0; i < n; i++) {
            int size = gs[i];
            map[size].push_back(i);
        }
        vector<vector<int>> ans;
        for (auto &[size, p] : map) {
            int m = p.size() / size;
            for (int i = 0; i < m; i++) {
                vector<int> tmp;
                int start = i * size;
                for (int j = 0; j < size; j++) tmp.push_back(p[start + j]);
                ans.push_back(tmp);
            }
        }
        return ans;
    }
};
```





#### [2006. å·®çš„ç»å¯¹å€¼ä¸º K çš„æ•°å¯¹æ•°ç›®](https://leetcode-cn.com/problems/count-number-of-pairs-with-absolute-difference-k/)ï¼šè¦æƒ³åˆ°ç”¨mapï¼ˆå“ˆå¸Œè¡¨ï¼‰

**æ³•1ï¼šç›´æ¥æœ´ç´ åœ°è¿›è¡Œç®€å•æ¨¡æ‹Ÿ**

```C++
class Solution {
public:
    int countKDifference(vector<int>& nums, int k) {
        int n = nums.size(), ans = 0;
        for (int i = 0; i < n; i++){
            for (int j = i + 1; j < n; j++){
                if (abs(nums[i] - nums[j]) == k)
                    ans++;
            }
        }
        return ans;
    }
};
class Solution:
    def countKDifference(self, nums: List[int], k: int) -> int:
        n, m = 0, len(nums)
        for i in range(m-1):
            for j in range(i, m):
                if abs(nums[i] - nums[j]) == k:
                    n += 1
        return n
```

**æ³•2ï¼šå“ˆå¸Œè¡¨**

**å†æ¥è¯´å¾—æ·±å…¥ä¸€ç‚¹ï¼šã€ä¸‰å¶ã€‘ã®é¢˜è§£**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YjZiOTJhM2ZhMWI2NzQzYzFjZmE3Y2ViMDMyMzk1M2NfaEMxd1ZlUDdKVHBpTHZuSjZGd3ZiRjMyUDVBRk9QZW9fVG9rZW46Ym94Y25UTFFzSUdOS2FvMEE0MGpUZ2NFRVdlXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZDc5ZGEwMjgzN2MxMGQ0YmQ1YzUyZmIwZjQzYWMyNDFfcEVqbDg1WXRYQTlWMHo4bHh3SmJtS0c3T285Y1VSd0VfVG9rZW46Ym94Y250NWExVHJHNmNiTTNPT1JWMWtsbUVlXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

äºæ˜¯ï¼Œéå†ä¸€éï¼ŒæŠŠæ¯ä¸ªå…ƒç´ çš„å¯¹åº”ä¸¤ä¸ªå€¼è®°å½•åˆ°å“ˆå¸Œè¡¨ä¸­ï¼š

```C++
class Solution {
public:
    int countKDifference(vector<int>& nums, int k) {
        unordered_map<int, int> cnt;
        int ans = 0;
        for (auto n : nums) {
            cnt[n]++;
            ans += cnt[n-k];
            ans += cnt[n+k];
        }
        return ans;
    }
};
```

å‡çº§è§£æ³•ï¼šç”¨æ•°ç»„ä»£æ›¿å“ˆå¸Œè¡¨è¿›è¡Œæé€Ÿï¼ˆå¤šäºé¢˜ç›®è¯´nums[i]<100ï¼‰

```C++
class Solution {
public:
    int countKDifference(vector<int>& nums, int k) {
        int cnt[101] = {0};
        int ans = 0;
        for (auto n : nums) {
            cnt[n]++;
            if (n-k>0) ans += cnt[n-k];
            if (n+k<101) ans += cnt[n+k];
        }
        return ans;
    }
};
```







## (8)å †/ä¼˜å…ˆé˜Ÿåˆ—

#### [1005. K æ¬¡å–ååæœ€å¤§åŒ–çš„æ•°ç»„å’Œ ](https://leetcode-cn.com/problems/maximize-sum-of-array-after-k-negations/)ï¼Ÿï¼Ÿï¼Ÿ



## (9)æ ‘

#### [1719. é‡æ„ä¸€æ£µæ ‘çš„æ–¹æ¡ˆæ•°](https://leetcode-cn.com/problems/number-of-ways-to-reconstruct-a-tree/)ï¼šâ“â“å›°éš¾é¢˜

> è¯´å®è¯ï¼Œé¢˜æ„æ²¡çœ‹æ‡‚ã€‚ã€‚ã€‚

> å‚è€ƒã€å¾®æ‰°ç†è®ºã€‘ã®é¢˜è§£

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZWNiMWYxZDU3NDhiMTUwNDcxY2ZjYmM1ODhiZjhhZTJfemllbjFDYzBnc2tlQTQ1R0szMWFzS2VVd0RSN3JZdFJfVG9rZW46Ym94Y25RYjdLUnlqUWxlVlhJdG50blJYRVpjXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTBjOTE2ODRkZWJhYjVmMWZkMjI1NTY5MTJkYjM5YjFfZkZ0dUJEUHZvWkdTaUdYQWZmeFMyNWpPb1BDZDdKc2pfVG9rZW46Ym94Y24yWVZLTXowQ2pSenpUbjE3RE0xYmNiXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MDA1N2QxMDQ3YTAwZDQ3ODBjNTgzYjJlMDdiOGU3MmZfaVhIRzVRUzlQUTF4dG44aGJyeVBkRFBYbllJUmhSUThfVG9rZW46Ym94Y24xVjFhTThRRk94dGwxMmtGbG91MzFmXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)





# å­ä¸²åŒ¹é…

#### [28. å®ç° strStr()](https://leetcode-cn.com/problems/implement-strstr/)ï¼šè‹¥ç”¨æ¨¡å¼åŒ¹é… KMP

ä½¿ç”¨findå†…ç½®å‡½æ•°å½“ç„¶å¯ä»¥è§£é¢˜ï¼Œä¸¤æ¬¡éå†çš„æ–¹æ³•ä¹Ÿå¯ä»¥ï¼›ä½†æ˜¯ï¼Œè¿™é‡Œä»‹ç»çš„æ˜¯ï¼šKMPç®—æ³•ï¼







#### [686. é‡å¤å åŠ å­—ç¬¦ä¸²åŒ¹é…](https://leetcode-cn.com/problems/repeated-string-match/)ï¼šå­ä¸²åŒ¹é… å¤šè§£â­

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NzViOWZiOTViZTY1NzkxM2E5NTExMWUxNzdjNDVlNzdfakQ3TE9hZzBsSnhjVGZJeVk3RjBmNFU4ODFEZ0hzS3FfVG9rZW46Ym94Y24yZHp3bmhtRVg3WVRIQmhwVk9aR3dVXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**åŸºæœ¬åˆ†æï¼š**

é¦–å…ˆï¼Œå¯ä»¥åˆ†æå¤åˆ¶**æ¬¡æ•°**çš„ã€Œä¸‹ç•Œã€å’Œã€Œä¸Šç•Œã€ä¸ºä½•å€¼ï¼š

å¯¹äº**ã€Œä¸‹ç•Œã€**çš„åˆ†ææ˜¯å®¹æ˜“çš„ï¼š**è‡³å°‘å°† a å¤åˆ¶é•¿åº¦å¤§äºç­‰äº b çš„é•¿åº¦**ï¼Œæ‰æœ‰å¯èƒ½åŒ¹é…ã€‚

åœ¨æ˜ç¡®äº†ã€Œä¸‹ç•Œã€åï¼Œå†åˆ†æå†ç»è¿‡å¤šå°‘æ¬¡å¤åˆ¶ï¼Œèƒ½å¤Ÿæ˜ç¡®å¾—åˆ°ç­”æ¡ˆï¼Œèƒ½å¤Ÿå¾—åˆ°æ˜ç¡®ç­”æ¡ˆçš„æœ€å°å¤åˆ¶æ¬¡æ•°å³æ˜¯ä¸Šç•Œã€‚ç”»ä¸ªå›¾ï¼

ç”±äºä¸»ä¸²æ˜¯ç”± a å¤åˆ¶å¤šæ¬¡è€Œæ¥ï¼Œå¹¶ä¸”æ˜¯ä»ä¸»ä¸²ä¸­æ‰¾åˆ°å­ä¸² bï¼Œå› æ­¤å¯ä»¥æ˜ç¡®å­ä¸²çš„èµ·å§‹ä½ç½®ï¼Œä¸ä¼šè¶…è¿‡ a çš„é•¿åº¦ã€‚å³é•¿åº¦è¶Šè¿‡ a é•¿åº¦çš„èµ·å§‹åŒ¹é…ä½ç½®ï¼Œå¿…ç„¶åœ¨æ­¤å‰å·²ç»è¢«åŒ¹é…è¿‡äº†ã€‚

ç”±æ­¤ï¼Œæˆ‘ä»¬å¯çŸ¥å¤åˆ¶æ¬¡æ•°**ã€Œä¸Šç•Œã€æœ€å¤šä¸ºã€Œä¸‹ç•Œ + 1ã€**ã€‚

- ä»¤ a çš„é•¿åº¦ä¸º nï¼Œb çš„é•¿åº¦ä¸º mï¼Œä¸‹ç•Œæ¬¡æ•°ä¸º c1ï¼Œä¸Šç•Œæ¬¡æ•°ä¸º c2 = c1 + 1ã€‚
- å› æ­¤æˆ‘ä»¬å¯ä»¥å¯¹ a å¤åˆ¶ c2 æ¬¡ï¼Œå¾—åˆ°ä¸»ä¸²ååŒ¹é… bï¼Œå¦‚æœåŒ¹é…æˆåŠŸåçš„ç»“æŸä½ç½®ä¸è¶…è¿‡äº† n * c1ï¼Œè¯´æ˜å¤ c1å³å¯ï¼Œè¿”å›c1ï¼Œè¶…è¿‡åˆ™è¿”å›c2ï¼›åŒ¹é…ä¸æˆåŠŸåˆ™è¿”å›-1ã€‚



**æ³•1ï¼šç›´æ¥ä¸Šä¸‹ç•Œæ§åˆ¶+ç›´æ¥ç”¨C++å†…ç½®å‡½æ•°find()**

```C++
class Solution {
public:
    int repeatedStringMatch(string a, string b) {
        string s = a;
        int ans = 1;  //ä¸‹ç•Œ
        while(s.size() < b.size()){ //ä¸æ˜¯<=ï¼Œæ³¨æ„è¾¹ç•Œâ­
            s += a;  //s.append(a);
            ans++;
        }
        s += a;  //ç›´æ¥ä¸ä¸Šç•Œæ¬¡æ•°çš„è¿›è¡Œå­ä¸²åŒ¹é…
        size_t fd = s.find(b);
        if(fd == string::npos) return -1;
        return fd + b.size() > a.size() * ans ? ans + 1 : ans;
    }
};
```

pythonçš„ä»£ç æ›´å¥½çœ‹ä¸€äº›ï¼š

```Python
class Solution:
    def repeatedStringMatch(self, a: str, b: str) -> int:
        s = a
        ans = 1
        while len(s) < len(b):
            s += a
            ans += 1
        s += a
        fd = s.find(b)
        if(fd == -1): return -1
        return ans + 1 if fd + len(b) > len(a) * ans else ans
```



**æ³•2ï¼šKMPç®—æ³•**

å…³äºKMPåˆæ¬¡ï¼Œåœ¨ï¼š[28. å®ç° strStr()](https://leetcode-cn.com/problems/implement-strstr/)



**æ³•3ï¼šRabin-Karp**

è§å®˜æ–¹é¢˜è§£çš„è®²è§£





#### [1044. æœ€é•¿é‡å¤å­ä¸²](https://leetcode-cn.com/problems/longest-duplicate-substring/)ï¼šï¼Ÿæ²¡åš

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YWY4YWMxZmQ1MDU5NWVmNmUyZGI5OTQzZDk3NzQzZmRfVmJVOXdYQkpLbEJkQ0JyYzRoQVMzdWt2ell3N3ZRcGlfVG9rZW46Ym94Y25LQzZlbUQxT1FRWFRuM2p0ZjFPUHVkXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**æ³•0ï¼špythonæš´åŠ›è§£æ³•**

```Python
class Solution:
    def longestDupSubstring(self, s: str) -> str:
        ans = ""
        for i in range(len(s)):
            while s[i:i+len(ans)+1] in s[i+1:]:
                ans = s[i:i+len(ans) + 1]
        return ans
```



**æ³•1ï¼šå­—ç¬¦ä¸²å“ˆå¸Œ+äºŒåˆ†**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NzNjODg0MjMyMzA5ZTcwMjU0YWMyMGI5OTJhYjVjZmRfRVd2Sm9xbkE1VjVKOGc5UFdFVnNzMm5oRFg1bzVrWHFfVG9rZW46Ym94Y25kSDcxZ0pGOERZUGFwN0lCdGVCR1ZoXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)









**æ³•1ï¼šRabin-Karp**

> å‚è§å¾®æ‰°çš„é¢˜è§£ï¼Œ

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NDNhZTk2YTBiNGY3ZTdiNWJkY2MxYTU0NDgxNTVjY2VfaXlyanZLSWRWalQwY0tOak40SVVLWmJnMzV2NHo1b0NfVG9rZW46Ym94Y254NHNONzZYRU83UTdqV1dzdU9YSGVlXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YTg1OGI5MzYzMDM0OGI3Njc3ZTUwYTg1MzIzNTY1OTVfTzBPd3ZPelBLSkV4c0N4SHAxeEdicndWQ0dkYWxlSlRfVG9rZW46Ym94Y25JbUY0dnpCZUNaOHF4elE2Wm1DTU13XzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NWFmNDZkNzMyMWFkMmVhZjU5ODU3NGY3ODA2N2IzNjRfY0VYU3pPZFVjelZRcFlLc2RLSWdPM1ZDNlk0MTZFRUxfVG9rZW46Ym94Y25CYmlIdDd6V3FxaEhyeTMySjFTNXpmXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)











# æ’åº

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹

#### [937. é‡æ–°æ’åˆ—æ—¥å¿—æ–‡ä»¶](https://leetcode-cn.com/problems/reorder-data-in-log-files/)ï¼šè‡ªå®šä¹‰è§„åˆ™æ’åº

> æ³¨æ„ä¸€ä¸‹è‡ªå®šä¹‰æ’åºä¹¦å†™æ–¹æ³•

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=Y2FkMzE3ZmUwYTY4MmViMjY0Mzc1ZjJhZmFiMzMxZGNfMUhsNnFCTHZHeW1GNWZZODA1TEFRWTRvRWpNYUlwN0ZfVG9rZW46Ym94Y244dmpFcXptdFBLNm5mMloza2NpYkdnXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YTFmY2U1ZjMzYmYyZTZkZmJkNDkzMmZmNDdmNzUzZjdfVzZabXBWeVJ2U0U1TDB2U0FSS000OHF0UEZrdkNUa1BfVG9rZW46Ym94Y256QmoxQktjZEdDbVVZcnU0aGFMTXBGXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    static bool logCompare(string log1, string log2)
    {
        int i = log1.find(' '), j = log2.find(' ');
        if (log1.substr(i + 1) != log2.substr(j + 1)) {
            return log1.substr(i + 1) < log2.substr(j + 1);
        }
        return log1 < log2;
    }

    vector<string> reorderLogFiles(vector<string>& logs) {
        int n = logs.size();
        if (n <= 1) return logs;
        vector<string> digit, letter;
        for (int i = 0; i < n; ++i) {
            int j = logs[i].find(' ');
            if (isdigit(logs[i][j + 1])) {
                digit.push_back(logs[i]);
            }
            else {
                letter.push_back(logs[i]);
            }
        }
        // è‡ªå®šä¹‰è§„åˆ™å¯¹å­—æ¯æ—¥å¿—æ’åº
        sort(letter.begin(), letter.end(), logCompare);
        letter.insert(letter.end(), digit.begin(), digit.end());
        return letter;
    }
};
```





# å›æº¯ç®—æ³•

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹

#### [1219. é»„é‡‘çŸ¿å·¥](https://leetcode-cn.com/problems/path-with-maximum-gold/)ï¼šdfsè§£å†³âš’ dx,dy+vis

**dx, dyæ§åˆ¶ç§»åŠ¨æ–¹å‘ï¼š**ç±»ä¼¼çš„å‚è€ƒï¼Œâ€œå›¾è®º-1034.è¾¹ç•Œç€è‰²â€ä¸­ï¼Œæ³¨æ„dx, dyç§»åŠ¨æ–¹æ³•

è¿˜æœ‰ä¸€ä¸ªæ³¨æ„çš„ï¼š**dfså‡½æ•°çš„å‚æ•°**

- æœ¬é¢˜å¯ä»¥å½“ä½œæ¨¡æ¿é¢˜

ç§»åŠ¨æ–¹æ³•+dfsçš„å†™æ³•1ï¼š

```C++
class Solution {
public:
    vector<vector<int>> g;  // ä¸ºäº†girdèƒ½å…¨å±€åœ°è®¿é—®â­
    vector<vector<bool>> vis;
    int m, n;
    int dx[4] = {1, -1, 0, 0};
    int dy[4] = {0, 0, 1, -1};
    
    int getMaximumGold(vector<vector<int>>& grid) {
        m = grid.size();  // mè¡Œ
        n = grid[0].size();  // nåˆ—
        g = grid;
        vis = vector<vector<bool>>(m, vector<bool>(n));
        int ans = 0;
        for(int i = 0; i < m; ++i)
            for(int j = 0; j < n; ++j) {
                vis[i][j] = true;
                ans = max(ans, dfs(i, j));
                vis[i][j] = false;
            }
        return ans;
    }

    int dfs(int i, int j) {
        int ans = g[i][j];
        for(int k = 0; k < 4; ++k){
            int x = i + dx[k], y = j + dy[k];
            if(x >= m || y >= n || x < 0 || y < 0) continue;
            if(g[x][y] == 0) continue;
            if(vis[x][y]) continue;
            vis[x][y] = true;
            ans = max(ans, g[i][j] + dfs(x, y));
            vis[x][y] = false;
        }
        return ans;
    }
};
```

å…¶ä¸­å¦‚æ³¨é‡Šæ‰€è¯´ï¼Œä¸“é—¨å®šä¹‰ä¸€ä¸ªvector<vector<int>> g æ˜¯ä¸ºäº†girdæ•°ç»„èƒ½å…¨å±€åœ°è®¿é—®â­ï¼Œå½“ç„¶è¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼Œåœ¨**dfså‡½æ•°çš„å‚æ•°**çš„åœ°æ–¹æœ‰åŒºåˆ«ï¼

å¦å¤–ï¼Œå…³äºvisæ•°ç»„çš„åˆ›å»ºå’Œåˆå§‹åŒ–ï¼Œä¸¤ç§æ–¹æ³•

```C++
æ–¹æ³•1ï¼š
visited = vector<vector<bool>>(m, vector<bool>(n, false));
visited = vector<vector<int>>(m, vector<int>(n, 0));

æ–¹æ³•2ï¼šè¿™é‡Œç”¨çš„å°±æ˜¯å¦ä¸€ç§ï¼Œ
ç›´æ¥åˆ›å»º vis = vector<vector<bool>>(m, vector<bool>(n));
ç„¶åå†å¾ªç¯ä¸­åˆå§‹åŒ–
```

ç§»åŠ¨å†™æ³•2ï¼š

```C++
public:
    vector<vector<int>> direct = {{1,0},{-1,0},{0,1},{0,-1}};  
    int getMaximumGold(vector<vector<int>>& grid) {...}
    int dfs(int i, int j) {
        int ans = g[i][j];
        for(auto d : direct){
            int x = i + d[0], y = j + d[1];
            ...
        }
        return ans;
    }
```

**pythonå†™æ³•ï¼š**

```Python
class Solution:
    def getMaximumGold(self, grid: List[List[int]]) -> int:
        m, n = len(grid), len(grid[0])  # è®¡ç®— List[List[int]] mè¡Œnåˆ—
        ans = 0         
        
        def dfs(x, y):
            if x < 0 or y < 0 or x == m or y == n or not grid[x][y]:
                return 0
            record = grid[x][y]
            grid[x][y] = mx = 0
            for dx, dy in (0, 1), (1, 0), (0, -1), (-1, 0):
                mx = max(mx, dfs(x + dx, y + dy))
            grid[x][y] = record
            return record + mx
                
        for i in range(m):
            for j in range(n):
                ans = max(ans, dfs(i, j))
        
        return ans
```









# å›¾è®º

## (1)dfs / bfs

#### [1034. è¾¹ç•Œç€è‰²](https://leetcode-cn.com/problems/coloring-a-border/)ï¼šdfs ç†è§£é¢˜æ„ å››ä¸ªæ–¹å‘ vis

å››ä¸ªæ–¹å‘åªè¦æœ‰ä¸€ä¸ªä¸è‡ªå·±é¢œè‰²ä¸åŒåˆ™å°±åœ¨è¾¹ç•Œä¸Šï¼

```C++
class Solution {
public:
    vector<vector<int>> visited;  //è®°å½•å½“å‰[i][j]æ˜¯å¦è¢«è®¿é—®è¿‡
    int m, n;  //mè¡Œ nåˆ—
    int dx = {0, 0, -1, 1}  //æ¨ªå‘ç§»åŠ¨ï¼šä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³
    int dy = {1, -1, 0, 0}  //çºµå‘ç§»åŠ¨ï¼šä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³
    vector<vector<int>> colorBorder(vector<vector<int>>& grid, int row, int col, int color) {
        // æ³¨æ„äºŒç»´vectorçš„è¡Œåˆ—æ•°è®¡ç®—â­
        m = grid.size();
        n = grid[0].size();
        // ä¸è¦å¿˜è®°visitedä¹Ÿè¦åˆ›å»ºå’Œåˆå§‹åŒ–
        visited = vector<vector<int>>(m, vector<int>(n, 0));

        target = grid[row][col];
        dfs(grid, row, col, target);  //æ ¹æ®æŒ‡å®šçš„é¢œè‰²ï¼Œå¼€å§‹æ·±åº¦ä¼˜å…ˆæœç´¢

        //æœç´¢å®Œæˆåï¼Œç›´æ¥éå†æ•´ä¸ªæ•°ç»„ï¼Œæ›´æ”¹é¢œè‰²
        for(int i = 0; i < m; ++i){
            for(int j = 0; j < n; ++j){
                if(grid[i][j] == 0){
                    grid[i][j] = color;
                }
            }
        }
        return grid;
    }

    void dfs(vector<vector<int>>& grid, int row, int col, int target) {
        //targetæ˜¯èµ·å§‹ç‚¹å‚è€ƒç”¨çš„é¢œè‰²grid[row][col]
        if(visited[row][col]) return;
        visited[row][col] = 1;
        if(grid[row][col] != target) return;

        int cnt = 0;  //è®°å½•å››ä¸ªæ–¹å‘å°è¯•çš„æ¬¡æ•°ï¼Œç”¨æ¥åŒºåˆ†â€œè¿é€šé›†å†…â€çš„è¾¹ç•Œä¸éè¾¹ç•Œ
        for(int i = 0; i < 4; ++i){
            // è€ƒè™‘å½“å‰(row,col)ç§»åŠ¨æŸæ–¹å‘åçš„(x,y)
            int x = row + dx[i];
            int y = col + dy[i];
            if(0 <= x < m && 0 <= y < n){
                if(grid[x][y] == target || grid[x][y] == 0){
                    // æ³¨æ„ grid[x][y] == 0 ä¹Ÿè¦åŒ…å«åœ¨å†…â­
                    dfs(grid, x, y, target);
                    cnt++;
                }
            }
        }
        if(cnt != 4) grid[row][col] = 0;  //æŠŠ0ä½œä¸ºç‰¹æ®Šè‰²ï¼Œå› ä¸ºæ®é¢˜æ„ï¼Œæ‰€æœ‰çš„å€¼éƒ½ä¸ä¼šæ˜¯0
    }
};
class Solution:
    def colorBorder(self, grid: List[List[int]], row: int, col: int, color: int) -> List[List[int]]:
        m, n = len(grid), len(grid[0])
        visited = [[False] * n for _ in range(m)]
        borders = []  # è®°å½•è¾¹ç•Œçš„åæ ‡(i,j)
        target = grid[row][col]

        self.dfs(grid, row, col, visited, borders, target)
        for x, y in borders:
            grid[x][y] = color
        return grid

    def dfs(self, grid, row, col, visited, borders, target):  
        visited[row][col] = True
        isBorder = False

        m, n = len(grid), len(grid[0])
        direc = ((-1, 0), (1, 0), (0, -1), (0, 1))

        for dx, dy in direc:
            x, y = row + dx, col + dy
            if 0 <= x < m and 0 <= y < n and grid[x][y] == grid[row][col]:
                if not visited[x][y]:
                    self.dfs(grid, x, y, visited, borders, target)
            else:
                isBorder = True  #è¯´æ˜(x,y)ä¸çŸ©é˜µè¾¹ç•Œæˆ–é¢œè‰²ä¸åŒç‚¹ç›¸é‚»ï¼Œå› æ­¤è¯¥ç‚¹ä¸ºè¿é€šå—è¾¹ç•Œ
        if isBorder:
            borders.append((row, col))
```

#### [200. å²›å±¿æ•°é‡](https://leetcode-cn.com/problems/number-of-islands/)ï¼šæ˜¯åŒç±»é¢˜

```C++
class Solution {
public:
    int m, n;

    int numIslands(vector<vector<char>>& grid) {
        //mè¡Œ nåˆ—
        m = grid.size();
        n = grid[0].size();
        // if (!m) return 0;

        int num = 0;
        for (int i = 0; i < m; ++i) {
            for (int j = 0; j < n; ++j) {
                if (grid[i][j] == '1') {
                    num++;
                    dfs(grid, i, j);
                }
            }
        }
        return num;
    }

    void dfs(vector<vector<char>>& grid, int row, int col){
        grid[row][col] = '0';
        if(row-1>=0 && grid[row-1][col] == '1') dfs(grid, row-1, col);
        if(row+1<m && grid[row+1][col] == '1') dfs(grid, row+1, col);
        if(col-1>=0 && grid[row][col-1] == '1') dfs(grid, row, col-1);
        if(col+1<n && grid[row][col+1] == '1') dfs(grid, row, col+1);
    }
};
```





## (2)æ‹“æ‰‘æ’åº

#### [851. å–§é—¹å’Œå¯Œæœ‰](https://leetcode-cn.com/problems/loud-and-rich/)ï¼šâ—æ‹“æ‰‘ or dfs

> çœ‹èµ·æ¥ä¸å¤ªé€‚åˆä½œä¸ºæ‹“æ‰‘çš„å…¥é—¨

> è¡¥ä¸€ä¸‹ï¼š**[æ‹“æ‰‘æ’åºå…¥é—¨](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247489706&idx=1&sn=771cd807f39d1ca545640c0ef7e5baec&chksm=fd9cb3b5caeb3aa333809633f09e3967c8f62d10feec5a463c7e30d4781e1fecb50e7f46e4af&token=126965152&lang=zh_CN#rd)**

```C++
class Solution {
public:
    // éœ€è¦ä½¿ç”¨å…¨å±€å˜é‡äº†ï¼
    vector<int> ans;  // å…¨å±€ä½¿ç”¨
    vector<int> quiet;
    vector<vector<int>> g;  // nè¡Œçš„ï¼Œæ¯”iæ›´æœ‰é’±é‚»æ¥çŸ©é˜µ
    vector<int> loudAndRich(vector<vector<int>>& richer, vector<int>& _quiet) {
        quiet = _quiet;
        int n = quiet.size();
        ans = vector<int>(n, -1);
        g = vector<vector<int>>(n);
        // å°†æ‹“æ‰‘æ’åºå›¾å­˜å…¥çŸ©é˜µ
        for(auto r : richer)
            g[r[1]].push_back(r[0]);
        // dfs
        for(int i = 0; i < n; ++i)
            dfs(i);
        return ans;
    }
    int dfs(int i){
        if(ans[i] != -1)
            return ans[i];
        else ans[i] = i;
        // å¯¹æ¯”iæœ‰é’±çš„æ‰€æœ‰èŠ‚ç‚¹éå†æœå¯»ï¼ˆåœ¨é‚»æ¥çŸ©é˜µä¸­æ‰¾ï¼‰
        for(auto n : g[i]){
            if(quiet[dfs(n)] < quiet[ans[i]])
                ans[i] = dfs(n);
        }
        return ans[i];
    }
};
class Solution {
public:
    vector<int> loudAndRich(vector<vector<int>>& richer, vector<int>& quiet) {
        int n = quiet.size();
        vector<vector<int>> g(n);
        vector<int> inDegree(n);       
        // å°†æ‹“æ‰‘æ’åºå›¾å­˜å…¥çŸ©é˜µ+å…¥åº¦
        for(auto r : richer){
            g[r[0]].push_back(r[1]);  //è¿™é‡Œä¸dfsä¸åŒï¼
            ++inDegree[r[1]];
        }
        vector<int> ans(n);
        for(int i = 0; i < n; ++i) ans[i] = i;      
        queue<int> que;
        for(int i = 0; i < n; ++i){
            if(inDegree[i] == 0)
                que.push(i);
        }
        // æ‹“æ‰‘ï¼šä»å…¥åº¦ä¸º0çš„ç»“ç‚¹å¼€å§‹ï¼ˆä»æ›´æœ‰é’±çš„å¼€å§‹ï¼Œä¸dfdsé‚£ä¸ªä¸åŒï¼‰
        while(!que.empty()){
            int x = que.front();
            que.pop();
            for(auto y : g[x]){
                if(quiet[ans[y]] > quiet[ans[x]])
                    ans[y] = ans[x];
                if(--inDegree[y] == 0)
                    que.push(y);
            }
        }
        return ans;
    }
};
```



#### [å‰‘æŒ‡ Offer II 114. å¤–æ˜Ÿæ–‡å­—å…¸](https://leetcode.cn/problems/Jf1JuT/)

> å›°éš¾é¢˜ï¼Œæ²¡åšã€‚ã€‚



## (3)æœ€çŸ­è·¯å¾„



## (4)æœ€å°ç”Ÿæˆæ ‘









# é€’å½’ & è¿­ä»£

## DFS

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹



#### 208.Trieæ ‘ï¼šthis? æ¨¡æ¿

```C++
class Trie {
private:
    vector<Trie*> children;
    bool isEnd;

    Trie* searchPrefix(string prefix) {
        Trie* node = this;
        for (char ch : prefix) {
            ch -= 'a';
            if (node->children[ch] == nullptr) {
                return nullptr;
            }
            node = node->children[ch];
        }
        return node;
    }

public:
    Trie() : children(26), isEnd(false) {}

    void insert(string word) {
        Trie* node = this;
        for (char ch : word) {
            ch -= 'a';
            if (node->children[ch] == nullptr) {
                node->children[ch] = new Trie();
            }
            node = node->children[ch];
        }
        node->isEnd = true;
    }

    bool search(string word) {
        Trie* node = this->searchPrefix(word);
        return node != nullptr && node->isEnd;
    }

    bool startsWith(string prefix) {
        return this->searchPrefix(prefix) != nullptr;
    }
};
class Trie:
    def __init__(self):
        self.children = [None] * 26
        self.isEnd = False
    
    def searchPrefix(self, prefix: str) -> "Trie":
        node = self
        for ch in prefix:
            ch = ord(ch) - ord("a")
            if not node.children[ch]:
                return None
            node = node.children[ch]
        return node

    def insert(self, word: str) -> None:
        node = self
        for ch in word:
            ch = ord(ch) - ord("a")
            if not node.children[ch]:
                node.children[ch] = Trie()
            node = node.children[ch]
        node.isEnd = True

    def search(self, word: str) -> bool:
        node = self.searchPrefix(word)
        return node is not None and node.isEnd

    def startsWith(self, prefix: str) -> bool:
        return self.searchPrefix(prefix) is not None
        
# Your Trie object will be instantiated and called as such:
# obj = Trie()
# obj.insert(word)
# param_2 = obj.search(word)
# param_3 = obj.startsWith(prefix)
```





#### 221.æ·»åŠ ä¸æœç´¢å•è¯



#### [241. ä¸ºè¿ç®—è¡¨è¾¾å¼è®¾è®¡ä¼˜å…ˆçº§](https://leetcode.cn/problems/different-ways-to-add-parentheses/)ï¼šæ‹†åˆ†å¼å­â­

> è¿™ä¸ªé¢˜è§£å†™å¾—æ¯”è¾ƒå¥½ï¼ï¼

```C++
class Solution {
public:
    vector<int> diffWaysToCompute(string exp) {
        vector<int> ans;
        int n = exp.size();
        // æ•´æ•°ä¸è¶…è¿‡ä¸¤ä½æ•°
        if (n == 1 || n == 2) {
            ans.push_back(stoi(exp));
            return ans;
        }

        for (int i = 0; i < n; i++) {
            int x = exp[i];
            if (x == '+' || x == '-' || x == '*') {
                vector<int> leftExp = diffWaysToCompute(exp.substr(0, i));
                vector<int> rightExp = diffWaysToCompute(exp.substr(i + 1));

                // åˆ†æ²» dfs
                for (int left : leftExp) {
                    for (int right : rightExp) {
                        switch (x) {
                            case '+': ans.push_back(left + right); break;
                            case '-': ans.push_back(left - right); break;
                            case '*': ans.push_back(left * right); break;
                        }
                    }
                } 
            }
        }
        return ans;
    }
};
```



#### [473. ç«æŸ´æ‹¼æ­£æ–¹å½¢](https://leetcode.cn/problems/matchsticks-to-square/)ï¼šâ­å¾ˆæ£’çš„è§£æ³•ï¼Œå±…ç„¶æ˜¯ç”¨dfs

> å‰ªçº¸ï¼Ÿ

```C++
class Solution {
public:
    int m;
    int edgs[4] = {0};
    bool makesquare(vector<int>& match) {
        if (match.size() < 4) return false;
        int sum = accumulate(match.begin(), match.end(), 0);
        if (sum % 4 != 0) return false;
        m = sum / 4;
        sort(match.begin(), match.end(), greater<int>());  // ä»å¤§åˆ°å°æ’åºï¼Œä¼˜å…ˆé€‰ç”¨å¤§è¾¹å¯ä»¥ä»¤ä¸æˆåŠŸçš„æƒ…å†µæ›´å¿«è¿”å›
        return dfs(match, 0);
    }
    bool dfs(vector<int>& match, int idx) {
        if (idx >= match.size()) {
            return edgs[0] == edgs[1] && edgs[1] == edgs[2] && edgs[2] == m;
        }
        for (int i = 0; i < 4; i++) {
            if (edgs[i] + match[idx] > m) continue;  // è¿™æ ¹ç«æŸ´ä¸èƒ½æ”¾åˆ°å½“å‰è¾¹ä¸Š
            else {
                edgs[i] += match[idx];
                if (dfs(match, idx + 1)) return true;
                else edgs[i] -= match[idx];
            }
        }
        return false;
    }
};
```



#### [508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ](https://leetcode.cn/problems/most-frequent-subtree-sum/)ï¼šæ­£å¸¸dfs

> é¢˜æ„æè¿°ä¸æ¸…ï¼Œåº”è¯¥ç†è§£ä¸ºï¼š

> äºŒå‰æ ‘æ‰€æœ‰å­æ ‘ï¼ˆåŒ…æ‹¬åŒ…å«æ ¹èŠ‚ç‚¹çš„æ ‘ï¼‰çš„å…ƒç´ å’Œå½“ä¸­ï¼Œå‡ºç°æ¬¡æ•°æœ€å¤šçš„ï¼Œè¿”å›

1. > æ‰€æœ‰çš„å­æ ‘å’Œä¸ºï¼š [2, -3, 4] éƒ½æ˜¯å‡ºç°ä¸€æ¬¡ï¼Œæ‰€ä»¥è¿”å›æ‰€æœ‰

2. > æ‰€æœ‰çš„å­æ ‘å’Œä¸ºï¼š [2, -5, 2] 2å‡ºç°ä¸¤æ¬¡ ï¼Œä¸ºå‡ºç°çš„æ¬¡æ•°æœ€å¤šï¼Œè¿”å›å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´  ï¼š[2]

> 

- > å› æ­¤ï¼Œè¦ç”¨ä¸Šå“ˆå¸Œè¡¨ï¼Œå“ˆå¸Œè¡¨åœ¨for(auto)ä¸­çš„ç”¨æ³•ï¼Œè·Ÿpairçš„ç”¨æ³•ä¸€æ ·

- > ä½¿ç”¨dfså¯¹æ ‘è¿›è¡Œéå†ï¼ŒåŒæ—¶å°†æ¯æ£µå­æ ‘çš„æ€»å’Œå€¼å­˜å…¥å“ˆå¸Œè¡¨ï¼ˆä»¥å…ƒç´ å’Œä¸º keyï¼Œå‡ºç°æ¬¡æ•°ä¸º valueï¼‰ï¼Œå¹¶å®æ—¶ç»´æŠ¤æœ€å¤§å­æ ‘å’Œï¼Œä½¿ç”¨å˜é‡ max å­˜å‚¨ã€‚

- > å½“éå†å®Œæ•´æ£µæ ‘åï¼Œå°†å“ˆå¸Œè¡¨ä¸­å€¼ä¸º max çš„é”®å­˜å…¥ç­”æ¡ˆã€‚

```C++
class Solution {
public:
    unordered_map<int, int> sumMap;
    int maxCnt = 0;

    int dfs(TreeNode* node) {
        if (node == NULL) return 0;
        int sum = node->val + dfs(node->left) + dfs(node->right);
        maxCnt = max(maxCnt, ++sumMap[sum]);
        return sum;
    }
    vector<int> findFrequentTreeSum(TreeNode* root) {
        (void)dfs(root);
        vector<int> ans;
        for (auto s : sumMap) {
            if (s.second == maxCnt) ans.push_back(s.first);
        }
        return ans;
    }
};
```



#### [652. å¯»æ‰¾é‡å¤çš„å­æ ‘](https://leetcode.cn/problems/find-duplicate-subtrees/)ï¼šå¯ä»¥ç”¨å“ˆå¸Œè¡¨æ¥è®°å½•

å“ˆå¸Œè¡¨unordered_mapè®°å½•æ¯ä¸ªå­æ ‘çš„å‡ºç°æ¬¡æ•°

åªå¯¹`string subtree = to_string(root->val) + dfs(root->left) + dfs(root->right);`æ˜¯ä¸æ­£ç¡®çš„ï¼Œä¸èƒ½åŒºåˆ†å¼€ï¼

```C++
class Solution {
public:
    unordered_map<string, int> umap;
    vector<TreeNode*> ans;
    string dfs(TreeNode* root) {
        if (root == NULL) return "";

        string subtree = to_string(root->val) + "-" + dfs(root->left) + "-" + dfs(root->right);
        umap[subtree]++;
        if (umap[subtree] == 2) ans.push_back(root);
        return subtree;
    }
    vector<TreeNode*> findDuplicateSubtrees(TreeNode* root) {
        (void)dfs(root);
        return ans;
    }
};
```



#### [1020. é£åœ°çš„æ•°é‡](https://leetcode-cn.com/problems/number-of-enclaves/)ï¼šç›´æ¥dfså°±å¯ä»¥ï¼Œæ¨¡æ¿é¢˜â­

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YjBkODAwOWI2YTdmMGEzOWFhY2YzNjcxMGVhNDBjNjdfRVZNRFVHWlIzbG9vOFRGTU9YQWIzaTlqM21UOFdxUklfVG9rZW46Ym94Y25zMXFhOHBXcjN3NG1scThxajRzdXBjXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    vector<vector<int>> direct = {{1,0},{-1,0},{0,1},{0,-1}};
    vector<vector<int>> g;
    int m, n;
    int numEnclaves(vector<vector<int>>& grid) {
        g = grid;
        m = grid.size(), n = grid[0].size();  // mè¡Œnåˆ—
        int ans = 0;  // ç­‰ä»·äºæ‰¾åˆ°ä¸å’Œè¾¹ç¼˜ç›¸è¿çš„ç‹¬ç«‹å—çš„é¢ç§¯å’Œ
        for (int i = 0; i < m; ++i) {
            for (int j = 0; j < n; ++j) {
               if (i == 0 || j == 0 || i == m-1 || j == n-1)
                dfs(i, j); 
            }
        }

        for (int i = 0; i < m; ++i) {
            for (int j = 0; j < n; ++j) {
                ans += g[i][j];
            }
        }
        return ans;
    }

    void dfs(int x, int y) {
        if (0 <= x && x < m && 0 <= y && y < n && g[x][y]) {
            g[x][y] = 0;  // èƒ½åˆ°è¾¹ç¼˜çš„é™†åœ°ç½®ä¸º0
            for (auto d : direct)
                dfs(x+d[0], y+d[1]);
        }
    }
};
```









## BFS

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹



#### [433. æœ€å°åŸºå› å˜åŒ–](https://leetcode-cn.com/problems/minimum-genetic-mutation/)ï¼šBFSæ¨¡æ¿é¢˜



BFSæ€»å…±æœ‰ä¸¤ä¸ªæ¨¡æ¿ï¼š

**æ¨¡æ¿ä¸€ï¼š**

å¦‚æœä¸éœ€è¦ç¡®å®šå½“å‰éå†åˆ°äº†å“ªä¸€å±‚ï¼ŒBFS æ¨¡æ¿å¦‚ä¸‹ã€‚

```C++
while queue ä¸ç©ºï¼š
    cur = queue.pop()
    if cur æœ‰æ•ˆä¸”æœªè¢«è®¿é—®è¿‡ï¼š
        è¿›è¡Œå¤„ç†
    for èŠ‚ç‚¹ in cur çš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹ï¼š
        if è¯¥èŠ‚ç‚¹æœ‰æ•ˆï¼š
            queue.push(è¯¥èŠ‚ç‚¹)
```

**æ¨¡æ¿äºŒï¼š**

å¦‚æœè¦ç¡®å®šå½“å‰éå†åˆ°äº†å“ªä¸€å±‚ï¼ŒBFS æ¨¡æ¿å¦‚ä¸‹ã€‚

è¿™é‡Œå¢åŠ äº† level è¡¨ç¤ºå½“å‰éå†åˆ°äºŒå‰æ ‘ä¸­çš„å“ªä¸€å±‚äº†ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºåœ¨ä¸€ä¸ªå›¾ä¸­ï¼Œç°åœ¨å·²ç»èµ°äº†å¤šå°‘æ­¥äº†ã€‚size è¡¨ç¤ºåœ¨å½“å‰éå†å±‚æœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯é˜Ÿåˆ—ä¸­çš„å…ƒç´ æ•°ï¼Œæˆ‘ä»¬æŠŠè¿™äº›å…ƒç´ ä¸€æ¬¡æ€§éå†å®Œï¼Œå³æŠŠå½“å‰å±‚çš„æ‰€æœ‰å…ƒç´ éƒ½å‘å¤–èµ°äº†ä¸€æ­¥ã€‚

```C++
level = 0
while queue ä¸ç©ºï¼š
    size = queue.size()
    while (size --) {
        cur = queue.pop()
        if cur æœ‰æ•ˆä¸”æœªè¢«è®¿é—®è¿‡ï¼š
            è¿›è¡Œå¤„ç†
        for èŠ‚ç‚¹ in curçš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹ï¼š
            if è¯¥èŠ‚ç‚¹æœ‰æ•ˆï¼š
                queue.push(è¯¥èŠ‚ç‚¹)
    }
    level ++;
```





#### 559.N å‰æ ‘çš„æœ€å¤§æ·±åº¦ï¼šdfs bfs æ³¨æ„å†™æ³•

```Python
"""
# Definition for a Node.
class Node:
    def __init__(self, val=None, children=None):
        self.val = val
        self.children = children
"""
# dfs
class Solution:
    def maxDepth(self, root: 'Node') -> int:
        return max((self.maxDepth(child) for child in root.children), default = 0) + 1 if root else 0
# bfs
class Solution:
    def maxDepth(self, root: 'Node') -> int:
        if root is None:
            return 0
        ans = 0
        queue = [root]
        while queue:
            queue = [child for node in queue for child in node.children]
            ans += 1
        return ans
```



#### [675. ä¸ºé«˜å°”å¤«æ¯”èµ›ç æ ‘](https://leetcode.cn/problems/cut-off-trees-for-golf-event/)ï¼šBFSæ¨¡æ¿â­ / è¿ªæ°æ–¯ç‰¹æ‹‰

- > åŒ…æ‹¬éœ€è¦è®°å½•å±‚æ•°çš„å¹¿åº¦ä¼˜å…ˆæœç´¢

- > å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰è§„åˆ™æ’åºï¼Œä¹Ÿå¯ä»¥ç›´æ¥è¦æ¯”è¾ƒçš„é‚£ä¸ªæ”¾åœ¨pairçš„å‰è€…

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MDY5OTRjMWY2ZTZhYmI0NzA4YmFiZDUxYjMyOTY5ZThfMlJEUkpHbDBCckhScUtxejVoZ29mYkJSRkp6Mm45emNfVG9rZW46Ym94Y25Od2hJb1F1d2pFMDZab0J1N3d4NE9nXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

- > ç å®Œæ‰€æœ‰çš„ğŸŒ³

- > åªè¦ä¸æ˜¯éšœç¢éƒ½å¯ä»¥èµ°ï¼Œä½†æ˜¯æ ‘åªèƒ½ä»ä½åˆ°é«˜ç ï¼›ä¹Ÿå°±æ˜¯**ä¸æ˜¯ç›®å‰æœ€çŸ®çš„æ ‘å¯ä»¥è·¯è¿‡ï¼Œä½†æ˜¯ä¸èƒ½ç **ã€‚

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTJhNzhlZTE2MDdjOTcyMTZmMzJiNjE3NWU5YjVjOWNfSzRBdkVVTUtlR3FOdUh4Y0dqc3FVMjlWWlRBdDN2b2lfVG9rZW46Ym94Y25LTUpFWlZ5b3lTQTlMdFd6UGNyakJlXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=OWVjNTgwNmUwYzAzMzRjOTYxYjg0MTAzNzRlYTJmNzJfaTVnMzRkTzZ1SHFrc0t6VHdpTUh5Q2Z0MXRWbnl3WTZfVG9rZW46Ym94Y241N1RZZTdLbVJPajAySlprZ3pCTE1jXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**æ³•1ï¼šBFSâ­**

```C++
class Solution {
public:
    int m, n;
    vector<vector<int>> direct = {{1,0},{-1,0},{0,1},{0,-1}};
    vector<vector<int>> g;

    int bfs(pair<int, int>& start, pair<int, int>& goal) {  // ä»èµ·ç‚¹åˆ°ç›®æ ‡ç çš„æ ‘
        if (start.first == goal.first && start.second == goal.second) return 0;
        queue<pair<int, int>> q;
        q.push(start);
        int step = 0;
        vector<vector<bool>> vis(m, vector<bool>(n, false));
        vis[start.first][start.second] = true;
        while (!q.empty()) {
            step++;
            int size = q.size();
            
            while (size--) {
                pair<int, int> p = q.front();
                q.pop();

                for (auto d : direct) {
                    int x = p.first + d[0], y = p.second + d[1];
                    if (x < 0 || y < 0 || x >= m || y >= n) continue;
                    if (g[x][y] == 0) continue;
                    if (vis[x][y]) continue;
                    if (x == goal.first && y == goal.second) return step;

                    vis[x][y] = true;
                    q.push(make_pair(x, y));
                }
            }
        }
        return -1;
    }

    int cutOffTree(vector<vector<int>>& forest) {
        m = forest.size(), n = forest[0].size();
        g = forest;
        if (g[0][0] == 0) return -1;
        vector<pair<int, pair<int, int>>> tree;  //pair<height, (i,j)>
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (g[i][j] > 1) tree.push_back(make_pair(g[i][j], make_pair(i, j)));
            }
        }
        sort(tree.begin(), tree.end());  // è¿™é‡Œå¯èƒ½ä¼šéœ€è¦å¯¹tree.firstæ’åº

        pair<int, int> start = make_pair(0, 0);
        int ans = 0;
        for (auto t : tree) {
            int step = bfs(start, t.second);
            if (step == -1) return -1;
            ans += step;
            start = t.second;
        }
        return ans;
    }
};
```

- > BFSåªæœç´¢ï¼Œå¹¶ä¸æ‰¾è·¯å¾„

- > å¯¹äºdx,dyçš„æ–¹å‘ç§»åŠ¨ï¼Œdirectçš„æ–¹å¼ç”¨æ—¶æ›´é•¿ï¼

```C++
è¿™ç§å†™æ³•ä¼¼ä¹æ›´çœæ—¶ï¼ï¼
int dx[4] = {1, -1, 0, 0};
int dy[4] = {0, 0, 1, -1};
for (int i = 0; i < 4; i++) {
    int x = p.first + dx[i], y = p.second + dy[i];
    ...
}
```



**æ³•2ï¼šDijkstra ç®—æ³•**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YWMzMDMwMjk0ZjZhZGYwNWE4MjkzNDdiMDQ4NjNlMTdfd2l3dHVUNWR2SElwM1prSEd2cnRHUWJtdEZ5RFA4WndfVG9rZW46Ym94Y25aVkx5VEZab1ZWNzExZFRvM2EyM09nXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    int dirs[4][2] = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};

    int bfs(vector<vector<int>>& forest, int sx, int sy, int tx, int ty) {
        if (sx == tx && sy == ty) return 0;

        int row = forest.size();
        int col = forest[0].size();
        priority_queue<pair<int, int>, vector<pair<int, int>>, greater<pair<int, int>>> pq;
        vector<vector<bool>> visited(row, vector<bool>(col, false));
        pq.emplace(0, sx * col + sy);
        visited[sx][sy] = true;
        while (!pq.empty()) {
            auto [dist, loc] = pq.top();
            pq.pop();
            for (int j = 0; j < 4; ++j) {
                int nx = loc / col + dirs[j][0];
                int ny = loc % col + dirs[j][1];
                if (nx >= 0 && nx < row && ny >= 0 && ny < col) {
                    if (!visited[nx][ny] && forest[nx][ny] > 0) {
                        if (nx == tx && ny == ty) return dist + 1;
                        pq.emplace(dist + 1, nx * col + ny);
                        visited[nx][ny] = true;
                    }
                }
            }
        }
        return -1;
    }

    int cutOffTree(vector<vector<int>>& forest) {
        vector<pair<int, int>> trees;
        int row = forest.size();
        int col = forest[0].size();
        for (int i = 0; i < row; ++i)
            for (int j = 0; j < col; ++j)
                if (forest[i][j] > 1) trees.emplace_back(i, j);

        sort(trees.begin(), trees.end(), [&](const pair<int, int> & a, const pair<int, int> & b) {
            return forest[a.first][a.second] < forest[b.first][b.second];
        });
        
        int cx = 0;
        int cy = 0;
        int ans = 0;
        for (int i = 0; i < trees.size(); ++i) {
            int steps = bfs(forest, cx, cy, trees[i].first, trees[i].second);
            if (steps == -1) {
                return -1;
            }
            ans += steps;
            cx = trees[i].first;
            cy = trees[i].second;
        }
        return ans;
    }
};
```





#### [691. è´´çº¸æ‹¼è¯](https://leetcode.cn/problems/stickers-to-spell-word/)ï¼šBitMap / çŠ¶æ€å‹ç¼© / è®°å¿†åŒ–æœç´¢

> å›°éš¾é¢˜

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ODQ5NWM0ODdhMTFiNzAzYWFiZWQ2NmU0MWM1NjRkNTNfMmN2VEVPbHdRZzExeERFVlM3ZUl5cTVMY3laSjV4OW9fVG9rZW46Ym94Y243c3BVcjF3cng4VmNFRzNnM2VYM01DXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**ä½¿ç”¨ä½å›¾+åŠ¨æ€è§„åˆ’dpçš„æ–¹å¼ï¼š**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MzA2MmM4MDI4MDI4MjRiM2I2MGRjNDYwMzcyNjBhNzJfdGJaZWFaemFtb1BoeEdqM0RrMDhtUlc2M1UzRzRPc25fVG9rZW46Ym94Y243dFR3YmE0RFlrcE1zanpjRDgzSExoXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    int minStickers(vector<string>& stickers, string target) {
        int n = target.size();
        vector<int> dp((1 << n), 0);
        queue<int> q;  // bfs
        q.push(0);
        while (!q.empty()) {
            int cur = q.front();  // å½“å‰ä½çš„çŠ¶æ€
            q.pop();
            for (auto s : stickers) {
                int state = cur;
                vector<int> cnt(26);
                for (auto c : s) cnt[c-'a']++;
                // æ›´æ”¹targetæ¯ä¸€ä½çš„state
                for (int i = 0; i < n; i++) {
                    if (cnt[target[i]-'a'] > 0 && (state & (1 << i)) == 0) {
                        state |= 1 << i;  // ç¬¬iä½ç½®ä¸º1
                        cnt[target[i]-'a']--;
                    }
                }
                if (dp[state] || state == 0) continue;
                q.push(state);
                dp[state] = dp[cur] + 1;;
                if (state == (1 << n) - 1) {
                    return dp[state];
                }
            }
        }
        return -1;
    }
};
```





#### [938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ](https://leetcode-cn.com/problems/range-sum-of-bst/)ï¼šï¼ŸäºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†æ˜¯æœ‰åºçš„

```C++
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    int rangeSumBST(TreeNode* root, int low, int high) {
        if(root==nullptr) return 0;
        if(root->val<low) return rangeSumBST(root->right,low,high);
        if(root->val>high) return rangeSumBST(root->left,low,high);
        return root->val+rangeSumBST(root->left,low,high)+rangeSumBST(root->right,low,high);
    }
};
```

ä¼˜ç§€è§£æ³•ï¼š**äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†æ˜¯æœ‰åºçš„**

```C++
class Solution {
public:
    int ans = 0, low, high;
    int rangeSumBST(TreeNode* root, int _low, int _high) {
        low = _low, high = _high;
        dfs(root);
        return ans;
    }

    void dfs(TreeNode* root){
        if(root==nullptr) return;
        dfs(root->left);
        if(root->val >= low && root->val <= high) ans += root->val;
        dfs(root->right);
    }
};
```



#### [1609. å¥‡å¶æ ‘](https://leetcode-cn.com/problems/even-odd-tree/)ï¼šbfsç”¨é˜Ÿåˆ—ï¼Œpythonæ— ç©·å¤§inf

```C++
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    // ç›´æ¥å¹¿åº¦ä¼˜å…ˆbfs
    bool isEvenOddTree(TreeNode* root) {
        queue<TreeNode*> q;
        q.push(root);
        int level = 0;
        while (!q.empty()) {
            int size = q.size(); 
            int prev = level % 2 == 0 ? INT_MIN : INT_MAX;  // prevè®°å½•å½“å‰å±‚çš„ä¸Šä¸€èŠ‚ç‚¹çš„å€¼
            
            for (int i = 0; i < size; i++) {  //æ ¹æ®å½“å‰å±‚æœ‰å‡ ä¸ªèŠ‚ç‚¹ï¼Œæ¥å†³å®šå¾ªç¯æ¬¡æ•°
                TreeNode * node = q.front();
                q.pop();
                int cur = node->val;
                if (level % 2 == cur % 2) {  // è¦ä¿è¯å¥‡æ•°å±‚æ˜¯å¶æ•°ã€å¶æ•°å±‚æ˜¯å¥‡æ•°
                    return false;
                }
                if ((level % 2 == 0 && cur <= prev) || (level % 2 == 1 && cur >= prev)) {
                    return false;
                }
                prev = cur;
                if (node->left != nullptr) q.push(node->left);
                if (node->right != nullptr) q.push(node->right);
            }
            level++;
        }

        return true;
    }
};
```

pythonçš„infç”¨æ³•ï¼š

```Python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    def isEvenOddTree(self, root: Optional[TreeNode]) -> bool:
        level, nodes = 0, [root]
        while nodes:
            nxt, cur = [], float("inf") if level % 2 else 0  # å¥‡æ•°é™åºï¼Œå¶æ•°å‡åº
            for node in nodes:
                if (level % 2 == node.val % 2) or (level % 2 and cur <= node.val) or ((not level % 2) and cur >= node.val):
                        return False
                cur = node.val
                if node.left: nxt.append(node.left)
                if node.right: nxt.append(node.right)
            nodes = nxt
            level += 1
        return True
```



# æ»‘åŠ¨çª—å£

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹



#### 594. æœ€é•¿å’Œè°å­åºåˆ—ï¼šsort æ»‘åŠ¨çª—å£ or å“ˆå¸Œè¡¨

2ç§è§£æ³•ï¼šæ›´åƒæ˜¯æšä¸¾çš„æ»‘åŠ¨çª—å£ & å“ˆå¸Œè¡¨ï¼

```C++
class Solution {
public:
    // æ¯”èµ·æ»‘åŠ¨çª—å£ï¼Œæœ¬é¢˜è¿™ä¸ªè§£æ³•æ›´åƒæ˜¯æšä¸¾çš„æ–¹æ³•
    // æœ¬é¢˜çš„å­åºåˆ—å¹¶ä¸æ˜¯è¿ç»­çš„å­åºåˆ—ï¼Œå¯ä»¥æ–­å¼€ï¼Œå› æ­¤ç›´æ¥æŠŠåºåˆ—sort
    int findLHS(vector<int>& nums) {
        sort(nums.begin(),nums.end());  //vectorçš„beginå’Œendæ˜¯ä½¿ç”¨è¿­ä»£å™¨
        int begin = 0;
        int res = 0;  //resè®°å½•å½“å‰æœ€å¤§çš„
        for (int end = 0; end < nums.size(); end++) {
            while (nums[end] - nums[begin] > 1) {
                begin++;
            }
            if (nums[end] - nums[begin] == 1) {
                res = max(res, end - begin + 1);
            }
        }
        return res;
    }
};
class Solution {
public:
    // å®˜æ–¹é¢˜è§£ï¼šå“ˆå¸Œè¡¨çš„æ–¹æ³•â­
    int findLHS(vector<int>& nums) {
        unordered_map<int, int> cnt;  // æ‘å¡¾æ¯ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°
        int res = 0;
        // å…ˆæ„å»ºå“ˆå¸Œè¡¨
        for (int num : nums) {
            cnt[num]++;
        }
        // å†åˆ©ç”¨é”®å€¼å¯¹æŸ¥è¯¢æ¬¡æ•°
        for (auto [key, val] : cnt) {
            if (cnt.count(key + 1)) {
                res = max(res, val + cnt[key + 1]);
            }
        }
        return res;
    }
};
# å®˜æ–¹ï¼šå“ˆå¸Œè¡¨
class Solution:
    def findLHS(self, nums: List[int]) -> int:
        cnt = Counter(nums)
        return max((val + cnt[key + 1] for key, val in cnt.items() if key + 1 in cnt), default=0)
class Solution:
    # ä¸€ä¸ªå¥½ç†è§£çš„pythonç‰ˆæœ¬ï¼Œç»“åˆIDLEæˆªå›¾ç†è§£â­
    def findLHS(self, nums: List[int]) -> int:
        res = 0
        cnt = collections.Counter(nums)

        for key in cnt.keys():
            if key + 1 in cnt.keys():
                res = max(res, cnt[key] + cnt[key + 1])
        return res
```

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YzBkMzgyYjU4NmRmMzEyYThkNDUwY2Q1YjQ5NDg4NGZfNE0zZ3hTRXJBTW1BYWZCVDA1OTM2YW4xam55YkRMQ1FfVG9rZW46Ym94Y25tYUpMZ3FpWjhzZTd4WkRxN3I3M0JlXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZmJjNDU3MWZmNGZkY2MzODI3N2QyNDRmZjcyOTRlNjVfMUFMTmd3MjdmcDdQNTBwT0s5U2NxODVMT1RSZjg3elhfVG9rZW46Ym94Y25oeTJNYjJ6WGE0NjQwOWNsaXRlTWxpXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)





#### [689. ä¸‰ä¸ªæ— é‡å å­æ•°ç»„çš„æœ€å¤§å’Œ](https://leetcode-cn.com/problems/maximum-sum-of-3-non-overlapping-subarrays/)ï¼š3ä¸ªæ»‘åŠ¨çª—å£

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=Nzk1ZjA4NzFkNTBjOGQ2NmU0OGI2OTNhMjc5NDlmMDNfRWc0N3ZHUHFNYk1JcHlKQTFRekpNTkNBUnkzVmJac2ZfVG9rZW46Ym94Y25ZandmZ1NmQXNPeFlnMFZOeWF1T1JoXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

ä¸‰æ¬¡è¿‡ç¨‹ä¸­ï¼Œä¸‹æ ‡è¦åˆ†åˆ«ä¿å­˜ï¼ä¸ç„¶å°±ä¼šåƒç¬¬ä¸€æ¬¡é‚£æ ·å‡ºé”™ã€‚ã€‚

```C++
class Solution {
public:
    vector<int> maxSumOfThreeSubarrays(vector<int> &nums, int k) {
        vector<int> ans;
        int sum1 = 0, maxSum1 = 0, maxSum1Idx = 0;
        int sum2 = 0, maxSum12 = 0, maxSum12Idx1 = 0, maxSum12Idx2 = 0;
        int sum3 = 0, maxTotal = 0;
        for (int i = k * 2; i < nums.size(); ++i) {
            sum1 += nums[i - k * 2];
            sum2 += nums[i - k];
            sum3 += nums[i];
            if (i >= k * 3 - 1) {
                if (sum1 > maxSum1) {
                    maxSum1 = sum1;
                    maxSum1Idx = i - k * 3 + 1;
                }
                if (maxSum1 + sum2 > maxSum12) {
                    maxSum12 = maxSum1 + sum2;
                    maxSum12Idx1 = maxSum1Idx;
                    maxSum12Idx2 = i - k * 2 + 1;
                }
                if (maxSum12 + sum3 > maxTotal) {
                    maxTotal = maxSum12 + sum3;
                    ans = {maxSum12Idx1, maxSum12Idx2, i - k + 1};
                }
                sum1 -= nums[i - k * 3 + 1];
                sum2 -= nums[i - k * 2 + 1];
                sum3 -= nums[i - k + 1];
            }
        }
        return ans;
    }
};
```



#### [713. ä¹˜ç§¯å°äº K çš„å­æ•°ç»„](https://leetcode-cn.com/problems/subarray-product-less-than-k/)ï¼šå˜é•¿æ»‘åŠ¨çª—å£

```C++
class Solution {
public:
    // æ»‘åŠ¨çª—å£oråŒæŒ‡é’ˆ
    int numSubarrayProductLessThanK(vector<int>& nums, int k) {
        if (k <= 1) return 0;
        int n = nums.size(), ans = 0;
        for (int l = 0, r = 0, cur = 1; r < n; r++) {
            cur *= nums[r];
            while (cur >= k) cur /= nums[l++];
            ans += (r - l + 1);
        }
        return ans;
    }
};
```



#### [1984. å­¦ç”Ÿåˆ†æ•°çš„æœ€å°å·®å€¼](https://leetcode-cn.com/problems/minimum-difference-between-highest-and-lowest-of-k-scores/)ï¼šæ’åº+æ»‘åŠ¨çª—å£

è¿™æ˜¯ä¸ªå¾ˆç®€å•çš„é¢˜

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=OTI1ZjY3ZWQwNzRlNWNiNWQ5OWY0M2UyZGZjMThiYTNfRUtLMGNkMEt3eEJ5cDFEN0l0Y0k3WVptcENYYnl3Q3JfVG9rZW46Ym94Y24wMkdWaEFWVDlqWFExZ2JPY0pRaHFkXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NTljYjM3Zjk3YTQwN2Y4NjgxMjRlZDIwZmNlZTlkYjhfYXR1ZkdZYnBsOXAzOEZLcEswM3JRS1dYNmJ4MWFZRzBfVG9rZW46Ym94Y25mNGxMSGtUUWswVlJKNzBNZFVrWkliXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    int minimumDifference(vector<int>& nums, int k) {
        sort(nums.begin(), nums.end());
        int n = nums.size(), ans = nums[k-1] - nums[0];
        // æ»‘åŠ¨çª—å£é•¿åº¦ä¸ºk
        for (int i = k; i < n; ++i) {
            ans = min(ans, nums[i] - nums[i-k+1]);
        }
        return ans;
    }
};
```

**åœ¨pythonä¸­ï¼Œæ’åºçš„å‡½æ•°æœ‰ä¸¤ä¸ª**

- ç¬¬ä¸€ä¸ªæ˜¯sort()ï¼Œsortå‡½æ•°å¯¹åºåˆ—è¿›è¡Œæ°¸ä¹…æ€§çš„æ”¹å˜ï¼Œ
- ç¬¬äºŒä¸ªæ˜¯sorted()ï¼Œsortedå‡½æ•°åœ¨æ’åºåä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„åºåˆ—ï¼ŒåŸåºåˆ—ä¸å˜ã€‚

```Python
class Solution:
    def minimumDifference(self, nums: List[int], k: int) -> int:
        nums.sort()
        n = len(nums)
        ans = nums[k-1] - nums[0]
        # æ»‘åŠ¨çª—å£é•¿åº¦ä¸ºk
        for i in range(k, n):
            ans = min(ans, nums[i] - nums[i-k+1])
        return ans

        # return min(s[i + k - 1] - s[i] for i in range(len(s) - k + 1)) if k > 1 and (s:=sorted(nums)) else 0
```





# åŒæŒ‡é’ˆ

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹



#### 3.æ— é‡å¤å­—ç¬¦æœ€é•¿å­ä¸²ï¼šæ»‘åŠ¨çª—å£ å“ˆå¸Œé›†åˆunordered_set

å“ˆå¸Œé›†åˆï¼šè®°å½•å­—ç¬¦æ˜¯å¦å‡ºç°è¿‡ï¼ï¼

å¦‚æœæˆ‘ä»¬ä¾æ¬¡é€’å¢åœ°æšä¸¾å­ä¸²çš„èµ·å§‹ä½ç½®ï¼Œé‚£ä¹ˆå­ä¸²çš„ç»“æŸä½ç½®ä¹Ÿæ˜¯é€’å¢çš„ï¼

è¿™é‡Œçš„åŸå› åœ¨äºï¼Œå‡è®¾æˆ‘ä»¬é€‰æ‹©å­—ç¬¦ä¸²ä¸­çš„ç¬¬kä¸ªå­—ç¬¦ä½œä¸ºèµ·å§‹ä½ç½®ï¼Œå¹¶ä¸”å¾—åˆ°äº†ä¸åŒ…å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„ç»“æŸä½ç½®ä¸ºr_kã€‚é‚£ä¹ˆå½“æˆ‘ä»¬é€‰æ‹©ç¬¬ k+1ä¸ªå­—ç¬¦ä½œä¸ºèµ·å§‹ä½ç½®æ—¶ï¼Œé¦–å…ˆä»k+1åˆ° r_kçš„å­—ç¬¦æ˜¾ç„¶æ˜¯ä¸é‡å¤çš„ï¼Œå¹¶ä¸”ç”±äºå°‘äº†åŸæœ¬çš„ç¬¬kä¸ªå­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ç»§ç»­å¢å¤§r_k ï¼Œç›´åˆ°å³ä¾§å‡ºç°äº†é‡å¤å­—ç¬¦ä¸ºæ­¢ã€‚

è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ã€Œæ»‘åŠ¨çª—å£ã€æ¥è§£å†³è¿™ä¸ªé—®é¢˜äº†

```C++
class Solution {
public:
    int lengthOfLongestSubstring(string s) {
        unordered_set<char> win;  // å“ˆå¸Œé›†åˆï¼Œè®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°è¿‡
        int n = s.size();
        int rk = -1, ans = 0;  // å³æŒ‡é’ˆrk
        for(int i = 0; i < n; ++i){
            if(i != 0){  //ç¬¬ä¸€ä¸ªå¼€å§‹çš„çª—å£ä¸ç§»åŠ¨
                win.erase(s[i-1]);
            }
            while(rk+1<n && !win.count(s[rk+1])){
                win.insert(s[rk+1]);
                ++rk;
            }
            ans = max(ans, rk-i+1);
        }
        return ans;
    }
};
```



#### [658. æ‰¾åˆ° K ä¸ªæœ€æ¥è¿‘çš„å…ƒç´ ](https://leetcode.cn/problems/find-k-closest-elements/)ï¼šäºŒåˆ†+åŒæŒ‡é’ˆ

æ³•1ï¼š

å®¹æ˜“æƒ³åˆ°å…ˆé€šè¿‡ã€ŒäºŒåˆ†ã€æ‰¾åˆ°ä¸ x å·®å€¼æœ€å°çš„ä½ç½® idxï¼Œç„¶åä» idx å¼€å§‹ä½¿ç”¨ã€ŒåŒæŒ‡é’ˆã€å¾€ä¸¤è¾¹è¿›è¡Œæ‹“å±•ï¼ˆåˆå§‹åŒ–å·¦ç«¯ç‚¹ i = idx - 1ï¼Œå³ç«¯ç‚¹ j = idx + 1ï¼‰ï¼Œå«ä¹‰ä¸º [i + 1, j - 1] èŒƒå›´å†…å­æ•°ç»„ä¸ºå€™é€‰åŒºé—´ï¼Œä¸æ–­æ ¹æ®ä¸¤è¾¹ç•Œä¸ x çš„å·®å€¼å…³ç³»è¿›è¡Œæ‰©å……ï¼Œç›´åˆ°å€™é€‰åŒºé—´åŒ…å« k ä¸ªæ•°ã€‚

```C++
class Solution {
public:
    vector<int> findClosestElements(vector<int>& arr, int k, int x) {
        int n = arr.size();
        int l = 0, r = n - 1;
        while (l < r) {
            int mid = l + r + 1 >> 1;        // int mid = (l + r + 1) / 2;
            if (arr[mid] <= x) l = mid;
            else r = mid - 1;
        }
        // ä¸xæœ€è¿‘çš„ä½ç½®åœ¨rä¸Š
        if (r < n - 1 && abs(arr[r + 1] - x) < abs(arr[r] - x)) r += 1;

        int i = r - 1, j = r + 1;
        // [i+1, j-1]
        while (j - i - 1 < k) {
            if (i >= 0 && j < n) {
                if (abs(arr[j] - x) < abs(arr[i] - x)) j++;
                else i--;
            } else if (i >= 0) {
                i--;
            } else {
                j++;
            }
        }
        vector<int> ans;
        for (int p = i + 1; p <= j - 1; p++) ans.push_back(arr[p]);
        return ans;
    }
};
```

æ³•2ï¼šè¿˜æœ‰ç§ç›´æ¥æ’åºçš„åšæ³•

```C++
class Solution {
public:
    vector<int> findClosestElements(vector<int>& arr, int k, int x) {
        sort(arr.begin(), arr.end(), [x](int a, int b) -> bool {
            return abs(a - x) < abs(b - x) || abs(a - x) == abs(b - x) && a < b;
        });
        sort(arr.begin(), arr.begin() + k);
        return vector<int>(arr.begin(), arr.begin() + k);
    }
};
```

æ³•3ï¼šä¸ç”¨é¦–å°¾æ‰©å±•ï¼Œç›´æ¥æŒ‰ç…§ké•¿åº¦æ»‘çª—

```Swift
class Solution {
public:
    vector<int> findClosestElements(vector<int>& arr, int k, int x) {
    int left=0;  int right=arr.size();
    while(true){
        if(right-left==k){
            break;
        }
   if(abs(arr[left]-x)<abs(arr[right-1]-x)||abs(arr[left]-x)==abs(arr[right-1]-x)){
        right--;
   }else{
       left++;
   }
    }
    return     vector<int>(arr.begin()+left,arr.begin()+right);
    }
};
```





#### [825. é€‚é¾„çš„æœ‹å‹](https://leetcode-cn.com/problems/friends-of-appropriate-ages/)ï¼šæ’åº+åŒæŒ‡é’ˆ

è¿™ä¸ªè§£æ³•ï¼Œæ˜¯ä»¥yä¸ºè§†è§’ï¼Œçœ‹å“ªä¸ªxå¯ä»¥ç»™è‡ªå·±å‘

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MTM4NzZjMDc5MjU5NDdlYTQ5OGI2MDRlMWI5Yjk3MDJfUmZFcVMzdWJoSlNxOTI4SDh2OENwTGZFdDNvdWVSNWpfVG9rZW46Ym94Y25lcE1sV016SFVyZVNtRGFZdUV2MkxnXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    // xåªä¼šå‘æ¯”è‡ªå·±å°çš„å‘é€
    // ä»yçš„è§†è§’ï¼Œ(i,j]ï¼Œ ä½¿ç”¨åŒæŒ‡é’ˆ
    // å³å¯¹äºä¸€ä¸ªç¡®å®šçš„yï¼Œä¼šå‘é€å¥½å‹è¯·æ±‚çš„xèŒƒå›´ä¸ºè¿ç»­æ®µï¼šåŒé¾„y~åœ¨é™å®šæ¡ä»¶ä¸‹çš„ä¸€å®šèŒƒå›´
    int numFriendRequests(vector<int>& ages) {
        sort(ages.begin(), ages.end());
        int ans = 0, n = ages.size();
        for(int k = 0, i = 0, j = 0; k < n; k++){
            while(i < k && !check(ages[i], ages[k])) i++;  // i+1å¼€å§‹å°±å¯ä»¥å‘é€
            if(j < k) j = k + 1;
            while(j < n && check(ages[j], ages[k])) j++;  // ç›´åˆ°jä¹‹åå°±ä¸èƒ½å†å‘é€
            if(j > i) ans += j - i - 1;
        }
        return ans;
    }

    // åˆ¤æ–­æ¡ä»¶ç»Ÿä¸€å†™ï¼æ£€æŸ¥æ˜¯å¦ x->y å‘é€ï¼Œå‘é€åˆ™ä¸ºtrue
    bool check(int x, int y){
        if(y <= 0.5 * x + 7) return false;
        if(y > x) return false;
        if(y > 100 && x < 100) return false; 
        return true;
    }
};
```



#### [917. ä»…ä»…åè½¬å­—æ¯](https://leetcode-cn.com/problems/reverse-only-letters/)ï¼š

```C++
class Solution {
public:
    string reverseOnlyLetters(string s) {
        int n = s.size();
        for (int i = 0, j = n - 1; i < j; ) {
            while (i < j && !isalpha(s[i])) i++;
            while (i < j && !isalpha(s[j])) j--;
            if (i < j) {
                swap(s[i], s[j]);
                i++, j--;
            }
        }
        return s;
    }
};
class Solution:
    def reverseOnlyLetters(self, s: str) -> str:
        ls = list(s)
        i, j = 0, len(ls)-1
        while True:
            while i < j and not ls[i].isalpha(): i += 1
            while i < j and not ls[j].isalpha(): j -= 1
            if i >= j: break
            ls[i], ls[j] = ls[j], ls[i]
            i += 1
            j -= 1
        return ''.join(ls)
```



#### [1021. åˆ é™¤æœ€å¤–å±‚çš„æ‹¬å·](https://leetcode.cn/problems/remove-outermost-parentheses/)ï¼šåŒæŒ‡é’ˆæ¨¡æ‹Ÿæ›´å¥½ç†è§£

> åªéœ€è¦æ‰¾å‡ºå¤–å±‚æ‹¬å·ï¼Œåˆ é™¤ï¼›äºæ˜¯å°±ç›¸å½“äºè®°å½•ä¸€ä¸‹æ‹¬å·çš„æ·±åº¦

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjJhN2U5NDdmODkxNjgwZTdmNjI5ZTVlN2EzOWM4ZGJfQjRURGhSSlV5RnozN29CTE5yMmtTRVpCQzhlZlNyYk1fVG9rZW46Ym94Y25qY09BZW4xdFY4eHNPNklMOHM5ajdnXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**æ³•1ï¼šåŒæŒ‡é’ˆ**

- > æ³¨æ„C++ä¸­ï¼Œæ±‚å­ä¸²`s.substr(a,b) `æ˜¯æŒ‡ä»aå¼€å§‹çš„bä¸ªï¼›

- > **æ³¨æ„è¾¹ç•Œï¼ï¼**

```C++
string removeOuterParentheses(string s) {
    string ans;
    int n = s.size();
    for (int i = 0; i < n; i++) {
        int j = i;
        int score = 0;
        while (i == j || score != 0) {
            score += (s[j++] == '(') ? 1 : -1;
        }
        ans += s.substr(i + 1, j - i - 2);  // [i+1, jâˆ’1)  j-2-i-1+1
        i = j - 1;
    }
    return ans;
}
```

**æ³•2ï¼šç›´æ¥åšä¸€ä¸ªæ ‡è®°ï¼Œé¡ºåºå¾ˆé‡è¦ï¼**

```C++
string removeOuterParentheses(string s) {
    string ans;
    int tag = 0;
    for (auto c : s) {
        if (c == ')') tag--;
        if (tag != 0) ans.push_back(c);
        if (c == '(') tag++;
    }
    return ans;
}
```



#### [1446. è¿ç»­å­—ç¬¦](https://leetcode.cn/problems/consecutive-characters/)ï¼šæŒ‰ç…§ä¸‹æ ‡ä¸€æ¬¡éå†

> æ±‚è¿ç»­å­—ç¬¦é•¿åº¦ï¼šéå†



#### [1748. å”¯ä¸€å…ƒç´ çš„å’Œ](https://leetcode-cn.com/problems/sum-of-unique-elements/)ï¼šåŒæŒ‡é’ˆ or å“ˆå¸Œè¡¨

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NTk1ZmFmODJhZTViYjBkM2NmMDU0OWUzMmYwNzJhZGZfZ0JqYlJ4Mjl2azlDVlhISjBXQVhaRnBvV3NGcUpnODRfVG9rZW46Ym94Y25TNmlYdmpxSXQzazhrZ1ZFbkNiMEZDXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**åŒæŒ‡é’ˆçš„æ–¹æ³•ï¼š**

```C++
class Solution {
public:
    int sumOfUnique(vector<int>& nums) {
        sort(nums.begin(), nums.end());
        int n = nums.size(), ans = 0;
        for(int i = 0; i < n; ){
            int j = i;
            while(j < n && nums[j] == nums[i])
                j++;
            if(j - i == 1)
                ans += nums[i];
            i = j;
        }
        return ans;
    }
};
```



**å“ˆå¸Œè¡¨çš„æ–¹æ³•ï¼š**

```C++
class Solution {
public:
    int sumOfUnique(vector<int>& nums) {
        unordered_map<int, int> map;
        int ans = 0;
        for(auto &i : nums)
            map[i]++;
        for(auto &i : nums){
            if(map[i] == 1)
                ans += i;
        }
        return ans;
    }
};
class Solution:
    def sumOfUnique(self, nums: List[int]) -> int:
        return sum(i for i, j in Counter(nums).items() if j == 1)
```











# äºŒåˆ†



> **äºŒåˆ†æŸ¥æ‰¾**æœ‰ä¸åŒçš„åº”ç”¨ï¼š

1. > æ‰¾åˆ° target çš„ä½ç½®ï¼ˆå¸¸è§ï¼‰

2. > æ‰¾åˆ°å¤§äºç­‰äº target çš„ç¬¬ä¸€ä¸ªä½ç½®

3. > æ‰¾åˆ°å¤§äº target çš„ç¬¬ä¸€ä¸ªä½ç½®

4. > æ‰¾åˆ°å°äºç­‰äº target çš„ç¬¬ä¸€ä¸ªä½ç½®

5. > æ‰¾åˆ°å°äº target çš„ç¬¬ä¸€ä¸ªä½ç½®

æ€»ç»“èµ·æ¥ï¼Œå…¶æ–¹æ³•ï¼š

## **å‡ ç§å¸¸è§çš„äºŒåˆ†æ³•åŠç›¸åº”ä½¿ç”¨åœºæ™¯**

1. ### åœ¨ä¸€ä¸ªå•è°ƒé€’å¢åŒºé—´å†…æŸ¥æ‰¾æŸä¸ªå€¼

- ä½¿ç”¨left <= rightï¼Œleftåˆå§‹å€¼æŒ‡å‘åŒºé—´ç¬¬ä¸€ä¸ªç´¢å¼•ï¼ˆä¸€èˆ¬æ˜¯0ï¼‰ï¼Œrightåˆå§‹å€¼æŒ‡å‘åŒºé—´æœ€åä¸€ä¸ªç´¢å¼•ï¼ˆä¸€èˆ¬æ˜¯n-1ï¼‰ï¼›
- æ‰¾åˆ°ç›´æ¥è¿”å›midï¼›
- å¦‚æœnums[mid] < target,åˆ™left = mid + 1;
- å¦åˆ™nums[mid] > target,åˆ™right = mid - 1ã€‚

```Java
public int bsearch(int[] nums, int target) {
    int left = 0, right = nums.length - 1;
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] == target) return mid;
        
        else if (nums[mid] < target) left = mid + 1;
        else right = mid - 1;
    }
    // æ‰¾ä¸åˆ°targetè¿”å›-1
    return -1;
}
```

1. ### åœ¨ä¸€ä¸ªå•è°ƒé€’å¢åŒºé—´å†…æŸ¥æ‰¾ä¸€ä¸ªå¤§äºç­‰äºæŸä¸ªå€¼çš„æœ€å°ç´¢å¼•æˆ–å°äºç­‰äºæŸä¸ªå€¼çš„æœ€å¤§ç´¢å¼•

æ­¤æ—¶ï¼Œå¦‚æœæ‰¾åˆ°è¿™ä¸ªmidå€¼ï¼Œä¸èƒ½ç›´æ¥è¿”å›ï¼Œè¿˜éœ€è¦åˆ¤æ–­è¿™ä¸ªå€¼æ˜¯å¦æ˜¯æœ€å¤§ç´¢å¼•æˆ–æœ€å°ç´¢å¼•ï¼Œæœ‰å¯¹åº”çš„**å‘å·¦é€¼è¿‘**çš„äºŒåˆ†æŸ¥æ‰¾å’Œ**å‘å³é€¼è¿‘**çš„äºŒåˆ†æŸ¥æ‰¾æ–¹æ³•ï¼ˆè¿™é‡Œçš„é€¼è¿‘æ˜¯æŒ‡å½“nums[mid]==targetæ—¶ï¼Œæœç´¢åŸŸå‘å·¦é€¼è¿‘æˆ–å‘å³é€¼è¿‘ï¼‰ã€‚

#### 2.1 å‘å·¦é€¼è¿‘ï¼šæŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºç»™å®šå€¼çš„å…ƒç´ 

> æ‰¾==ç›®æ ‡çš„å³ä¾§

```Java
å‘å·¦é€¼è¿‘ï¼šæŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºç»™å®šå€¼çš„å…ƒç´ 
public static int bsearch1(int[] nums, int target) {
    int left = 0, right = nums.length;
    while (left < right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) left = mid + 1;
        else right = mid;
    }
    if (left == nums.length) return -1;
    return left;
}
```

#### 2.2 å‘å³é€¼è¿‘ï¼šæŸ¥æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äºç»™å®šå€¼çš„å…ƒç´ 

> æ‰¾==ç›®æ ‡çš„å·¦ä¾§

```Java
å‘å³é€¼è¿‘ï¼šæŸ¥æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äºç»™å®šå€¼çš„å…ƒç´ 
public static int bsearch2(int[] nums, int target) {
    int left = 0, right = nums.length;
    while (left < right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] > target) right = mid;
        else left = mid + 1;
    }
    if (left == 0) return -1;
    return left - 1;
}
```

#### 2.3 å‘å·¦é€¼è¿‘å’Œå‘å³é€¼è¿‘çš„åŒºåˆ«

åŒºåˆ«ä¸»è¦åœ¨å¯¹nums[mid] == targetåœºæ™¯çš„å¤„ç†ï¼Œæ­¤æ—¶ï¼Œ

- å¦‚æœå¤„ç†ä¸ºright = midï¼Œå¯ç†è§£ä¸ºrightæŒ‡é’ˆå‘å·¦ç§»åŠ¨é€¼è¿‘midï¼Œåˆ™æ˜¯å‘å·¦é€¼è¿‘ï¼›
- å¦‚æœå¤„ç†ä¸ºleft = mid + 1ï¼Œå¯ç†è§£ä¸ºleftæŒ‡é’ˆå‘å³ç§»åŠ¨é€¼è¿‘midï¼Œåˆ™æ˜¯å‘å³é€¼è¿‘ã€‚

äºŒåˆ†æŸ¥æ‰¾å®Œæˆåè¿”å›å€¼ä¸ä¸€æ ·ï¼Œå‘å·¦é€¼è¿‘æ˜¯è¿”å›leftï¼Œå‘å³é€¼è¿‘æ˜¯è¿”å›left - 1ï¼Œä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Œåˆå¦‚ä½•ç†è§£ï¼Ÿ

- é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼Œ**å½“ä½¿ç”¨left < rightç±»çš„äºŒåˆ†æŸ¥æ‰¾ç»“æŸæ—¶**ï¼Œ**left == right**ï¼Œé€€å‡ºwhileå¾ªç¯ï¼›
- å‘å·¦é€¼è¿‘æ˜¯å½“nums[mid] == targetï¼Œé‡‡å–right = midï¼Œæ‰€ä»¥å¾ªç¯æœ€åå¾—åˆ°å¯ç”¨çš„midçš„å€¼ï¼Œæ˜¯ç­‰äºrightçš„ï¼Œä¹Ÿç­‰äºleftï¼Œæ‰€ä»¥è¿”å›leftï¼›
- è€Œå‘å³é€¼è¿‘ï¼Œå½“nums[mid] == targetï¼Œé‡‡å–çš„æ˜¯left = mid + 1ï¼Œæ•… mid = left - 1, å³å¾ªç¯æœ€åå¾—åˆ°å¯ç”¨çš„midçš„å€¼ï¼Œæ˜¯ç­‰äºleft - 1çš„ï¼Œæ‰€ä»¥è¿”å›left - 1ã€‚



> ä½†æ˜¯ï¼Œä¸å¿…æ‹˜æ³¥äºä¸Šè¿°çš„æ¨¡æ¿ï¼ï¼

## é¢˜ç›®

#### [436. å¯»æ‰¾å³åŒºé—´](https://leetcode.cn/problems/find-right-interval/)ï¼šæ’åº+äºŒåˆ†

> å¯»æ‰¾å½“å‰åŒºé—´æ˜¯å¦æœ‰é‡å åŒºé—´ï¼Ÿ

> å®šä¹‰ï¼šå½“åŒºé—´ *B* çš„èµ·ç‚¹ **å¤§äºç­‰äº** åŒºé—´ *A* çš„ç»ˆç‚¹ï¼Œæˆ‘ä»¬å°±è¯´åŒºé—´ *B* åœ¨åŒºé—´ *A* çš„å³ä¾§ã€‚

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTA0OWFkZDdmMTJiNjUyMmEyMTQxOGIxMzkyYTY5YmNfVkY5UUtWVkpOaUpKUE9ZaDM4Q3NWcXNLeWhBRFg0ek1fVG9rZW46Ym94Y25XVk1wS3pPcmNoRDE0eVc0WGtwOGhlXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

> è¿™é‡Œçš„äºŒåˆ†æŸ¥æ‰¾ï¼Œå°±æ˜¯æ‰¾>=targetçš„ç¬¬ä¸€ä¸ªä½ç½®

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NzgyY2QwOGI5OTIyNmRkOGZjYmU5ZGRhZmVlYzAzZWRfTGs4S1FkdG5KTUxRRDRFMVFlSDJneFVVVHpqT3VzY2RfVG9rZW46Ym94Y25OaldldXROOHdoYnhZZjRpMVhDTExjXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```Java
class Solution {
    public int[] findRightInterval(int[][] its) {
        int n = its.length;
        int[][] clone = new int[n][2];
        for (int i = 0; i < n; i++) clone[i] = new int[]{its[i][0], i};
        Arrays.sort(clone, (a,b)->a[0]-b[0]);
        int[] ans = new int[n];
        for (int i = 0; i < n; i++) {
            int l = 0, r = n - 1;
            while (l < r) {
                int mid = l + r >> 1;
                if (clone[mid][0] >= its[i][1]) r = mid;
                else l = mid + 1;
            }
            ans[i] = clone[r][0] >= its[i][1] ? clone[r][1] : -1;
        }
        return ans;
    }
}
å®˜æ–¹é¢˜è§£ï¼š
    vector<int> findRightInterval(vector<vector<int>>& its) {
        vector<pair<int, int>> itsPair;
        int n = its.size();
        for (int i = 0; i < n; i++) {
            itsPair.emplace_back(its[i][0], i);
        }
        sort(itsPair.begin(), itsPair.end());

        vector<int> ans(n, -1);
        for (int i = 0; i < n; i++) {
            auto it = lower_bound(itsPair.begin(), itsPair.end(), make_pair(its[i][1], 0));
            if (it != itsPair.end()) {
                ans[i] = it->second;
            }
        }
        return ans;
```

- > `lower_bound`ç”¨äºæŸ¥æ‰¾å®¹å™¨ä¸­å¤§äºç­‰äºæŸå€¼çš„æ•°ï¼Œè¿”å›è¿™ä¸ªæ•°çš„æŒ‡é’ˆã€‚

- > `upper_bound`ç”¨äºæŸ¥æ‰¾å®¹å™¨ä¸­å¤§äºæŸå€¼çš„æ•°ï¼Œè¿”å›è¿™ä¸ªæ•°çš„æŒ‡é’ˆã€‚

- > `#include <algorithm>`



#### [475. ä¾›æš–å™¨](https://leetcode-cn.com/problems/heaters/)ï¼šå«æœ‰è´ªå¿ƒæ€æƒ³çš„åŒæŒ‡é’ˆï¼Ÿ

å…³äºå¤æ‚åº¦çš„è®¡ç®—ï¼š

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZGYyNTdlNTljYTA3MmZiY2EzNmNjMWZkNzliNjM4NGFfYXRsVDI0WmFjZnEwY0NXRndHNTZsTG14UG90MmJ3NUJfVG9rZW46Ym94Y256cWJzbGV4MXp0SkdacHQyUVU1TTNkXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

ä¼˜è§£ï¼šåœ¨heaterä¸¤ç«¯è®¾ç½®ä¸¤ä¸ªæé™æƒ…å†µï¼Œç”¨æ¥æ§åˆ¶è¾¹ç•Œ

```C++
class Solution {
public:
    int findRadius(vector<int>& houses, vector<int>& heaters) {
        sort(houses.begin(), houses.end());
        sort(heaters.begin(), heaters.end());
        // å¢åŠ å·¦å³ä¸¤ä¸ªæ§åˆ¶è¾¹ç•Œçš„heater
        heaters.insert(heaters.begin(), INT_MIN);
        heaters.push_back(INT_MAX);

        long long r = 0;
        int n = heaters.size(), m = houses.size();
        int cur = 0;
        for(int i = 0; i < m; i++){
            while(cur <= n + 1){
                if(heaters[cur] >= houses[i])
                    break;
                else cur++;
            }
            long long x = min((long long)heaters[cur] - houses[i], (long long)houses[i] - heaters[cur - 1]);
            r = max(r, x);
        }

        return r;
    }
};

// ä¸€ä¸ªæŠ€å·§ï¼šæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨å·¦è¾¹å’Œå³è¾¹åˆ†åˆ«æ”¾ç½®ä¸€ä¸ªæœ€è¿œçš„åŠ çƒ­å™¨ï¼Œ
// å®ƒä¸ä¼šæˆä¸ºåˆ°æˆ¿å±‹æœ€è¿‘çš„åŠ çƒ­å™¨ï¼Œä½†æ˜¯è®©æˆ‘ä»¬ä¸å†éœ€è¦å¤„ç†è¾¹ç•Œæ¡ä»¶äº†
```



#### [540. æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ ](https://leetcode-cn.com/problems/single-element-in-a-sorted-array/)ï¼šè„‘ç­‹æ€¥è½¬å¼¯ï¼Ÿæ˜ç¡®è¦æ±‚å¤æ‚åº¦

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NGRlZmM5M2U2YThlMWM3ZGUzYTUxN2Q4ODc1MWFmOTJfaXB2cjJIbUF3UjIwSlZiNmc5eVlob0RjY0NqVEZQMXlfVG9rZW46Ym94Y25EVW12V3NvdHBJeFFEOWJGRlR4Nm9nXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

å…³é”®åœ¨äºï¼šæ€ä¹ˆæ ·äºŒåˆ†ï¼Ÿç”±äºè¿™æ˜¯ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼š

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZGNjYTkxMDdiYjViYmM3MDAzMjRiNzM4N2I3MWE2YzRfT3JqZTRDYWdzOGR0VEt3OXY5RURjWXlpSXpXV0szWXJfVG9rZW46Ym94Y244Z1R6dmtZQzh2TDlJRTJIYVgxbmVkXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    // é¢˜ç›®æ˜ç¡®è¦æ±‚O(log n)çš„æ—¶é—´å¤æ‚åº¦ï¼šäºŒåˆ†æŸ¥æ‰¾ğŸ˜…
    int singleNonDuplicate(vector<int>& nums) {
        int n = nums.size();
        int l = 0, r = n - 1;
        while (l < r) {
            int mid = (l + r) / 2;
            if (mid % 2 == 0) {
                if (mid + 1 < n && nums[mid] == nums[mid + 1]) l = mid + 1;  //è¯´æ˜åœ¨midå³è¾¹
                else r = mid;  // è¯´æ˜åœ¨midå·¦è¾¹
            }
            else {
                if (mid - 1 >= 0 && nums[mid - 1] == nums[mid]) l = mid + 1;
                else r = mid;
            }
        }
        return nums[r];
    }
};
```

> ç”±äºæ•°ç»„æœ‰åºï¼Œä¸”åªæœ‰ä¸€ä¸ªå…ƒç´ å‡ºç°ä¸€æ¬¡ï¼›å‰©ä¸‹æ‰€æœ‰å…ƒç´ ç»“å¯¹å‡ºç°ã€‚

> é‚£ä¹ˆå¯¹äº [l, mid]ï¼Œ[mid+1, r] ä¸¤æ®µåŒºé—´è€Œè¨€ï¼Œå”¯ä¸€çš„å…ƒç´  target å¿…ç„¶å‡ºç°åœ¨ä¸¤è€…ä¹‹ä¸€çš„ä½ç½®ã€‚

> è€ƒè™‘æ•°ç»„ä¸­ä»»æ„å¶æ•°ä¸‹æ ‡xçš„å…ƒç´ ï¼šå¦‚æœxä¹‹å‰ï¼Œæ²¡æœ‰å‡ºç°è¿‡ targetï¼Œæ˜¾ç„¶ x å’Œ x+1 å¯¹åº”çš„å…ƒç´ åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºæ²¡æœ‰å‡ºç°targetåˆ™æ„å‘³ç€æ‰€æœ‰å…ƒç´ éƒ½æ˜¯æˆå¯¹å‡ºç°ã€‚



#### [668. ä¹˜æ³•è¡¨ä¸­ç¬¬kå°çš„æ•°](https://leetcode.cn/problems/kth-smallest-number-in-multiplication-table/)ï¼šå›°éš¾é¢˜ï¼Œå¦™æ€

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTliZjdhYmJhZGU2MDMwYzZmNTE0YTJiZjcyNDI2OGRfakZRS3g4b3M0OEZYS2xHWXhCczdzVzAxY21KdDBOSmZfVG9rZW46Ym94Y255SURrd2RmYmtuUXdrRFhMMEM0cDdiXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=OWQ2NzgxN2Q2MmQwMDQ5MDJlM2ZkNzNmNjQxNmNlZGNfWEs1QnV5TFhraktpdkFXN1lLUFpoQ3pwaEJ4cWNDblNfVG9rZW46Ym94Y255dnAwaUtxWnN6MHdYY0NJajF4QVVoXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

**æœ¬é¢˜çš„å…³é”®æ€æƒ³ï¼š**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ODcyOGRkZTQ0YjM3MzM5YWZhMjljMGNmYjY2NmI0OTZfVFdPU0xQNDdkNktsbnBhQlhQcGhlWEhvTlNabm4yVHZfVG9rZW46Ym94Y25Pa2ozUG9BRklpQkFyN0Jub0pRSDdnXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```Java
class Solution {
public:
    int getCnt(int m, int n, int k) {  // è·å–<=kçš„æ•°ç›®
        int res = 0;
        for (int i = 1; i <= m; i++) {
            res += min(k / i, n);
        }
        return res;
    }
    int findKthNumber(int m, int n, int k) {
        int l = 1, r = m * n;  // l,r è§„å®šäº†å€™é€‰åŒºé—´çš„å·¦å³è¾¹ç•Œ
        while (l < r) {   // ä¸èƒ½å†™æˆ<=ï¼Œä¼šæ­»å¾ªç¯ï¼ï¼
            int mid = l + (r - l) / 2;
            if (getCnt(m, n, mid) >= k) r = mid;
            else l = mid + 1;
        }
        return l;
    }
};
```



#### [719. æ‰¾å‡ºç¬¬ K å°çš„æ•°å¯¹è·ç¦»](https://leetcode.cn/problems/find-k-th-smallest-pair-distance/)ï¼šäºŒåˆ†+åŒæŒ‡é’ˆ

è½¬åŒ–äº†ä¸€ä¸‹æ€è·¯ï¼šâ€œç¬¬kå°çš„â€-->â€œè·ç¦»å–å€¼èŒƒå›´ï¼Œå–åˆ°å“ªä¸ªä¼šè®©æ°å¥½æœ‰kä¸ªâ€

- > æ€è·¯ï¼šæˆ‘ä»¬å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œè®¾æ•°å¯¹è·ç¦»ä¸ºdisï¼Œåˆ™disçš„å–å€¼èŒƒå›´æ˜¯**[0,nums[n-1]-nums[0]]**ï¼Œç„¶åæˆ‘ä»¬é€šè¿‡**äºŒåˆ†æŸ¥æ‰¾**ç¬¬kå°è·ç¦»æ˜¯å¤šå°‘ã€‚

- > ä¸ºäº†æ‰¾åˆ°å½“å‰å°äºmidçš„æ•°å¯¹ä¸ªæ•°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡**åŒæŒ‡é’ˆ**æ¥è®¡ç®—è´¡çŒ®å€¼ã€‚

- > å¯ç»Ÿè®¡å€¼å°äºç­‰äº mid çš„æ•°é‡ï¼šæšä¸¾å·¦ç«¯ç‚¹ iï¼Œæ¯æ¬¡æ‰¾ç¬¬ä¸€ä¸ªä¸æ»¡è¶³æ¡ä»¶çš„å³ç«¯ç‚¹ j

- > ç”±äºjæ˜¯ç¬¬ä¸€ä¸ªä¸æ»¡è¶³æ¡ä»¶çš„å€¼ï¼Œå› æ­¤åˆæ³•å³ç«¯ç‚¹èŒƒå›´ä¸º`[i+1, j-1]`ï¼Œå…±`j-i-1`ä¸ªï¼Œ

- > åˆ©ç”¨ nums æœ‰åºï¼Œå¹¶ä¸”æ‰€æœ‰nums[i]å‡ä¸ºæ­£æ•°ï¼Œå¯çŸ¥ j ä¼šéšç€ i å¢å¤§è€Œé€æ­¥å¢å¤§ï¼Œå³è¿™éƒ¨åˆ†åˆ©ç”¨ã€ŒåŒæŒ‡é’ˆã€å¯å®ç° O(n) å¤æ‚åº¦

```C++
class Solution {
public:
    int check(int mid, vector<int> nums)  // é—´è·æ¯”midå°çš„ä¸ªæ•°
    {
        int n = nums.size(), ans = 0;
        for (int i = 0, j = 1; i < n; i++) {
            while (j < n && nums[j] - nums[i] <= mid) j++;
            ans += (j - i - 1);
        }
        return ans;
    }
    int smallestDistancePair(vector<int>& nums, int k) {
        sort(nums.begin(), nums.end());
        int n = nums.size();
        int l = 0, r = nums[n - 1] - nums[0];  // é—´è·çš„å–å€¼å·¦å³è¾¹ç•Œ
        while (l < r) {
            int mid = l + (r - l) / 2;
            if (check(mid, nums) >= k) r = mid;  // æ¯”midå°çš„ä¸ªæ•°æ˜¯å¦æœ‰kä¸ª
            else l = mid + 1;
        }
        return r;  // l=r=midï¼Œå› ä¸ºæ˜¯ç¬¬kä¸ªï¼
    }
};
```



#### [875. çˆ±åƒé¦™è•‰çš„ç‚ç‚](https://leetcode.cn/problems/koko-eating-bananas/)ï¼šåˆ†æå¥½è¾¹ç•Œï¼

```PowerShell
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼špiles = [3,6,7,11], h = 8
è¾“å‡ºï¼š4
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼špiles = [30,11,23,4,20], h = 5
è¾“å‡ºï¼š30
ç¤ºä¾‹ 3ï¼š
è¾“å…¥ï¼špiles = [30,11,23,4,20], h = 6
è¾“å‡ºï¼š23
```

- > é€Ÿåº¦å¤§äº`max(piles[i])`ï¼Œå®åˆ™æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºæ¯å°æ—¶ä¸€å †ï¼›

- > å½“hå¤ªå°ï¼Œåƒä¸å®Œå°±å¯ä»¥æ‘†çƒ‚äº†ğŸ˜…

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MWM2YTlmNzViMzJiZDFmNjRiNzNlZWY4OGRjMzc0ODZfTkMzSlBXM1F0V25YWjNacEdhNmJEVXYzQXRRY2lpdU1fVG9rZW46Ym94Y25CenJMM1lGY291aDhJM1cwS0pDV2RmXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

- è®¡ç®—å‡ºä»¥å½“å‰midçš„é€Ÿåº¦åƒæ‰ï¼Œéœ€è¦æ¶ˆè€—å¤šå°‘æ—¶é—´ï¼Œä¹Ÿå¾ˆé‡è¦ï¼
- æˆ‘çš„è§£æ³•ï¼š`ans += pile%mid==0 ? pile/mid : pile/mid + 1;`

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZDA1YmIyNDc3NmExMjZmOWI1NWNmYzRmY2YzNDA5NzlfbjJwS013bHZCMDhmTnZsbzNodG5XYlVUWUF3a0JscUlfVG9rZW46Ym94Y25nNnN2VGhIR2lneEJtcGdheXRZczBkXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    bool check (vector<int>& piles, int h, int mid) {
        int ans = 0;
        for (int& pile : piles) 
            // ans += (pile + mid - 1) / mid;
            ans += pile%mid==0 ? pile/mid : pile/mid + 1;
        if (ans <= h) return true;
        else return false;
    }
    int minEatingSpeed(vector<int>& piles, int h) {
        int maxNum = INT_MIN;  // #include <limits.h>
        for (auto& pile : piles) maxNum = max(maxNum, pile);

        int l = 1, r = maxNum;
        while (l < r) {
            int mid = l + (r - l) / 2;
            if (check(piles, h, mid)) r = mid; // ræ˜¯æœ€èµ·ç çš„é€Ÿåº¦
            else l = mid + 1;
        }
        return l;
    }
};
```







#### [911. åœ¨çº¿é€‰ä¸¾](https://leetcode-cn.com/problems/online-election/)ï¼š

å®ç°æ€è·¯ï¼šå¯ä»¥å‚è€ƒæ¼”è‰

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MzE5MWJhOGYwYjI1MGRjYTk3OTk4NDMxNTI1NTRlNGZfNDNSUWpPdUNieVVVcHh4NVFYOVJFSkpObUFyeEY2cXdfVG9rZW46Ym94Y240bTBMTmdkVUo4QVNpVzhKSjNlcGtmXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

#### 









# å¹¶æŸ¥é›†

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹





# æ•°å­¦

#### [50. Pow(x, n)](https://leetcode-cn.com/problems/powx-n/)ï¼šäºŒè¿›åˆ¶ç§»ä½ï¼Œå¿«é€Ÿå¹‚

```C++
class Solution {
public:
    double myPow(double x, int n) {
        long long N = n;
        return N >= 0 ? quickMul(x, N) : 1.0 / quickMul(x, -N);
    }
    double quickMul(double x, long long N) {
        double ans = 1.0;
        while (N > 0){
            if(N&1)
                ans *= x;
            x *= x;
            N >>= 1;
        }
        return ans;
    }
};
class Solution:
    def myPow(self, x: float, n: int) -> float:
        return self.quickMul(x, n) if n >= 0 else 1.0 / self.quickMul(x, -n)
    def quickMul(self, x, N):
        ans = 1.0
        while N > 0:
            if N % 2 == 1:
                ans *= x
            x *= x
            N //= 2
        return ans
```



#### [372. è¶…çº§æ¬¡æ–¹](https://leetcode-cn.com/problems/super-pow/)ï¼šç§¦ä¹éŸ¶ï¼Œå¿«é€Ÿå¹‚

C++æ³¨æ„é˜²æ­¢è¶Šç•Œï¼

```C++
class Solution {
public:
    // ç›´æ¥ï¼šç§¦ä¹éŸ¶ç®—æ³•çš„æ€æƒ³
    const int MOD = 1337;
    int superPow(int a, vector<int>& b) {
        int ans = 1;
        for(int i : b){
            // [(a^i1)^10 * a^i2]^10 * a^i3
            ans = (long) mypow(ans, 10) * mypow(a, i) % MOD;
        }
        return ans;
    }

    int mypow(int a, int n){
        // åŒ–ä¸ºäºŒè¿›åˆ¶å¿«é€Ÿå¹‚ï¼Œa^n(mod 1337)ï¼Œå…¶ä¸­næ˜¯ä¸ªä½æ•°
        int res = 1;
        while(n){
            if(n & 1){
                res = (long) res * a % MOD;
            }
            a = (long) a * a % MOD;
            // é‡åˆ°é—®é¢˜ï¼š runtime error: signed integer overflow
            n >>= 1;  // n /= 2;åŒç†
        }
        return res;
    }
};
class Solution:
    def superPow(self, a: int, b: List[int]) -> int:
        # a^b(mod 1337)
        MOD = 1337
        ans = 1
        for e in b:
            ans = pow(ans, 10, MOD) * pow(a, e, MOD) % MOD
        return ans
```



#### [478. åœ¨åœ†å†…éšæœºç”Ÿæˆç‚¹](https://leetcode.cn/problems/generate-random-point-in-a-circle/)ï¼šåœ†å†…çš„éšæœºæ•°

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=OGFiMmUxYzVhM2RmM2ZhZmJlNTRkZmVjMTdlNDk3YWRfbGt1YnFua0JXaHpmb1c0clVaUDJncVdSR1lvOTZlQWFfVG9rZW46Ym94Y24yNFFUM1FRSHNFT0RGUWQ2cUhzbk1nXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NWViMDMzYzVjMTU0ZDgxODg4OTI5ZjBlZmZjMjRlZTRfb1FYb0JKUEs3NVVCMzhybXZnQzJFYUEyZk9jS3VFMGxfVG9rZW46Ym94Y24yM1hEOEJFOGpqeHZWQWxxc0FtVGplXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

1. > `rand() / double(RAND_MAX) `äº§ç”Ÿéšæœºæ•°çš„èŒƒå›´æ˜¯0è‡³1ï¼›

2. > `rand() / double(RAND_MAX) * 2 * r` äº§ç”Ÿéšæœºæ•°èŒƒå›´ä¸º0è‡³2r;

3. > `rand() / double(RAND_MAX) * 2 * r - r + x`äº§ç”Ÿéšæœºæ•°èŒƒå›´ä¸ºx-rè‡³x+r

```C++
#include <cmath>
class Solution {
public:
    double r, x, y;
    Solution(double radius, double x_center, double y_center): r(radius), x(x_center), y(y_center) {}
    
    vector<double> randPoint() {
        while (1) {
            double ranx = rand() / double(RAND_MAX) * 2 * r - r + x;
            double rany = rand() / double(RAND_MAX) * 2 * r - r + y;
            if (pow(x - ranx, 2) + pow(y - rany, 2) <= pow(r, 2))
                return vector<double> {ranx, rany};
        }
        // return vector<double>();
    }
};

/**
 * Your Solution object will be instantiated and called as such:
 * Solution* obj = new Solution(radius, x_center, y_center);
 * vector<double> param_1 = obj->randPoint();
 */
```

- æ³¨æ„`class Solution`çš„åˆå§‹åŒ–ï¼›
- æ³¨æ„`rand()`å‡½æ•°çš„ä½¿ç”¨æ–¹æ³•



#### [497. éé‡å çŸ©å½¢ä¸­çš„éšæœºç‚¹](https://leetcode.cn/problems/random-point-in-non-overlapping-rectangles/)ï¼šæŒ‰é¢ç§¯æŠ½æ ·

æ–¹æ³•1ï¼šç›´æ¥æŒ‰ç…§é¢ç§¯æ¥åˆ†é…æ¦‚ç‡

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZDM4MjE2YTgxMWNiYmM3N2RjZGI1NjAxYzBlMzIxNzFfSUFOYUI0d0pBMkpnamRZa1E0R1hXNTU1ZEVxd2FtT0VfVG9rZW46Ym94Y25pQlllOXEzUkswOUpyYlFUa2dFaElnXzE2NjI2NDE5MTE6MTY2MjY0NTUxMV9WNA)

```C++
class Solution {
public:
    vector<vector<int>> recs;
    Solution(vector<vector<int>>& rectangles) {
        recs = rectangles;
    }
    
    vector<int> pick() {
        int idx = 0, curp = 0, allp = 0;
        int n = recs.size();
        for (int i = 0; i < n; i++) {
            int x1 = recs[i][0], y1 = recs[i][1];
            int x2 = recs[i][2], y2 = recs[i][3];
            curp = (x2 - x1 + 1) * (y2 - y1 + 1);
            allp += curp;
            if (rand() % allp < curp) idx = i;
        }
        int x = recs[idx][0] + rand() % (recs[idx][2] - recs[idx][0] + 1);
        int y = recs[idx][1] + rand() % (recs[idx][3] - recs[idx][1] + 1);
        return {x, y};
    }
};
```

> å¦‚ä½•é€‰å®šä¸€ä¸ªçŸ©å½¢ï¼Œè¿˜æ˜¯æŒ‰ç…§éšæœºçš„æ–¹å¼ï¼šå·§æ€ï¼



æ–¹æ³•2ï¼šå‰ç¼€å’Œ+äºŒåˆ†ï¼Ÿ



#### [667. ä¼˜ç¾çš„æ’åˆ— II](https://leetcode.cn/problems/beautiful-arrangement-ii/)ï¼šæ„é€ å‡é™åºåˆ—

ç»™å®šèŒƒå›´åœ¨[1,n] çš„ n ä¸ªæ•°ï¼Œå½“ã€Œç›´æ¥å‡åº/é™åºã€æ’åˆ—æ—¶ï¼Œç›¸é‚»é¡¹å·®å€¼ä¸º 1ï¼Œä»…ä¸€ç§ï¼›

è€Œä»é¦–ä½å¼€å§‹æŒ‰ç…§ã€Œå‡åºã€é—´éš”æ’åˆ—ï¼Œæ¬¡ä½å¼€å§‹æŒ‰ç…§ã€Œé™åºã€é—´éš”æ’åˆ—ï¼ˆå³æ’åˆ—ä¸º [1, n, 2, n-1, 3, ...]ï¼‰æ—¶ï¼Œç›¸é‚»å·®å€¼ä¼šä» n - 1 å¼€å§‹é€’å‡è‡³ 1ï¼Œå…± n - 1 ç§ã€‚

> 1,2,3,4,5,6===>1,6,2,5,3,4ï¼ˆæœ‰5ä¸ªé—´éš”ï¼Œ5ç§ï¼‰

é‚£ä¹ˆå½“æˆ‘ä»¬éœ€è¦æ„é€  k ç§åºåˆ—æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆé€šè¿‡ã€Œç›´æ¥å‡åºã€çš„æ–¹å¼æ„é€ å‡ºè‹¥å¹²ä¸ª 1ï¼Œç„¶åå†é€šè¿‡ã€Œé—´éš”ä½åˆ†åˆ«å‡é™åºã€çš„æ–¹å¼æ„é€ å‡ºä» k åˆ° 1 çš„å·®å€¼ï¼Œå…± k ä¸ªã€‚

æ˜¾ç„¶ï¼Œæˆ‘ä»¬éœ€è¦ k + 1 ä¸ªæ•°æ¥æ„é€ å‡º k ä¸ªå·®å€¼ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å…ˆä» 1 å¼€å§‹ï¼Œä½¿ç”¨ n - (k + 1) ä¸ªæ•°æ¥ç›´æ¥å‡åºï¼ˆé€šè¿‡æ–¹å¼ä¸€æ„é€ å‡ºè‹¥å¹²ä¸ª 1ï¼‰ï¼Œç„¶åä» n - k å¼€å§‹é—´éš”å‡åºæ’åˆ—ï¼ŒæŒ‰ç…§ n å¼€å§‹é—´éš”é™åºæ’åˆ—ï¼Œæ„é€ å‡ºå‰©ä¸‹çš„åºåˆ—ã€‚

> **è¾“å…¥ï¼š**n = 3, k = 2ï¼Œ**è¾“å‡ºï¼š**[1, 3, 2]

```C++
class Solution {
public:
    vector<int> constructArray(int n, int k) {
        vector<int> ans(n);
        for (int i = 0; i < n - k - 1; i++) {
            ans[i] = i + 1;
        }
        int a = n - k, b = n;
        for (int i = n - k - 1; i < n; ) {
            ans[i++] = a++;
            if (i < n) ans[i++] = b--;
        }
        return ans;
    }
};
```









#### [793. é˜¶ä¹˜å‡½æ•°å K ä¸ªé›¶](https://leetcode.cn/problems/preimage-size-of-factorial-zeroes-function/)ï¼šï¼Ÿ æ•°å­¦+äºŒåˆ†

```Java
class Solution {
    public int preimageSizeFZF(int k) {
        if (k <= 1) return 5;
        return f(k) - f(k - 1);
    }
    int f(int x) {
        long l = 0, r = (long) 1e10;
        while (l < r) {
            long mid = l + r + 1 >> 1;
            if (getCnt(mid) <= x) l = mid;
            else r = mid - 1;
        }
        return (int)r;
    }
    long getCnt(long x) {
        long ans = 0;
        while (x != 0) {
            ans += x / 5; x /= 5;
        }
        return ans;
    }
}
```





#### [829. è¿ç»­æ•´æ•°æ±‚å’Œ](https://leetcode.cn/problems/consecutive-numbers-sum/)ï¼šè¿ç”¨æ•°è®º

```Makefile
ç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œè¿”å› è¿ç»­æ­£æ•´æ•°æ»¡è¶³æ‰€æœ‰æ•°å­—ä¹‹å’Œä¸º n çš„ç»„æ•° ã€‚ 

ç¤ºä¾‹ 1:
è¾“å…¥: n = 5
è¾“å‡º: 2
è§£é‡Š: 5 = 2 + 3ï¼Œå…±æœ‰ä¸¤ç»„è¿ç»­æ•´æ•°([5],[2,3])æ±‚å’Œåä¸º 5ã€‚

ç¤ºä¾‹ 2:
è¾“å…¥: n = 9
è¾“å‡º: 3
è§£é‡Š: 9 = 4 + 5 = 2 + 3 + 4

ç¤ºä¾‹ 3:
è¾“å…¥: n = 15
è¾“å‡º: 4
è§£é‡Š: 15 = 8 + 7 = 4 + 5 + 6 = 1 + 2 + 3 + 4 + 5
```

åŸæ¥æ•°å­¦ä¹Ÿèƒ½è§£å†³ç®—æ³•é¢˜ï¼ï¼

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NTVlZTE1ZTNkYjdjZjEzYjIzNDE2M2U1MzVhNDg4ZjRfWVJvQ2x4TjhjWjd4bGdxenpZT1htd2VTdDNtYkF5V3RfVG9rZW46Ym94Y250R1VSWEFZcnlCRVFBZ2tJMFhxRDZjXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

```Java
class Solution {
public:
    int consecutiveNumbersSum(int n) {
        int ans = 0;
        for (int k = 1; k*k < 2*n; k++) {
            if (2*n % k != 0) continue;
            // (2a+kâˆ’1)Ã—k=2n 
            if ((2*n/k - (k-1)) % 2 == 0) ans++;
        }
        return ans;
    }
};
```



#### [899. æœ‰åºé˜Ÿåˆ—](https://leetcode.cn/problems/orderly-queue/)ï¼šæœ€å°è¡¨ç¤ºæ³•

```C++
ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªæ•´æ•° k ã€‚å¯ä»¥ä» s çš„å‰ k ä¸ªå­—æ¯ä¸­é€‰æ‹©ä¸€ä¸ªï¼Œå¹¶æŠŠå®ƒåŠ åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾ã€‚
è¿”å›ï¼šåœ¨åº”ç”¨ä¸Šè¿°æ­¥éª¤çš„ä»»æ„æ•°é‡çš„ç§»åŠ¨åï¼Œå­—å…¸ä¸Šæœ€å°çš„å­—ç¬¦ä¸² ã€‚
```



**æœ€å°è¡¨ç¤ºæ³•**

- å½“ k > 1 æ—¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ„é€ å‡ºä»»æ„çš„å­—ç¬¦ä¸²æ–¹æ¡ˆï¼Œå› æ­¤å½“ k > 1 æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡å¯¹å­—ç¬¦ä¸²æ’åºæ¥å¾—åˆ°ç­”æ¡ˆï¼Œå¤æ‚åº¦ä¸ºO(nlogn)ã€‚
- å½“ k = 1 æ—¶ï¼Œæˆ‘ä»¬å…±æœ‰nç§å€™é€‰æ–¹æ¡ˆï¼ˆå°†å­—ç¬¦ä¸² s çœ‹ä½œä¸€ä¸ªé¦–å°¾ç›¸æ¥çš„å¾ªç¯å­—ç¬¦ä¸²ï¼Œå…±æœ‰nä¸ªèµ·ç‚¹å¯æšä¸¾ï¼‰ï¼Œæšä¸¾è¿‡ç¨‹ä¸­éœ€è¦ä¸å½“å‰æœ€ä¼˜çš„æ–¹æ¡ˆè¿›è¡Œæ¯”è¾ƒï¼Œæ¯”è¾ƒå¤æ‚åº¦ä¸ºO(n)ï¼Œå› æ­¤æ•´ä½“å¤æ‚åº¦ä¸ºO(n^2)

ä¸Šè¿°çš„åšæ³•å·²ç»å¯ä»¥é€šè¿‡æœ¬é¢˜ï¼Œå¯ä»¥çœ‹å‡ºç“¶é¢ˆåœ¨äºå¯¹ k = 1 çš„å¤„ç†ã€‚

è€Œå®é™…ä¸Šï¼Œå¯¹äºç»™å®šå­—ç¬¦ä¸²sï¼Œæ±‚å…¶å¾ªç¯åŒæ„çš„æ‰€æœ‰æ–¹æ¡ˆä¸­å­—å…¸åºæœ€å°çš„æ–¹æ¡ˆï¼Œå¯ä»¥ä½¿ç”¨ã€Œæœ€å°è¡¨ç¤ºæ³•ã€æ¥åšï¼Œå¤æ‚åº¦ä¸º O(n)ã€‚

æœ€å°è¡¨ç¤ºæ³•å°†ã€Œæ–¹æ¡ˆæ¯”è¾ƒã€ä¸ã€Œæ„é€ æ›´ä¼˜æ–¹æ¡ˆã€è¿›è¡Œç»“åˆï¼šå‡è®¾æˆ‘ä»¬å½“å‰æœ‰ä¸¤å­—ç¬¦ä¸² a å’Œ b éœ€è¦è¿›è¡Œæ¯”è¾ƒï¼Œå…¶å‡ä¸ºåŸä¸² s çš„å¾ªç¯åŒæ„å…·ä½“æ–¹æ¡ˆã€‚å‡è®¾ a å’Œ b åˆ†åˆ«å¯¹åº”äº†åŸä¸²ä¸‹æ ‡ä¸º i å’Œ j çš„å…·ä½“æ–¹æ¡ˆï¼Œä¸”å‡è®¾ä¸¤å­—ç¬¦ä¸²å‰ k ä¸ªå­—ç¬¦å‡ç›¸åŒã€‚å½“ä¸¤å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªä¸åŒçš„å­—ç¬¦å¤§å°å…³ç³»ä¸ºcs[i+k]>cs[j+k] æ—¶ï¼Œå¯ä»¥å‘ç°ä»¥ä¸‹æ ‡èŒƒå›´ [i,i+k] ä½œä¸ºèµ·ç‚¹çš„æ–°æ–¹æ¡ˆå¿…ç„¶ä¸å¯èƒ½æ¯”å­—ç¬¦ä¸² b æ›´ä¼˜ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥ä» i+k+1 ä½ç½®æ„é€ æ–°çš„æ›´ä¼˜æ–¹æ¡ˆï¼Œå¹¶ä¸ b å†æ¬¡æ¯”è¾ƒã€‚è€Œ cs[i+k]<cs[j+k] çš„åˆ†æåŒç†ã€‚

```C++
class Solution {
public:
    string orderlyQueue(string s, int k) {
        if (k == 1) {
            string small = s;
            int n = s.size();
            for (int i = 0; i < n; i++) {
                char ch = s[0];
                s = s.substr(1);
                s.push_back(ch);
                if (s < small) small = s;
            }
            return small;

        } else {
            sort(s.begin(), s.end());
            return s;
        }
    }
};
class Solution {
    public String orderlyQueue(String s, int _k) {
        char[] cs = s.toCharArray();
        if (_k == 1) {
            int i = 0, j = 1, k = 0, n = cs.length;
            while (i < n && j < n && k < n) {
                char a = cs[(i + k) % n], b = cs[(j + k) % n];
                if (a == b) k++;
                else {
                    if (a > b) i += k + 1;
                    else j += k + 1;
                    if (i == j) i++;
                    k = 0;
                }
            }
            i = Math.min(i, j);
            return s.substring(i) + s.substring(0, i);
        } else {
            Arrays.sort(cs);
            return String.valueOf(cs);
        }
    }
}
```



#### [1610. å¯è§ç‚¹çš„æœ€å¤§æ•°ç›®](https://leetcode-cn.com/problems/maximum-number-of-visible-points/)ï¼šæåæ ‡+æ»‘åŠ¨çª—å£

æ³¨æ„æåæ ‡çš„è½¬åŒ–æ–¹æ³•ï¼

```C++
class Solution {
public:
    // å…¨éƒ¨æ¢ä¸º[0,2Ï€]ä¸Šçš„æåæ ‡å°±è¡Œï¼Œè®¡ç®—è§’åº¦ï¼Œä»å°åˆ°å¤§æ”¾å…¥æ’åºï¼Ÿ+æ»‘åŠ¨çª—å£
    int visiblePoints(vector<vector<int>>& points, int angle, vector<int>& location) {
        int sameCnt = 0;
        vector<double> polarDegrees;
        for (auto & point : points) {
            if (point[0] == location[0] && point[1] == location[1]) {
                sameCnt++;
                continue;
            }
            // atan2çš„è¿”å›å€¼èŒƒå›´ä¸º[âˆ’Ï€,Ï€]ï¼Œè¦†ç›–èŒƒå›´ä¸º2Ï€ï¼Œatan2(y,x)=>arctan(y/x)
            double degree = atan2(point[1] - location[1], point[0] - location[0]);
            polarDegrees.push_back(degree);
        }
        sort(polarDegrees.begin(), polarDegrees.end());
        int m = polarDegrees.size();
        for (int i = 0; i < m; ++i) {
            polarDegrees.push_back(polarDegrees[i] + 2 * M_PI);  // å…¨éƒ¨æŠŠåŒºé—´æ¢ä¸º[0,2Ï€]
        }

        int maxCnt = 0;
        int right = 0;  // æ»‘åŠ¨çª—å£å³ä¸‹æ ‡
        double polar_angle = angle * M_PI / 180;
        for (int i = 0; i < m; ++i) {
            while (right < polarDegrees.size() && polarDegrees[right] <= polarDegrees[i] + polar_angle) {
                right++;  // ç¬¦åˆè§’åº¦èŒƒå›´æ¡ä»¶å°±ä¸€ç›´å¢å¤§çª—å£
            }
            maxCnt = max(maxCnt, right - i);
        }
        return maxCnt + sameCnt;
    }
};
```

####  

#### [1447. æœ€ç®€åˆ†æ•°](https://leetcode-cn.com/problems/simplified-fractions/)ï¼šåˆ©ç”¨gcd(a,b)

```C++
class Solution {
public:
    vector<string> simplifiedFractions(int n) {
        vector<string> ans;
        for (int b = 2; b <= n; ++b) {
            for (int a = 1; a < b; ++a) {
                if (gcd(a, b) == 1)
                    ans.push_back(to_string(a) + "/" + to_string(b));  // =>a/b
            }
        }
        return ans;
    }
};
class Solution:
    def simplifiedFractions(self, n: int) -> List[str]:
        return ["{}/{}".format(a,b) for b in range(2, n + 1) for a in range(1,b) if gcd(a, b) == 1]
```

è¿™é‡Œï¼Œè¿˜å¯å°è¯•å‡ ç§æ±‚è§£æœ€å¤§å…¬çº¦æ•°çš„æ–¹æ³•ï¼š

**è¾—è½¬ç›¸é™¤æ³•ï¼š**

ä¸€è¡Œä»£ç å°±èƒ½å®ç°gcdï¼ï¼

```Python
class Solution:
    def simplifiedFractions(self, n: int) -> List[str]:
        
        def my_gcd(a, b):
            return my_gcd(b % a, a) if b % a else a

        return ["{}/{}".format(a,b) for b in range(2, n + 1) for a in range(1,b) if my_gcd(a, b) == 1]
class Solution {
public:
    vector<string> simplifiedFractions(int n) {
        vector<string> ans;
        for (int b = 2; b <= n; ++b) {
            for (int a = 1; a < b; ++a) {
                if (_gcd(a, b) == 1)
                    ans.push_back(to_string(a) + "/" + to_string(b));  // =>a/b
            }
        }
        return ans;
    }

    int _gcd (int a, int b) {
        return b % a == 0 ? a : gcd(b % a, a);
    }

};
```

**æ›´ç›¸å‡æŸæœ¯ï¼š**

```Python
class Solution:
    def simplifiedFractions(self, n: int) -> List[str]:
        def my_gcd(a, b):
            while True:
                if a>b: a-=b
                elif a<b: b-=a
                else: return a

        return ["{}/{}".format(a,b) for b in range(2, n + 1) for a in range(1,b) if my_gcd(a, b) == 1]
```

**ç´ æ•°ç­›ï¼š**

```Python
class Solution:
    def simplifiedFractions(self, n: int) -> List[str]:
        isPrime = [True] * (n + 1)
        primes = []
        for i in range(2, n + 1):  # j/i
            if isPrime[i]:
                for j in range(i * i, n + 1, i):
                    isPrime[j] = False
                primes.append(i)
        ans = []
        # æšä¸¾åˆ†æ¯
        for i in range(2, n + 1):
            if isPrime[i]:
                ans += ["{}/{}".format(j, i) for j in range(1, i)]
            else:
                idx, ps = 0, set()
                # åˆ†æ¯çš„æ‰€æœ‰è´¨å› å­
                while idx < len(primes) and primes[idx] < i // 2 + 1:
                    if not i % primes[idx]:
                        ps.add(primes[idx])
                    idx += 1
                s = set()
                # æ„é€ åˆ†æ¯çš„æ‰€æœ‰æœ€å¤§å…¬çº¦æ•°ä¸ä¸º1çš„åˆ†å­
                for p in ps:
                    for j in range(p, i, p):
                        s.add(j)
                ans += ["{}/{}".format(j, i) for j in range(1, i) if j not in s]
        return ans
```



#### [1518. æ¢é…’é—®é¢˜](https://leetcode-cn.com/problems/water-bottles/)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZWMzNzA1NmU3MWNkZjNjOTA4NDE1NmQ1MDM1NzQyMDVfckZQa2VoZTVDY2p3TTc4bXFyWElFVFpNeFZLVWFXeTJfVG9rZW46Ym94Y25ERUp0SFFIckFBYUNVdm5ZWGJKUGg3XzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

```Python
class Solution:
    def numWaterBottles(self, numBottles: int, numExchange: int) -> int:
        ans = numBottles
        while numBottles >= numExchange:
            a, b = numBottles // numExchange, numBottles % numExchange
            ans += a
            numBottles = a + b
        return ans
```

#### [2022. ä¸€ç»´æ•°ç»„å˜æˆäºŒç»´](https://leetcode-cn.com/problems/convert-1d-array-into-2d-array/)ï¼šå·§å¦™çš„å†™æ³•+emplace_back

```C++
class Solution {
public:
    vector<vector<int>> construct2DArray(vector<int>& original, int m, int n) {
        vector<vector<int>> ans;
        if(original.size() != m * n)
            return ans;
        for(auto p = original.begin(); p != original.end(); p += n){
            ans.emplace_back(p, p + n);
        }
        return ans;
    }
};
class Solution:
    def construct2DArray(self, original: List[int], m: int, n: int) -> List[List[int]]:
        length = len(original)
        if length != m * n:
            return []
        return [original[i : i + n] for i in range(0, length, n)]
```





# åŠ¨æ€è§„åˆ’

**Learning planï¼š**

- [ã€åŠ¨æ€è§„åˆ’/èƒŒåŒ…é—®é¢˜ã€‘é‚£å°±ä» 0-1 èƒŒåŒ…é—®é¢˜å¼€å§‹è®²èµ·å§ ... (qq.com)](https://mp.weixin.qq.com/s/xmgK7SrTnFIM3Owpk-emmg)
- ç»ƒé¢˜ï¼š[ã€å®«æ°´ä¸‰å¶ã®ç›¸ä¿¡ç§‘å­¦ç³»åˆ—ã€‘è¯¦è§£ä¸ºä½•èƒ½è½¬æ¢ä¸ºèƒŒåŒ…é—®é¢˜ - æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/last-stone-weight-ii/solution/gong-shui-san-xie-xiang-jie-wei-he-neng-jgxik/)
- [ã€å®«æ°´ä¸‰å¶ã€‘è¯¦è§£å®Œå…¨èƒŒåŒ…ä¸€ç»´ç©ºé—´ä¼˜åŒ–æ¨å¯¼ï¼ˆé™„èƒŒåŒ…é—®é¢˜æ”»ç•¥ï¼‰ - å®Œå…¨å¹³æ–¹æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/perfect-squares/solution/gong-shui-san-xie-xiang-jie-wan-quan-bei-nqes/)





## **åŠ¨æ€è§„åˆ’**

ç³»ç»Ÿå­¦ä¹ ä¸€ä¸‹åŠ¨æ€è§„åˆ’ï¼š[ä»£ç éšæƒ³å½• (programmercarl.com)](https://programmercarl.com/åŠ¨æ€è§„åˆ’ç†è®ºåŸºç¡€.html#ä»€ä¹ˆæ˜¯åŠ¨æ€è§„åˆ’)

çŠ¶æ€è½¬ç§»å…¬å¼ï¼ˆé€’æ¨å…¬å¼ï¼‰æ˜¯å¾ˆé‡è¦ï¼Œä½†åŠ¨è§„ä¸ä»…ä»…åªæœ‰é€’æ¨å…¬å¼ã€‚

**å¯¹äºåŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œæ‹†è§£ä¸ºå¦‚ä¸‹äº”æ­¥æ›²ï¼Œè¿™5æ­¥éƒ½ææ¸…æ¥šäº†ï¼Œæ‰èƒ½è¯´æŠŠåŠ¨æ€è§„åˆ’çœŸçš„æŒæ¡äº†ï¼**

1. ç¡®å®šdpæ•°ç»„ï¼ˆdp tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰ï¼ˆdp[i]çš„å«ä¹‰ï¼‰
2. ç¡®å®šé€’æ¨å…¬å¼
3. dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–
4. ç¡®å®šéå†é¡ºåºï¼ˆä»å‰å‘å/ä»åå‘å‰ï¼Œä¸¤å±‚foræ˜¯å…ˆéå†èƒŒåŒ…è¿˜æ˜¯å…ˆéå†ç‰©å“ï¼Ÿï¼‰
5. æ‰“å°dpæ•°ç»„ï¼ˆæ˜¯ä¸ºäº†éªŒè¯ç»“æœï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯æŒ‰ç…§æ€è·¯è¿›è¡Œçš„ï¼‰

```C++
ä¼ªä»£ç 

for (i ...èƒŒåŒ…)
    for (j ...ç‰©å“)
        dp[]=...é€’æ¨å…¬å¼
```



## **èƒŒåŒ…é—®é¢˜**

å‚è€ƒï¼š[ä»£ç éšæƒ³å½• (programmercarl.com)](https://programmercarl.com/èƒŒåŒ…ç†è®ºåŸºç¡€01èƒŒåŒ…-1.html)

- 01èƒŒåŒ…ã€å®Œå…¨èƒŒåŒ…ã€å¤šé‡èƒŒåŒ…
- å¯¹äºèƒŒåŒ…é—®é¢˜ï¼Œå¸¸ç”¨äºŒç»´dpæ•°ç»„è¿›è¡Œè§£å†³ï¼Œè¿›è€Œå¯ä»¥ä¼˜åŒ–ä¸ºä¸€ç»´dpæ•°ç»„

èƒŒåŒ…æœ€å¤§é‡é‡ä¸º4ã€‚

ç‰©å“ä¸ºï¼š

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹

é—®èƒŒåŒ…èƒ½èƒŒçš„ç‰©å“æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘ï¼Ÿ

ä»¥ä¸‹è®²è§£å’Œå›¾ç¤ºä¸­å‡ºç°çš„æ•°å­—éƒ½æ˜¯ä»¥è¿™ä¸ªä¾‹å­ä¸ºä¾‹ã€‚

### [äºŒç»´dpæ•°ç»„01èƒŒåŒ…](https://programmercarl.com/èƒŒåŒ…ç†è®ºåŸºç¡€01èƒŒåŒ…-1.html#äºŒç»´dpæ•°ç»„01èƒŒåŒ…)

ä¾ç„¶åŠ¨è§„äº”éƒ¨æ›²åˆ†æä¸€æ³¢ã€‚

1. ç¡®å®šdpæ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰

å¯¹äºèƒŒåŒ…é—®é¢˜ï¼Œæœ‰ä¸€ç§å†™æ³•ï¼Œ æ˜¯ä½¿ç”¨äºŒç»´æ•°ç»„ï¼Œï¼ˆ01èƒŒåŒ…ï¼Œæ˜¯å¤šç§ç‰©å“æ”¾ä¸ä¸æ”¾çš„é—®é¢˜ï¼‰

å³**dp[i][j] è¡¨ç¤ºä»ä¸‹æ ‡ä¸º[0-i]çš„ç‰©å“é‡Œä»»æ„å–ï¼Œæ”¾è¿›å®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œ****ä»·å€¼æ€»å’Œæœ€å¤§æ˜¯å¤šå°‘**ã€‚

åªçœ‹è¿™ä¸ªäºŒç»´æ•°ç»„çš„å®šä¹‰ï¼Œå¤§å®¶ä¸€å®šä¼šæœ‰ç‚¹æ‡µï¼Œçœ‹ä¸‹é¢è¿™ä¸ªå›¾ï¼š

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NjNlYjgzMGE2MGI5MzM0NjU2NWY3OGJhYzdhYTNmYTNfSnlkSkpKaGF4TGx5bjVkTWw2bE1aVWs1NTFvT3VNaWNfVG9rZW46Ym94Y250U1J3bzhaYUhYWmoyNmUzMHVzR0RlXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

**è¦æ—¶åˆ»è®°ç€è¿™ä¸ªdpæ•°ç»„çš„å«ä¹‰ï¼Œä¸‹é¢çš„ä¸€äº›æ­¥éª¤éƒ½å›´ç»•è¿™dpæ•°ç»„çš„å«ä¹‰è¿›è¡Œçš„**ï¼Œå¦‚æœå“ªé‡Œçœ‹æ‡µäº†ï¼Œå°±æ¥å›é¡¾ä¸€ä¸‹iä»£è¡¨ä»€ä¹ˆï¼Œjåˆä»£è¡¨ä»€ä¹ˆã€‚

1. ç¡®å®šé€’æ¨å…¬å¼

å†å›é¡¾ä¸€ä¸‹dp[i][j]çš„å«ä¹‰ï¼šä»ä¸‹æ ‡ä¸º[0-i]çš„ç‰©å“é‡Œä»»æ„å–ï¼Œæ”¾è¿›å®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œä»·å€¼æ€»å’Œæœ€å¤§æ˜¯å¤šå°‘ã€‚é‚£ä¹ˆå¯ä»¥æœ‰ä¸¤ä¸ªæ–¹å‘æ¨å‡ºæ¥dp[i][j]ï¼Œ

- **ä¸æ”¾ç‰©å“i**ï¼šç”±dp[i - 1][j]æ¨å‡ºï¼Œå³èƒŒåŒ…å®¹é‡ä¸ºjï¼Œé‡Œé¢ä¸æ”¾ç‰©å“içš„æœ€å¤§ä»·å€¼ï¼Œæ­¤æ—¶dp[i][j]å°±æ˜¯dp[i - 1][j]ã€‚(å…¶å®å°±æ˜¯å½“ç‰©å“içš„é‡é‡å¤§äºèƒŒåŒ…jçš„é‡é‡æ—¶ï¼Œç‰©å“iæ— æ³•æ”¾è¿›èƒŒåŒ…ä¸­ï¼Œæ‰€ä»¥è¢«èƒŒåŒ…å†…çš„ä»·å€¼ä¾ç„¶å’Œå‰é¢ç›¸åŒã€‚)
- **æ”¾ç‰©å“i**ï¼šç”±dp[i - 1][j - weight[i]]æ¨å‡ºï¼Œdp[i - 1][j - weight[i]] ä¸ºèƒŒåŒ…å®¹é‡ä¸ºj - weight[i]çš„æ—¶å€™ä¸æ”¾ç‰©å“içš„æœ€å¤§ä»·å€¼ï¼Œé‚£ä¹ˆdp[i - 1][j - weight[i]] + value[i] ï¼ˆç‰©å“içš„ä»·å€¼ï¼‰ï¼Œå°±æ˜¯èƒŒåŒ…æ”¾ç‰©å“iå¾—åˆ°çš„æœ€å¤§ä»·å€¼

æ‰€ä»¥é€’å½’å…¬å¼ï¼š`dp[i][j] = max(dp[i-1][j], dp[i-1][j-weight[i]] + value[i]);`

1. dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–ï¼ˆè§è§†é¢‘è®²è§£ï¼‰
2. ç¡®å®šéå†é¡ºåº

æœ‰ä¸¤ä¸ªéå†çš„ç»´åº¦ï¼šç‰©å“ä¸èƒŒåŒ…é‡é‡é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ**å…ˆéå† ç‰©å“è¿˜æ˜¯å…ˆéå†èƒŒåŒ…é‡é‡å‘¢ï¼Ÿ**

**å…¶å®éƒ½å¯ä»¥ï¼ï¼ ä½†æ˜¯å…ˆéå†ç‰©å“æ›´å¥½ç†è§£**ã€‚

é‚£ä¹ˆæˆ‘å…ˆç»™å‡ºå…ˆéå†ç‰©å“ï¼Œç„¶åéå†èƒŒåŒ…é‡é‡çš„ä»£ç ã€‚

> éå†è¿‡ç¨‹ä¸­ï¼Œå½“å‰dp[i][j]æ˜¯ç”±å®ƒçš„ä¸Šæ–¹å’Œå·¦ä¸Šæ–¹çš„æ•°å€¼å†³å®šçš„

```C++
// weightæ•°ç»„çš„å¤§å° å°±æ˜¯ç‰©å“ä¸ªæ•°
for (int i = 1; i < weight.size(); i++) { // éå†ç‰©å“
    for (int j = 0; j <= bagweight; j++) { // éå†èƒŒåŒ…å®¹é‡
        if (j < weight[i]) dp[i][j] = dp[i - 1][j]; 
        else dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i]);

    }
}
```

å…ˆéå†èƒŒåŒ…ï¼Œå†éå†ç‰©å“ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼ï¼ˆæ³¨æ„æˆ‘è¿™é‡Œä½¿ç”¨çš„äºŒç»´dpæ•°ç»„ï¼‰

```C++
// weightæ•°ç»„çš„å¤§å° å°±æ˜¯ç‰©å“ä¸ªæ•°
for (int j = 0; j <= bagweight; j++) { // éå†èƒŒåŒ…å®¹é‡
    for (int i = 1; i < weight.size(); i++) { // éå†ç‰©å“
        if (j < weight[i]) dp[i][j] = dp[i - 1][j];
        else dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i]);
    }
}
void test() {
    vector<int> weight = {1, 3, 4};
    vector<int> value = {15, 20, 30};
    int bagweight = 4;

    vector<vector<int>> dp(weight.size(), vector<int>(bagweight + 1, 0));

    // åˆå§‹åŒ–
    for (int j = weight[0]; j <= bagweight; j++) {
        dp[0][j] = value[0];
    }

    // weightæ•°ç»„çš„å¤§å° å°±æ˜¯ç‰©å“ä¸ªæ•°
    for(int i = 1; i < weight.size(); i++) { // éå†ç‰©å“
        for(int j = 0; j <= bagweight; j++) { // éå†èƒŒåŒ…å®¹é‡
            if (j < weight[i]) dp[i][j] = dp[i - 1][j];
            else dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i]);
        }
    }
    cout << dp[weight.size() - 1][bagweight] << endl;
}
```

### ä¸€ç»´dpæ•°ç»„01èƒŒåŒ…ï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰

ä¸€ç»´æ•°ç»„å®ç°ï¼Œå…¶å®æ˜¯å¯¹äºŒç»´dpæ•°ç»„çš„å‹ç¼©ï¼ŒæŠŠi-1å±‚çš„æ•°æ®æ‹·è´æ›´æ–°æˆiå±‚çš„å°±å¯ä»¥äº†ï¼ˆä½†foræœ‰é¡ºåºï¼‰

1. ç¡®å®šdpæ•°ç»„çš„å®šä¹‰

åœ¨ä¸€ç»´dpæ•°ç»„ä¸­ï¼Œ**dp[j]è¡¨ç¤ºï¼šå®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œæ‰€èƒŒçš„ç‰©å“ä»·å€¼å¯ä»¥æœ€å¤§ä¸ºdp[j]ã€‚**

1. ä¸€ç»´dpæ•°ç»„çš„é€’æ¨å…¬å¼

é€’å½’å…¬å¼ä¸ºï¼š`dp[j] = max(dp[j], dp[j-weight[i]] + value[i]);`

1. ä¸€ç»´dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–ï¼šå…¨æ˜¯0å°±è¡Œã€‚
2. ä¸€ç»´dpæ•°ç»„éå†é¡ºåºï¼š`dp[j] = max(dp[j], dp[j-weight[i]] + value[i])`

æ³¨æ„ï¼Œ**éå†èƒŒåŒ…çš„æ—¶å€™æ˜¯å€’åºåœ°éå†ï¼ï¼**

> æ¯æ¬¡éå†æŸä¸€ç±»ç‰©å“iæ—¶ï¼Œå€’åºåœ°éå†èƒŒåŒ…å®¹é‡jï¼Œæ‰èƒ½ä¿è¯ç‰©å“åªæ”¾è¿›å»ä¸€æ¬¡

```C++
for (int i = 0; i < weight.size(); i++) { // éå†ç‰©å“
    for (int j = bagWeight; j >= weight[i]; j--) { // éå†èƒŒåŒ…å®¹é‡
        dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);
    }
}
void test() {
    vector<int> weight = {1, 3, 4};
    vector<int> value = {15, 20, 30};
    int bagWeight = 4;

    // åˆå§‹åŒ–
    vector<int> dp(bagWeight + 1, 0);
    for(int i = 0; i < weight.size(); i++) { // éå†ç‰©å“
        for(int j = bagWeight; j >= weight[i]; j--) { // éå†èƒŒåŒ…å®¹é‡
            dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);
        }
    }
    cout << dp[bagWeight] << endl;
}
```



### å®Œå…¨èƒŒåŒ…

å®Œå…¨èƒŒåŒ…ä¸éœ€è¦ä¿è¯æ¯ä¸ªç‰©å“åªå‡ºç°ä¸€æ¬¡ã€‚

> 01èƒŒåŒ…å’Œå®Œå…¨èƒŒåŒ…å”¯ä¸€ä¸åŒå°±æ˜¯ä½“ç°åœ¨éå†é¡ºåºä¸Šï¼šæˆ‘ä»¬çŸ¥é“01èƒŒåŒ…å†…åµŒçš„å¾ªç¯æ˜¯ä»å¤§åˆ°å°éå†ï¼Œä¸ºäº†ä¿è¯æ¯ä¸ªç‰©å“ä»…è¢«æ·»åŠ ä¸€æ¬¡ã€‚

è€Œå®Œå…¨èƒŒåŒ…çš„ç‰©å“æ˜¯å¯ä»¥æ·»åŠ å¤šæ¬¡çš„ï¼Œæ‰€ä»¥è¦ä»å°åˆ°å¤§å»éå†ï¼Œå³ï¼š

> æ³¨æ„è¿™é‡Œæ˜¯ä¸€ç»´çš„dpæ•°ç»„

```C++
// å…ˆéå†ç‰©å“ï¼Œå†éå†èƒŒåŒ…
for (int i = 0; i < weight.size(); i++) { // éå†ç‰©å“
    for (int j = weight[i]; j <= bagWeight; j++) { // éå†èƒŒåŒ…å®¹é‡
        dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);
    }
}
```

å› æ­¤ï¼Œå®Œå…¨èƒŒåŒ…çš„ä¸¤ä¸ªforå¾ªç¯çš„é¡ºåºä¹Ÿæ˜¯æ— æ‰€è°“çš„ï¼ŒäºŒè€…éƒ½æ˜¯ä»å°åˆ°å¤§ã€‚

```C++
// å…ˆéå†ç‰©å“ï¼Œåœ¨éå†èƒŒåŒ…
void test{
    vector<int> weight = {1, 3, 4};
    vector<int> value = {15, 20, 30};
    int bagWeight = 4;
    vector<int> dp(bagWeight + 1, 0);
    for(int i = 0; i < weight.size(); i++) { // éå†ç‰©å“
        for(int j = weight[i]; j <= bagWeight; j++) { // éå†èƒŒåŒ…å®¹é‡
            dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);
        }
    }
    cout << dp[bagWeight] << endl;
}

// å…ˆéå†èƒŒåŒ…ï¼Œå†éå†ç‰©å“
    for(int j = 0; j <= bagWeight; j++) { // éå†èƒŒåŒ…å®¹é‡
        for(int i = 0; i < weight.size(); i++) { // éå†ç‰©å“
            if (j - weight[i] >= 0) {
                dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);
            }
        }
    }
```





- > å‘ç°dpçš„é—®é¢˜å¤§å¤šä¸**å‰ç¼€å’Œ**æœ‰å…³ï¼š**å‰ç¼€å’Œå°±æ˜¯ä»ä½ç½®1åˆ°ä½ç½®iè¿™ä¸ªåŒºé—´å†…çš„æ‰€æœ‰çš„æ•°å­—ä¹‹å’Œ**



## (0)åŠ¨æ€è§„åˆ’

> è¿™ä¸€åˆ†ç±»æ˜¯å› ä¸ºå•çº¯ä¸çŸ¥é“æ€ä¹ˆåˆ†ç±»äº†



**ç³»ç»Ÿç»ƒä¹ ï¼š**

#### [509. æ–æ³¢é‚£å¥‘æ•°](https://leetcode.cn/problems/fibonacci-number/)

#### [70. çˆ¬æ¥¼æ¢¯](https://leetcode.cn/problems/climbing-stairs/)

#### [746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯](https://leetcode.cn/problems/min-cost-climbing-stairs/)

è¿™é‡Œæ³¨æ„è¿”å›å€¼ï¼ï¼åˆ°è¾¾nï¼Œæ˜¯è®¡ç®—ä»n-1å’Œn-2å‡ºå‘

```C++
class Solution {
public:
    // dp[i]çš„å®šä¹‰ï¼šåˆ°è¾¾ç¬¬iä¸ªå°é˜¶æ‰€èŠ±è´¹çš„æœ€å°‘ä½“åŠ›ä¸ºdp[i]ã€‚
    // cost[i]æ˜¯ä»iå‡ºå‘çš„è´¹ç”¨
    int minCostClimbingStairs(vector<int>& cost) {
        int n = cost.size();
        vector<int> dp(n);
        dp[0] = cost[0], dp[1] = cost[1];
        for (int i = 2; i < n; i++) {
            dp[i] = min(dp[i - 1], dp[i - 2]) + cost[i];
        }
        return min(dp[n - 1], dp[n - 2]);
    }
};
```

#### [62. ä¸åŒè·¯å¾„](https://leetcode.cn/problems/unique-paths/)ï¼šäºŒç»´dp[i][j]

æŒ‰ç…§åŠ¨è§„äº”éƒ¨æ›²æ¥åˆ†æï¼š

1. ç¡®å®šdpæ•°ç»„ï¼ˆdp tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰

dp[i][j] ï¼šè¡¨ç¤ºä»ï¼ˆ0 ï¼Œ0ï¼‰å‡ºå‘ï¼Œåˆ°(i, j) æœ‰dp[i][j]æ¡ä¸åŒçš„è·¯å¾„ã€‚

1. ç¡®å®šé€’æ¨å…¬å¼

æƒ³è¦æ±‚dp[i][j]ï¼Œåªèƒ½æœ‰ä¸¤ä¸ªæ–¹å‘æ¥æ¨å¯¼å‡ºæ¥ï¼Œå³dp[i - 1][j] å’Œ dp[i][j - 1]ã€‚

æ­¤æ—¶åœ¨å›é¡¾ä¸€ä¸‹ dp[i - 1][j] è¡¨ç¤ºå•¥ï¼Œæ˜¯ä»(0, 0)çš„ä½ç½®åˆ°(i - 1, j)æœ‰å‡ æ¡è·¯å¾„ï¼Œdp[i][j - 1]åŒç†ã€‚

é‚£ä¹ˆå¾ˆè‡ªç„¶ï¼Œdp[i][j] = dp[i - 1][j] + dp[i][j - 1]ï¼Œå› ä¸ºdp[i][j]åªæœ‰è¿™ä¸¤ä¸ªæ–¹å‘è¿‡æ¥ã€‚

1. **dpæ•°ç»„çš„åˆå§‹åŒ–**

å¦‚ä½•åˆå§‹åŒ–å‘¢ï¼Œé¦–å…ˆdp[i][0]ä¸€å®šéƒ½æ˜¯1ï¼Œå› ä¸ºä»(0, 0)çš„ä½ç½®åˆ°(i, 0)çš„è·¯å¾„åªæœ‰ä¸€æ¡ï¼Œé‚£ä¹ˆdp[0][j]ä¹ŸåŒç†ã€‚

æ‰€ä»¥åˆå§‹åŒ–ä»£ç ä¸ºï¼š

```Plain%20Text
for (int i = 0; i < m; i++) dp[i][0] = 1;
for (int j = 0; j < n; j++) dp[0][j] = 1;
```

1. ç¡®å®šéå†é¡ºåº

è¿™é‡Œè¦çœ‹ä¸€ä¸‹é€’å½’å…¬å¼dp[i][j] = dp[i - 1][j] + dp[i][j - 1]ï¼Œ**dp[i][j]éƒ½æ˜¯ä»å…¶ä¸Šæ–¹å’Œå·¦æ–¹æ¨å¯¼è€Œæ¥**ï¼Œé‚£ä¹ˆä»å·¦åˆ°å³ä¸€å±‚ä¸€å±‚éå†å°±å¯ä»¥äº†ã€‚

è¿™æ ·å°±å¯ä»¥ä¿è¯æ¨å¯¼dp[i][j]çš„æ—¶å€™ï¼Œdp[i - 1][j] å’Œ dp[i][j - 1]ä¸€å®šæ˜¯æœ‰æ•°å€¼çš„ã€‚

1. ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„

```C++
class Solution {
public:
    // dp[i][j]ï¼šä»èµ·ç‚¹åˆ°(i,j)æœ‰dp[i][j]æ¡è·¯å¾„
    // dp[i][j] = dp[i - 1][j] + dp[i][j - 1]
    int uniquePaths(int m, int n) {
        vector<vector<int>> dp(m, vector<int>(n, 0));       // m * n
        for (int i = 0; i < m; i++) dp[i][0] = 1;
        for (int j = 0; j < n; j++) dp[0][j] = 1;

        for (int i = 1; i < m; i++) {
            for (int j = 1; j < n; j++) {
                dp[i][j] = dp[i - 1][j] + dp[i][j - 1];
            }
        }
        return dp[m - 1][n - 1];
    }
};
```

**æ³¨æ„å¾ªç¯æ¡ä»¶ï¼ï¼**

#### [63. ä¸åŒè·¯å¾„ II](https://leetcode.cn/problems/unique-paths-ii/)ï¼šå¸¦æœ‰éšœç¢ç‰©çš„äºŒç»´dp

ä¸ä¸Šé¢ä¸€é¢˜çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œ

1. é€’æ¨å…¬å¼éœ€è¦åŠ ä¸Šæ¡ä»¶åˆ¤æ–­ï¼šæ— éšœç¢ç‰©
2. åˆå§‹åŒ–è¾¹ç•Œå€¼ç†åº”ä¸å˜ï¼Œä½†æ˜¯å¦‚æœéšœç¢ç‰©åœ¨è¾¹ç•Œä¸Šï¼Œåç»­çš„å°±ä¸èƒ½å¤Ÿå†èµ‹å€¼1äº†

```C++
class Solution {
public:
    int uniquePathsWithObstacles(vector<vector<int>>& obst) {
        int m = obst.size(), n = obst[0].size();
        if (obst[0][0] == 1 || obst[m - 1][n - 1] == 1) return 0;   // å¦‚æœåœ¨èµ·ç‚¹æˆ–ç»ˆç‚¹å‡ºç°äº†éšœç¢ï¼Œç›´æ¥è¿”å›0

        vector<vector<int>> dp(m, vector<int>(n, 0));
        for (int i = 0; i < m && obst[i][0] == 0; i++) dp[i][0] = 1;
        for (int j = 0; j < n && obst[0][j] == 0; j++) dp[0][j] = 1;

        for (int i = 1; i < m; i++) {
            for (int j = 1; j < n; j++) {
                if (obst[i][j] == 1) continue;
                else dp[i][j] = dp[i - 1][j] + dp[i][j - 1];
            }
        }
        return dp[m - 1][n - 1];
    }
};
```

#### [343. æ•´æ•°æ‹†åˆ†](https://leetcode.cn/problems/integer-break/)ï¼šå±…ç„¶å¯ä»¥åŠ¨è§„ï¼

åŠ¨è§„äº”éƒ¨æ›²ï¼Œåˆ†æå¦‚ä¸‹ï¼š

1. ç¡®å®šdpæ•°ç»„ï¼ˆdp tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰

**dp[i]ï¼šåˆ†æ‹†æ•°å­—iï¼Œå¯ä»¥å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯ä¸ºdp[i]ã€‚**

dp[i]çš„å®šä¹‰è®²è´¯å½»æ•´ä¸ªè§£é¢˜è¿‡ç¨‹ï¼Œä¸‹é¢å“ªä¸€æ­¥æƒ³ä¸æ‡‚äº†ï¼Œå°±æƒ³æƒ³dp[i]ç©¶ç«Ÿè¡¨ç¤ºçš„æ˜¯å•¥ï¼

1. ç¡®å®šé€’æ¨å…¬å¼

å¯ä»¥æƒ³ dp[i]æœ€å¤§ä¹˜ç§¯æ˜¯æ€ä¹ˆå¾—åˆ°çš„å‘¢ï¼Ÿ

å…¶å®å¯ä»¥ä»1éå†jï¼Œç„¶åæœ‰ä¸¤ç§æ¸ é“å¾—åˆ°dp[i].

- ä¸€ä¸ªæ˜¯j * (i - j) ç›´æ¥ç›¸ä¹˜ã€‚
- ä¸€ä¸ªæ˜¯j * dp[i - j]ï¼Œç›¸å½“äºæ˜¯æ‹†åˆ†(i - j)ï¼Œå¯¹è¿™ä¸ªæ‹†åˆ†ä¸ç†è§£çš„è¯ï¼Œå¯ä»¥å›æƒ³dpæ•°ç»„çš„å®šä¹‰ã€‚

> **é‚£æœ‰åŒå­¦é—®äº†ï¼Œjæ€ä¹ˆå°±ä¸æ‹†åˆ†å‘¢ï¼Ÿ**

jæ˜¯ä»1å¼€å§‹éå†ï¼Œæ‹†åˆ†jçš„æƒ…å†µï¼Œåœ¨éå†jçš„è¿‡ç¨‹ä¸­å…¶å®éƒ½è®¡ç®—è¿‡äº†ã€‚é‚£ä¹ˆä»1éå†jï¼Œæ¯”è¾ƒ(i - j) * jå’Œdp[i - j] * j å–æœ€å¤§çš„ã€‚

**é€’æ¨å…¬å¼ï¼š**`**dp[i] = max(dp[i], max((i - j) \* j, dp[i - j] \* j))**`**;**

ä¹Ÿå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œj * (i - j) æ˜¯å•çº¯çš„æŠŠæ•´æ•°æ‹†åˆ†ä¸ºä¸¤ä¸ªæ•°ç›¸ä¹˜ï¼Œè€Œj * dp[i - j]æ˜¯æ‹†åˆ†æˆä¸¤ä¸ªä»¥åŠä¸¤ä¸ªä»¥ä¸Šçš„ä¸ªæ•°ç›¸ä¹˜ã€‚

å¦‚æœå®šä¹‰dp[i - j] * dp[j] ä¹Ÿæ˜¯é»˜è®¤å°†ä¸€ä¸ªæ•°å¼ºåˆ¶æ‹†æˆ4ä»½ä»¥åŠ4ä»½ä»¥ä¸Šäº†ã€‚

æ‰€ä»¥é€’æ¨å…¬å¼ï¼šdp[i] = max({dp[i], (i - j) * j, dp[i - j] * j});

é‚£ä¹ˆåœ¨å–æœ€å¤§å€¼çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æ¯”è¾ƒdp[i]å‘¢ï¼Ÿ

å› ä¸ºåœ¨é€’æ¨å…¬å¼æ¨å¯¼çš„è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡è®¡ç®—dp[i]ï¼Œå–æœ€å¤§çš„è€Œå·²ã€‚

1. dpçš„åˆå§‹åŒ–

ä¸å°‘åŒå­¦åº”è¯¥ç–‘æƒ‘ï¼Œdp[0] dp[1]åº”è¯¥åˆå§‹åŒ–å¤šå°‘å‘¢ï¼Ÿ

æœ‰çš„é¢˜è§£é‡Œä¼šç»™å‡ºdp[0] = 1ï¼Œdp[1] = 1çš„åˆå§‹åŒ–ï¼Œä½†è§£é‡Šæ¯”è¾ƒç‰µå¼ºï¼Œä¸»è¦è¿˜æ˜¯å› ä¸ºè¿™ä¹ˆåˆå§‹åŒ–å¯ä»¥æŠŠé¢˜ç›®è¿‡äº†ã€‚

ä¸¥æ ¼ä»dp[i]çš„å®šä¹‰æ¥è¯´ï¼Œdp[0] dp[1] å°±ä¸åº”è¯¥åˆå§‹åŒ–ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æ„ä¹‰çš„æ•°å€¼ã€‚

æ‹†åˆ†0å’Œæ‹†åˆ†1çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿ

è¿™æ˜¯æ— è§£çš„ã€‚

è¿™é‡Œæˆ‘åªåˆå§‹åŒ–dp[2] = 1ï¼Œä»dp[i]çš„å®šä¹‰æ¥è¯´ï¼Œæ‹†åˆ†æ•°å­—2ï¼Œå¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯æ˜¯1ï¼Œè¿™ä¸ªæ²¡æœ‰ä»»ä½•å¼‚è®®ï¼

1. ç¡®å®šéå†é¡ºåº

ç¡®å®šéå†é¡ºåºï¼Œå…ˆæ¥çœ‹çœ‹é€’å½’å…¬å¼ï¼šdp[i] = max(dp[i], max((i - j) * j, dp[i - j] * j));

**dp[i] æ˜¯ä¾é  dp[i - j]çš„çŠ¶æ€ï¼Œæ‰€ä»¥éå†iä¸€å®šæ˜¯ä»å‰å‘åéå†**ï¼Œå…ˆæœ‰dp[i - j]å†æœ‰dp[i]ã€‚

**æšä¸¾çš„æ—¶å€™ï¼Œjæ˜¯ä»1å¼€å§‹çš„ï¼Œiæ˜¯ä»3å¼€å§‹**ï¼Œè¿™æ ·dp[i - j]å°±æ˜¯dp[2]æ­£å¥½å¯é€šè¿‡æˆ‘ä»¬åˆå§‹åŒ–çš„æ•°å€¼æ±‚å‡ºæ¥ã€‚

æ‰€ä»¥éå†é¡ºåºä¸ºï¼š

```Plain%20Text
for (int i = 3; i <= n ; i++) {
    for (int j = 1; j < i - 1; j++) {
        dp[i] = max(dp[i], max((i - j) * j, dp[i - j] * j));
    }
}
```

1. ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„

```C++
class Solution {
public:
    // dp[i]ï¼šåˆ†æ‹†æ•°å­—iï¼Œå¯ä»¥å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯ä¸ºdp[i]
    // é€’æ¨å…¬å¼ï¼šdp[i] = max(dp[i], max((i - j) * j, dp[i - j] * j))
    int integerBreak(int n) {
        vector<int> dp(n + 1);
        dp[2] = 1;
        for (int i = 3; i <= n; i++) {
            for (int j = 1; j < i - 1; j++) {
                dp[i] = max(dp[i], max(j * (i - j), j * dp[i - j]));
            }
        }
        return dp[n];
    }
};
```

> æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ç§æ•°å­¦åˆ†ææ–¹æ³•

#### [96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘](https://leetcode.cn/problems/unique-binary-search-trees/)ï¼šä¹Ÿæ˜¯ä¸€ç§åŠ¨è§„ï¼

1. ç¡®å®šdpæ•°ç»„å’Œä¸‹æ ‡å«ä¹‰

**dp[i] ï¼š 1åˆ°iä¸ºèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘çš„ä¸ªæ•°ä¸ºdp[i]**ã€‚

ä¹Ÿå¯ä»¥ç†è§£æ˜¯içš„ä¸åŒå…ƒç´ èŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘çš„ä¸ªæ•°ä¸ºdp[i] ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ã€‚

1. ç¡®å®šé€’æ¨å…¬å¼

åœ¨ä¸Šé¢çš„åˆ†æä¸­ï¼Œå…¶å®å·²ç»çœ‹å‡ºå…¶é€’æ¨å…³ç³»ï¼Œ 

dp[i] += dp[**ä»¥jä¸ºå¤´ç»“ç‚¹å·¦å­æ ‘èŠ‚ç‚¹æ•°é‡**] * dp[**ä»¥jä¸ºå¤´ç»“ç‚¹å³å­æ ‘èŠ‚ç‚¹æ•°é‡**]

jç›¸å½“äºæ˜¯å¤´ç»“ç‚¹çš„å…ƒç´ ï¼Œä»1éå†åˆ°iä¸ºæ­¢ã€‚

æ‰€ä»¥é€’æ¨å…¬å¼ï¼š`dp[i] += dp[j - 1] * dp[i - j]`; ï¼Œj-1 ä¸ºjä¸ºå¤´ç»“ç‚¹å·¦å­æ ‘èŠ‚ç‚¹æ•°é‡ï¼Œi-j ä¸ºä»¥jä¸ºå¤´ç»“ç‚¹å³å­æ ‘èŠ‚ç‚¹æ•°é‡

ä»¥jä¸ºåˆ†å‰²ï¼Œj-1ä¸ªæ¯”jå°çš„åœ¨å·¦å­æ ‘ï¼Œi-jä¸ªæ¯”jå¤§çš„åœ¨å³å­æ ‘

> æ¯”å¦‚ï¼š

> dp[3] = å…ƒç´ 1ä¸ºå¤´ç»“ç‚¹æœç´¢æ ‘çš„æ•°é‡ + å…ƒç´ 2ä¸ºå¤´ç»“ç‚¹æœç´¢æ ‘çš„æ•°é‡ + å…ƒç´ 3ä¸ºå¤´ç»“ç‚¹æœç´¢æ ‘çš„æ•°é‡

> å…ƒç´ 1ä¸ºå¤´ç»“ç‚¹æœç´¢æ ‘çš„æ•°é‡ = å³å­æ ‘æœ‰2ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡ * å·¦å­æ ‘æœ‰0ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡

> å…ƒç´ 2ä¸ºå¤´ç»“ç‚¹æœç´¢æ ‘çš„æ•°é‡ = å³å­æ ‘æœ‰1ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡ * å·¦å­æ ‘æœ‰1ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡

> å…ƒç´ 3ä¸ºå¤´ç»“ç‚¹æœç´¢æ ‘çš„æ•°é‡ = å³å­æ ‘æœ‰0ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡ * å·¦å­æ ‘æœ‰2ä¸ªå…ƒç´ çš„æœç´¢æ ‘æ•°é‡

> ä¹Ÿå°±æ˜¯ï¼šdp[3] = dp[2] * dp[0] + dp[1] * dp[1] + dp[0] * dp[2]ï¼Œä¾æ¬¡é€‰æ‹©æ ¹è¿›è¡Œåˆ†ç±»è®¨è®º

1. dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–

åˆå§‹åŒ–ï¼Œåªéœ€è¦åˆå§‹åŒ–dp[0]å°±å¯ä»¥äº†ï¼Œæ¨å¯¼çš„åŸºç¡€ï¼Œéƒ½æ˜¯dp[0]ã€‚

é‚£ä¹ˆdp[0]åº”è¯¥æ˜¯å¤šå°‘å‘¢ï¼Ÿ

ä»å®šä¹‰ä¸Šæ¥è®²ï¼Œç©ºèŠ‚ç‚¹ä¹Ÿæ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼Œä¹Ÿæ˜¯ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œè¿™æ˜¯å¯ä»¥è¯´å¾—é€šçš„ã€‚

ä»é€’å½’å…¬å¼ä¸Šæ¥è®²ï¼Œdp[ä»¥jä¸ºå¤´ç»“ç‚¹å·¦å­æ ‘èŠ‚ç‚¹æ•°é‡] * dp[ä»¥jä¸ºå¤´ç»“ç‚¹å³å­æ ‘èŠ‚ç‚¹æ•°é‡] ä¸­ä»¥jä¸ºå¤´ç»“ç‚¹å·¦å­æ ‘èŠ‚ç‚¹æ•°é‡ä¸º0ï¼Œä¹Ÿéœ€è¦dp[ä»¥jä¸ºå¤´ç»“ç‚¹å·¦å­æ ‘èŠ‚ç‚¹æ•°é‡] = 1ï¼Œ å¦åˆ™ä¹˜æ³•çš„ç»“æœå°±éƒ½å˜æˆ0äº†ã€‚

æ‰€ä»¥åˆå§‹åŒ–dp[0] = 1

1. ç¡®å®šéå†é¡ºåº

é¦–å…ˆä¸€å®šæ˜¯éå†èŠ‚ç‚¹æ•°ï¼Œä»é€’å½’å…¬å¼ï¼šdp[i] += dp[j - 1] * dp[i - j]å¯ä»¥çœ‹å‡ºï¼ŒèŠ‚ç‚¹æ•°ä¸ºiçš„çŠ¶æ€æ˜¯ä¾é  iä¹‹å‰èŠ‚ç‚¹æ•°çš„çŠ¶æ€ã€‚

é‚£ä¹ˆéå†ié‡Œé¢æ¯ä¸€ä¸ªæ•°ä½œä¸ºå¤´ç»“ç‚¹çš„çŠ¶æ€ï¼Œç”¨jæ¥éå†ã€‚

ä»£ç å¦‚ä¸‹ï¼š

```C++
for (int i = 1; i <= n; i++) {
    for (int j = 1; j <= i; j++) {
        dp[i] += dp[j - 1] * dp[i - j];
    }
}
```

1. ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„

```C++
class Solution {
public:
    // dp[i] += dp[ä»¥jä¸ºå¤´ç»“ç‚¹å·¦å­æ ‘èŠ‚ç‚¹æ•°é‡] * dp[ä»¥jä¸ºå¤´ç»“ç‚¹å³å­æ ‘èŠ‚ç‚¹æ•°é‡]
    int numTrees(int n) {
        vector<int> dp(n + 1);
        dp[0] = 1;
        for (int i = 1; i <= n; i++) {
            for (int j = 1; j <= i; j++) {
                dp[i] += dp[j - 1] * dp[i - j];
            }
        }
        return dp[n];
    }
};
```

å¦ä¸€ç§è¾¹ç•Œï¼š

```C++
class Solution {
public:
    int numTrees(int n) {
        vector<int> dp(n + 1);
        dp[0] = 1, dp[1] = 1;
        for (int i = 2; i <= n; i++) {
            for (int j = 1; j <= i; j++) {
                dp[i] += dp[j - 1] * dp[i - j];
            }
        }
        return dp[n];
    }
};
```



æ³•2ï¼šçº¯æ•°å­¦æ–¹æ³•ï¼ˆè§å®˜æ–¹é¢˜è§£ï¼‰



#### [416. åˆ†å‰²ç­‰å’Œå­é›†](https://leetcode.cn/problems/partition-equal-subset-sum/)ï¼šå±…ç„¶æ˜¯01èƒŒåŒ…

æ®è¯´å¯ä»¥ç±»ä¼¼[473. ç«æŸ´æ‹¼æ­£æ–¹å½¢](https://leetcode.cn/problems/matchsticks-to-square/) è¿™ä¸ªé¢˜ç›®çš„æ€è·¯æ¥æ€è€ƒ

ä½†æ˜¯ï¼Œæœ¬é¢˜å®åˆ™æ˜¯ç”¨åŠ¨æ€è§„åˆ’çš„01èƒŒåŒ…ï¼šèƒŒåŒ…å®¹é‡sum/2ï¼Œå¹¶ä¸”è¦æ°å¥½è£…æ»¡

- > ã€ä¸‰å¶ã®é¢˜è§£ã€‘[ã€å®«æ°´ä¸‰å¶ã®èƒŒåŒ…é—®é¢˜(ä¸Š)ã€‘å¦‚ä½•å°†åŸé—®é¢˜æŠ½è±¡ä¸ºã€Œ01 èƒŒåŒ…ã€é—®é¢˜](https://leetcode.cn/problems/partition-equal-subset-sum/solution/gong-shui-san-xie-bei-bao-wen-ti-shang-r-ln14/)

æˆ‘ä»¬ç›´æ¥å¥—ç”¨ã€Œ01 èƒŒåŒ…ã€çš„çŠ¶æ€å®šä¹‰ï¼š

*f*[*i*][*j*] ä»£è¡¨è€ƒè™‘å‰ *i* ä¸ªæ•°å€¼ï¼Œå…¶é€‰æ‹©æ•°å­—æ€»å’Œä¸è¶…è¿‡ *j* çš„æœ€å¤§ä»·å€¼ã€‚

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MTFkMTNhNTU3NWZjYjVhNWFhYzUxYzgxY2MyZTA1N2RfdjQ5dkJHRFlGUjZLbnpaaGV5T1dDWXpzTjlPanlVNTNfVG9rZW46Ym94Y25QRjR2SVJQOFNZQnA4dWUxT2dGWHFlXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

```C++
class Solution {
public:
    bool canPartition(vector<int>& nums) {
        int n = nums.size();
        int sum = accumulate(nums.begin(), nums.end(), 0);
        if (sum % 2 != 0) return false;
        int target = sum / 2;

        // dp[i][j]ï¼šå‰iä¸ªæ•°çš„æ€»å’Œä¸è¶…è¿‡å®¹é‡jçš„æœ€å¤§ä»·å€¼
        vector<vector<int>> dp(n, vector<int>(target + 1));

        // å¯¹äºç¬¬ä¸€ä¸ªæ•°
        for (int j = 0; j <= target; j++) {
            if (j >= nums[0]) dp[0][j] = nums[0];
        }
        // ä¾æ¬¡è€ƒè™‘åé¢å‡ ä¸ªæ•°
        for (int i = 1; i < n; i++) {
            for (int j = 0; j <= target; j++) {
                if (j < nums[i]) dp[i][j] = dp[i-1][j];     // ä¸æ”¾ç¬¬iä¸ª
                else dp[i][j] = max(dp[i-1][j], dp[i-1][j-nums[i]] + nums[i]);      // æ”¾ç¬¬iä¸ª
            }
        }
        // å¦‚æœæœ€å¤§ä»·å€¼ç­‰äº targetï¼Œè¯´æ˜å¯ä»¥æ‹†åˆ†æˆä¸¤ä¸ªã€Œç­‰å’Œå­é›†ã€
        return dp[n-1][target] == target;
    }
};
```



å¦‚æœä½¿ç”¨æ»šåŠ¨æ•°ç»„è¿›è¡Œä¸€ç»´ç©ºé—´ä¼˜åŒ–ï¼š

```C++
class Solution {
public:
    bool canPartition(vector<int>& nums) {
        int n = nums.size();
        int sum = accumulate(nums.begin(), nums.end(), 0);
        if (sum % 2 != 0) return false;
        int target = sum / 2;

        // dp[j]ï¼šforå‰iä¸ªæ•°çš„æ€»å’Œéå†ï¼Œä¸è¶…è¿‡å®¹é‡jçš„æœ€å¤§ä»·å€¼
        vector<int> dp(target + 1);

        // // å¯¹äºç¬¬ä¸€ä¸ªæ•°
        // for (int j = 0; j <= target; j++) {
        //     if (j >= nums[0]) dp[j] = nums[0];
        // }
        // ä¾æ¬¡è€ƒè™‘åé¢å‡ ä¸ªæ•°
        for (int i = 1; i < n; i++) {
            for (int j = target; j >= 0; j--) {
                if (j < nums[i]) continue;     // ä¸æ”¾ç¬¬iä¸ª
                else dp[j] = max(dp[j], dp[j-nums[i]] + nums[i]);      // æ”¾ç¬¬iä¸ª
            }
        }
        // å¦‚æœæœ€å¤§ä»·å€¼ç­‰äº targetï¼Œè¯´æ˜å¯ä»¥æ‹†åˆ†æˆä¸¤ä¸ªã€Œç­‰å’Œå­é›†ã€
        return dp[target] == target;
    }
};
```

å…¶å®ç¬¬äºŒå±‚forå¾ªç¯æœ‰ç‚¹å¤šï¼Œå¯ä»¥ç›´æ¥ï¼š

```C++
for (int i = 0; i < nums.size(); i++) {
    for (int j = target; j >= nums[i]; j--) { 
        dp[j] = max(dp[j], dp[j - nums[i]] + nums[i]);
    }
}
```



#### [1049. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II](https://leetcode.cn/problems/last-stone-weight-ii/)ï¼š01èƒŒåŒ…

å°†çŸ³å¤´å°½é‡åˆ†æˆå’Œç›¸ç­‰çš„ä¸¤å †å†æ±‚å·®å€¼ï¼Œç±»ä¼¼äºåˆ†å‰²ç­‰å’Œå­é›†--**è½¬åŒ–ä¸º01èƒŒåŒ…æ¥åš**

ã€ä¸‰å¶ã®é¢˜è§£ã€‘å°†é—®é¢˜å½»åº•åˆ‡æ¢ä¸º 01 èƒŒåŒ…é—®é¢˜ï¼šä»stonesæ•°ç»„ä¸­é€‰æ‹©ï¼Œå‡‘æˆæ€»å’Œä¸è¶…è¿‡ sum/2çš„æœ€å¤§ä»·å€¼ã€‚å…¶ä¸­ã€Œæˆæœ¬ã€&ã€Œä»·å€¼ã€å‡ä¸ºæ•°å€¼æœ¬èº«ã€‚

æ•´ç†ä¸€ä¸‹ï¼šå®šä¹‰f[i][j]ä»£è¡¨è€ƒè™‘å‰iä¸ªç‰©å“ï¼ˆæ•°å€¼ï¼‰å‡‘æˆæ€»å’Œä¸è¶…è¿‡jçš„æœ€å¤§ä»·å€¼ã€‚

æ¯ä¸ªç‰©å“éƒ½æœ‰ã€Œé€‰ã€å’Œã€Œä¸é€‰ã€ä¸¤ç§å†³ç­–ï¼Œè½¬ç§»æ–¹ç¨‹ä¸ºï¼š

```
f[i][j] = max(f[iâˆ’1][j], f[iâˆ’1][jâˆ’stones[iâˆ’1]] + stones[iâˆ’1])
```

ä¸å®Œå…¨èƒŒåŒ…ä¸åŒï¼Œ01 èƒŒåŒ…çš„å‡ ç§ç©ºé—´ä¼˜åŒ–æ˜¯ä¸å­˜åœ¨æ—¶é—´å¤æ‚åº¦ä¸Šçš„ä¼˜åŒ–ï¼Œå› æ­¤å†™æˆ æœ´ç´ äºŒç»´ã€æ»šåŠ¨æ•°ç»„ã€ä¸€ç»´ä¼˜åŒ– éƒ½å¯ä»¥ã€‚

å»ºè®®ç›´æ¥ä¸Šæ‰‹å†™ã€Œä¸€ç»´ç©ºé—´ä¼˜åŒ–ã€ç‰ˆæœ¬ï¼Œæ˜¯å…¶ä»–èƒŒåŒ…é—®é¢˜çš„åŸºç¡€ã€‚

**ä¸ä¸Šä¸€é¢˜å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼ï¼**

```C++
class Solution {
public:
    int lastStoneWeightII(vector<int>& stones) {
        int n = stones.size();
        int sum = accumulate(stones.begin(), stones.end(), 0);
        int target = sum / 2;

        // dp[i][j]ï¼šå‰iä¸ªæ•°çš„æ€»å’Œä¸è¶…è¿‡å®¹é‡jçš„æœ€å¤§ä»·å€¼
        vector<vector<int>> dp(n, vector<int>(target + 1));
        for (int j = 0; j <= target; j++) {
            if (j >= stones[0]) dp[0][j] = stones[0];
        }
        for (int i = 1; i < n; i++) {
            for (int j = 0; j <= target; j++) {
                if (j < stones[i]) dp[i][j] = dp[i-1][j];
                else dp[i][j] = max(dp[i-1][j], dp[i-1][j-stones[i]] + stones[i]);
            }
        }
        return abs(sum - dp[n-1][target] - dp[n-1][target]);
    }
};
class Solution {
public:
    int lastStoneWeightII(vector<int>& stones) {
        int n = stones.size();
        int sum = accumulate(stones.begin(), stones.end(), 0);
        int target = sum / 2;

        vector<int> dp(target + 1);
        for (int j = 0; j <= target; j++) {
            if (j >= stones[0]) dp[j] = stones[0];
        }
        for (int i = 1; i < n; i++) {
            for (int j = target; j >= stones[i]; j--) {
                dp[j] = max(dp[j], dp[j-stones[i]] + stones[i]);
            }
        }
        return abs(sum - dp[target] - dp[target]);
    }
};
```

> å¯¹ä¸€ç»´dpçš„åˆå§‹åŒ–ï¼ç¬¬äºŒä¸ªforä»1å¼€å§‹ï¼Œé‚£ä¹ˆå°±è¦å¯¹ç¬¬ä¸€ä¸ªè¿›è¡Œä¸€æ¬¡åˆå§‹åŒ–ï¼ˆæ³¨æ„ä¸ä¸Šé¢çš„åŒºåˆ«ï¼‰



#### [494. ç›®æ ‡å’Œ](https://leetcode.cn/problems/target-sum/)ï¼šdfs or èƒŒåŒ…åŠ¨è§„

æ±‚å¢åŠ è¿ç®—ç¬¦åçš„è¿ç®—ç»“æœç­‰äºtargetçš„æ–¹æ³•æ•°

**æ³•1ï¼šdfs ã€ä¸‰å¶ã®é¢˜è§£ã€‘**

æ•°æ®èŒƒå›´åªæœ‰20ï¼Œè€Œä¸”æ¯ä¸ªæ•°æ®åªæœ‰+/-ä¸¤ç§é€‰æ‹©ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨dfsè¿›è¡Œã€Œçˆ†æœã€ã€‚

è€Œdfsæœ‰**ã€Œä½¿ç”¨å…¨å±€å˜é‡ç»´æŠ¤ã€**å’Œ**ã€Œæ¥æ”¶è¿”å›å€¼å¤„ç†ã€**ä¸¤ç§å½¢å¼ã€‚

```C++
class Solution {
public:
    int ans = 0;
    void dfs(vector<int>& nums, int target, int idx, int sum) {
        if (idx == nums.size()) {
            if (sum == target) ans++;
            return;
        }
        dfs(nums, target, idx + 1, sum + nums[idx]);
        dfs(nums, target, idx + 1, sum - nums[idx]);
    }
    int findTargetSumWays(vector<int>& nums, int target) {
        dfs(nums, target, 0, 0);
        return ans;
    }
};
class Solution {
public:
    int dfs(vector<int>& nums, int target, int idx, int sum) {
        if (idx == nums.size()) {
            if (sum == target) return 1;
            else return 0;
        }
        int left = dfs(nums, target, idx + 1, sum + nums[idx]);
        int right = dfs(nums, target, idx + 1, sum - nums[idx]);
        return left + right;
    }
    int findTargetSumWays(vector<int>& nums, int target) {
        return dfs(nums, target, 0, 0);
    }
};
```



**æ³•2ï¼šåŠ¨æ€è§„åˆ’**

è¿˜æ˜¯æŠŠ+å’Œ-åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œæ€»å’Œæ˜¯targetã€‚

æ€»å’Œsumï¼Œæ­£æ•°éƒ¨åˆ†å’Œmï¼Œè´Ÿæ•°éƒ¨åˆ†å’Œ(sum-m)ï¼Œm-(sum-m)=targetï¼Œåˆ™m=(target+sum)/2

**é—®é¢˜å†æ¬¡è½¬æ¢ä¸ºï¼šä»numsä¸­å‡‘å‡ºå’Œä¸ºmçš„é‚£éƒ¨åˆ†æ•°**

å®šä¹‰f[i][j]ï¼šæ¶µç›–åˆ°ç¬¬iä¸ªæ•°ï¼Œä»numså‡‘å‡ºæ€»å’Œæ°å¥½ä¸º j çš„æ–¹æ¡ˆæ•°ã€‚æœ€ç»ˆç­”æ¡ˆä¸ºf[n][m]ï¼Œf[0][0]=1ä¸ºèµ·å§‹æ¡ä»¶ï¼šä»£è¡¨ä¸è€ƒè™‘ä»»ä½•æ•°ï¼Œå‡‘å‡ºè®¡ç®—ç»“æœä¸º0çš„æ–¹æ¡ˆæ•°ä¸º1ç§ã€‚

æ¯ä¸ªæ•°å€¼æœ‰ã€Œé€‰ã€å’Œã€Œä¸é€‰ã€ä¸¤ç§å†³ç­–ï¼Œè½¬ç§»æ–¹ç¨‹ä¸ºï¼š

```
f[i][j] = f[i - 1][j] + f[i - 1][j - nums[i - 1]]
class Solution {
public:
    int findTargetSumWays(vector<int>& nums, int target) {
        int n = nums.size();
        int sum = accumulate(nums.begin(), nums.end(), 0);
        // å¯¹äºè´Ÿæ•°çš„targetä¸è¡Œ
        target = abs(target);
        if (sum < target || (sum + target) % 2 != 0) return 0;

        int m = (sum + target) / 2;

        // dp[i][j]ï¼šå‡‘å‡ºæ€»å’Œæ°å¥½ä¸º j çš„æ–¹æ¡ˆæ•°
        vector<vector<int>> dp(n + 1, vector<int>(m + 1));
        dp[0][0] = 1;
        for (int i = 1; i <= n; i++) {
            for (int j = 0; j <= m; j++) {
                dp[i][j] += dp[i-1][j];
                if (j >= nums[i-1]) {
                    dp[i][j] += dp[i-1][j-nums[i-1]];
                }
            }
        }
        return dp[n][m];
    }
};
```

å…¶å®ï¼Œä»¿ç…§ä¸‰å¶ã®åšæ³•ï¼Œä½¿ç”¨è´Ÿæ•°ä¼šé¿å…è¿™æ ·çš„é—®é¢˜

```C++
if (sum < target || (sum - target) % 2 != 0) return 0;
int m = (sum - target) / 2;
```

ç›´æ¥ä¼˜åŒ–ä¸º**ä¸€ç»´çš„dpæ•°ç»„**ï¼š(ä¼¼ä¹æ›´å¥½ç†è§£ï¼‰

```C++
class Solution {
public:
    int findTargetSumWays(vector<int>& nums, int target) {
        int n = nums.size();
        int sum = accumulate(nums.begin(), nums.end(), 0);
        if (sum < target || (sum - target) % 2 != 0) return 0;
        
        int m = (sum - target) / 2;
        vector<int> dp(m + 1);
        dp[0] = 1;
        for (int i = 0; i < n; i++) {
            for (int j = m; j >= nums[i]; j--) {
                dp[j] += dp[j - nums[i]];
            }
        }
        return dp[m];
    }
};
```



#### [474. ä¸€å’Œé›¶](https://leetcode.cn/problems/ones-and-zeroes/)ï¼šå¤šç»´01èƒŒåŒ…

ä»ç„¶å¯ä»¥ä½¿ç”¨01èƒŒåŒ…ï¼Œåªä¸è¿‡ç‰©å“çš„ä»·å€¼æœ‰å¤šä¸ªç»´åº¦

**æ¯ä¸ªå­—ç¬¦ä¸²çš„ä»·å€¼éƒ½æ˜¯ 1ï¼ˆå¯¹ç­”æ¡ˆçš„è´¡çŒ®éƒ½æ˜¯ 1ï¼‰ï¼Œé€‰æ‹©çš„æˆæœ¬æ˜¯è¯¥å­—ç¬¦ä¸²ä¸­ 1 çš„æ•°é‡å’Œ 0 çš„æ•°é‡ã€‚**

**dp[k][i][j]ä»£è¡¨è€ƒè™‘å‰ k ä»¶ç‰©å“ï¼Œåœ¨æ•°å­—1å®¹é‡ä¸è¶…è¿‡** ***i*****ï¼Œæ•°å­—0å®¹é‡ä¸è¶…è¿‡** ***j*** **çš„æ¡ä»¶ä¸‹çš„ã€Œæœ€å¤§ä»·å€¼ã€ï¼ˆæ¯ä¸ªå­—ç¬¦ä¸²çš„ä»·å€¼å‡ä¸º 1ï¼‰**

```C++
class Solution {
public:
    int findMaxForm(vector<string>& strs, int m, int n) {
        int len = strs.size();
        // é¢„å¤„ç†strä¸­çš„0å’Œ1æ•°é‡
        vector<vector<int>> cnt(len, vector<int>(2));
        for (int i = 0; i < len; i++) {
            string str = strs[i];
            int zero = 0, one = 0;
            for (char c : str) {
                if (c == '0') zero++;
                else one++;
            }
            cnt[i] = {zero, one};
        }
        
        // dp[k][i][j]ä»£è¡¨è€ƒè™‘å‰kä»¶ç‰©å“ï¼Œåœ¨æ•°å­—1å®¹é‡ä¸è¶…è¿‡iï¼Œæ•°å­—0å®¹é‡ä¸è¶…è¿‡jçš„æ¡ä»¶ä¸‹çš„æœ€å¤§å…ƒç´ ä¸ªæ•°
        vector<vector<vector<int>>> dp(len, vector<vector<int>>(m + 1, vector<int>(n + 1)));
        // å¯¹ç¬¬ä¸€ä¸ªæ•°è¿›è¡Œåˆå§‹åŒ–
        for (int i = 0; i <= m; i++) {
            for (int j = 0; j <= n; j++) {
                if (i >= cnt[0][0] && j >= cnt[0][1]) dp[0][i][j] = 1;
            }
        }
        // å¤„ç†è€ƒè™‘å…¶ä½™ç‰©å“çš„æƒ…å†µ
        for (int k = 1; k < len; k++) {
            int zero = cnt[k][0], one = cnt[k][1];
            for (int i = 0; i <= m; i++) {
                for (int j = 0; j <= n; j++) {
                    if (i >= zero && j >= one) {
                        // é€‰æ‹©ç¬¬ k ä»¶ç‰©å“ï¼ˆå‰ææ˜¯æœ‰è¶³å¤Ÿçš„ m å’Œ n é¢åº¦å¯ä½¿ç”¨ï¼‰
                        dp[k][i][j] = max(dp[k-1][i][j], dp[k-1][i-zero][j-one] + 1);
                    } else {
                        // ä¸é€‰æ‹©ç¬¬ k ä»¶ç‰©å“
                        dp[k][i][j] = dp[k-1][i][j];
                    }
                }
            }
        }
        return dp[len - 1][m][n];
    }
};
```

è¿›è¡Œä¼˜åŒ–ï¼š

```C++
        vector<vector<int>> dp(m + 1, vector<int>(n + 1));
        for (int k = 0; k < len; k++) {
            int zero = cnt[k][0], one = cnt[k][1];
            for (int i = m; i >= zero; i--) {
                for (int j = n; j >= one; j--) {
                    dp[i][j] = max(dp[i][j], dp[i-zero][j-one] + 1);
                }
            }
        }
        return dp[m][n];
```



#### [518. é›¶é’±å…‘æ¢ II](https://leetcode.cn/problems/coin-change-2/)ï¼šå®Œå…¨èƒŒåŒ…

è¢«é€‰ç‰©å“ä¹‹é—´ä¸éœ€è¦æ»¡è¶³ç‰¹å®šå…³ç³»ï¼Œåªéœ€è¦é€‰æ‹©ç‰©å“ï¼Œä»¥è¾¾åˆ°ã€Œå…¨å±€æœ€ä¼˜ã€æˆ–è€…ã€Œç‰¹å®šçŠ¶æ€ã€å³å¯ã€‚

åŒæ—¶ç¡¬å¸ç›¸å½“äºæˆ‘ä»¬çš„ç‰©å“ï¼Œæ¯ç§ç¡¬å¸å¯ä»¥é€‰æ‹©ã€Œæ— é™æ¬¡ã€ï¼Œ**å¾ˆè‡ªç„¶çš„æƒ³åˆ°ã€Œå®Œå…¨èƒŒåŒ…ã€ã€‚**

å®šä¹‰f[i][j]ä¸ºè€ƒè™‘å‰iä»¶ç‰©å“ï¼Œå‡‘æˆæ€»å’Œä¸ºjçš„æ–¹æ¡ˆæ•°é‡ã€‚

ä¸ºäº†æ–¹ä¾¿åˆå§‹åŒ–ï¼Œæˆ‘ä»¬ä¸€èˆ¬è®©f[0][x] ä»£è¡¨ä¸è€ƒè™‘ä»»ä½•ç‰©å“çš„æƒ…å†µã€‚å› æ­¤æˆ‘ä»¬æœ‰æ˜¾è€Œæ˜“è§çš„åˆå§‹åŒ–æ¡ä»¶f[0][0]=1ï¼Œå…¶ä½™f[0][x]=0ã€‚ä»£è¡¨å½“æ²¡æœ‰ä»»ä½•ç¡¬å¸çš„æ—¶å€™ï¼Œå­˜åœ¨å‡‘æˆæ€»å’Œä¸º 0 çš„æ–¹æ¡ˆæ•°é‡ä¸º1ï¼›å‡‘æˆå…¶ä»–æ€»å’Œçš„æ–¹æ¡ˆä¸å­˜åœ¨ã€‚

å½“ã€ŒçŠ¶æ€å®šä¹‰ã€ä¸ã€ŒåŸºæœ¬åˆå§‹åŒ–ã€æœ‰äº†ä¹‹åï¼Œæˆ‘ä»¬ä¸å¤±ä¸€èˆ¬æ€§çš„è€ƒè™‘f[i][j]è¯¥å¦‚ä½•è½¬ç§»ã€‚

å¯¹äºç¬¬ ii ä¸ªç¡¬å¸æˆ‘ä»¬æœ‰ä¸¤ç§å†³ç­–æ–¹æ¡ˆï¼š

- ä¸ä½¿ç”¨è¯¥ç¡¬å¸ï¼šf[i - 1][j]
- ä½¿ç”¨è¯¥ç¡¬å¸ï¼šç”±äºæ¯ä¸ªç¡¬å¸å¯ä»¥è¢«é€‰æ‹©å¤šæ¬¡ï¼ˆå®¹é‡å…è®¸çš„æƒ…å†µä¸‹ï¼‰ï¼Œå› æ­¤æ–¹æ¡ˆæ•°é‡åº”å½“æ˜¯é€‰æ‹©ã€Œä»»æ„ä¸ªã€è¯¥ç¡¬å¸çš„æ–¹æ¡ˆæ€»å’Œï¼š$$sum_{k = 1}^{\left \lfloor {j / val} \right \rfloor}f[i - 1][j - k * val], val = nums[i - 1] $$

> å¯¹äºdpæ•°ç»„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨n*(amount+1)ï¼Œä½†æ˜¯å¯¹äºç¬¬ä¸€è¡Œçš„æ•°æ®åˆå§‹åŒ–çš„æ—¶å€™ä¼šç¨å¾®éº»çƒ¦ï¼Œä¸å¦‚ç›´æ¥(n+1)*(amount+1)

```C++
class Solution {
public:
    int change(int amount, vector<int>& coins) {
        int n = coins.size();
        // dp[i][j]ï¼šè€ƒè™‘å‰iä»¶ç‰©å“ï¼Œå‡‘æˆæ€»å’Œä¸ºjçš„æ–¹æ¡ˆæ•°é‡
        vector<vector<int>> dp(n + 1, vector<int>(amount + 1));
        dp[0][0] = 1;
        for (int i = 1; i <= n; i++) {
            int val = coins[i - 1];
            for (int j = 0; j <= amount; j++) {
                dp[i][j] = dp[i - 1][j];
                for (int k = 1; k * val <= j; k++) {
                    dp[i][j] += dp[i - 1][j - k * val];
                }
            }
        }
        return dp[n][amount];
    }
};
class Solution {
public:
    int change(int amount, vector<int>& coins) {
        int n = coins.size();
        vector<int> dp(amount + 1);
        dp[0] = 1;
        for (int i = 1; i <= n; i++) {
            int val = coins[i - 1];
            for (int j = val; j <= amount; j++) {
                dp[j] += dp[j - val];
            }
        }
        return dp[amount];
    }
};
```



#### [377. ç»„åˆæ€»å’Œ â…£](https://leetcode.cn/problems/combination-sum-iv/)ï¼šå®Œå…¨èƒŒåŒ… è€ƒè™‘é¡ºåº+æº¢å‡º

æœ¬é¢˜ä¸ã€Œå®Œå…¨èƒŒåŒ…æ±‚æ–¹æ¡ˆæ•°ã€é—®é¢˜çš„å·®åˆ«åœ¨äºï¼š**é€‰æ‹©æ–¹æ¡ˆä¸­çš„ä¸åŒçš„ç‰©å“é¡ºåºä»£è¡¨ä¸åŒæ–¹æ¡ˆã€‚**

å› æ­¤æˆ‘ä»¬ä¸èƒ½ç›´æ¥ä»£å…¥ã€Œå®Œå…¨èƒŒåŒ…ã€çš„æ€è·¯ï¼ˆçŠ¶æ€å®šä¹‰ï¼‰æ¥æ±‚è§£ã€‚

è¿™æ—¶å€™å¯ä»¥ä»**ã€Œæ„æˆç­”æ¡ˆçš„ç»„åˆã€**å…¥æ‰‹ï¼šåˆ©ç”¨ 1 <= nums[i] <= 1000 å’Œ 1 <= target <= 1000 æ¡ä»¶å¯ä»¥ç¡®å®šï¼Œç»„åˆé•¿åº¦å¿…ç„¶åœ¨[1,1000]ã€‚

å®šä¹‰ï¼šf[i][j]ä¸º**ç»„åˆé•¿åº¦ä¸ºi**ï¼Œ**å‡‘æˆæ€»å’Œä¸ºjçš„æ–¹æ¡ˆæ•°**æ˜¯å¤šå°‘ã€‚

ç”±äºå¯¹ç»„åˆæ–¹æ¡ˆçš„é•¿åº¦æ²¡æœ‰é™åˆ¶ï¼Œå› æ­¤æˆ‘ä»¬**æœ€ç»ˆç­”æ¡ˆä¸ºæ‰€æœ‰çš„f[x][target]çš„æ€»å’Œ**ã€‚

åŒæ—¶æœ‰æ˜¾è€Œæ˜“è§çš„åˆå§‹æ¡ä»¶ï¼ˆæœ‰æ•ˆå€¼ï¼‰f[0][0]=1ã€‚

é‚£ä¹ˆå¯¹ä»»æ„çš„f[len][target] è€Œè¨€ï¼Œç»„åˆä¸­çš„æœ€åä¸€ä¸ªæ•°å­—å¯ä»¥é€‰æ‹©numsä¸­çš„ä»»æ„æ•°å€¼ï¼Œå› æ­¤f[len][target]åº”è¯¥ä¸ºä»¥ä¸‹æ‰€æœ‰æ–¹æ¡ˆæ€»å’Œï¼š

- **æœ€åä¸€ä¸ªæ•°é€‰æ‹© nums[0]ï¼Œæ–¹æ¡ˆæ•°ä¸ºf [lenâˆ’1] [targetâˆ’nums[0]]**
- **æœ€åä¸€ä¸ªæ•°é€‰æ‹© nums[1]ï¼Œæ–¹æ¡ˆæ•°ä¸ºf [lenâˆ’1] [targetâˆ’nums[1]]**
- **æœ€åä¸€ä¸ªæ•°é€‰æ‹© nums[2]ï¼Œæ–¹æ¡ˆæ•°ä¸ºf [lenâˆ’1] [targetâˆ’nums[2]]**
- **...**

```C++
class Solution {
public:
    // å› ä¸º nums[i] æœ€å°å€¼ä¸º 1ï¼Œå› æ­¤æ„æˆç­”æ¡ˆçš„æœ€å¤§é•¿åº¦ä¸º target
    int combinationSum4(vector<int>& nums, int target) {
        int len = target;
        // dp[i][j]ï¼šç»„åˆé•¿åº¦ä¸ºiï¼Œæœ€åä¸€ä¸ªå…ƒç´ ä¸ºnumï¼Œå‡‘æˆæ€»å’Œä¸ºjçš„æ–¹æ¡ˆæ•°
        vector<vector<int>> dp(len + 1,vector<int>(target + 1));
        dp[0][0] = 1;
        int ans = 0;
        for (int i = 1; i <= len; i++) {
            for (int j = 0; j <= target; j++) {
                for (int num : nums) {
                    if (j >= num) dp[i][j] += dp[i - 1][j - num];
                }
            }
            ans += dp[i][target];
        }
        return ans;
    }
};

å…¶ä¸­ï¼ŒåŠ›æ‰£ä¼šæœ‰dpæ•°ç»„çš„æº¢å‡ºï¼Œå¤„ç†æ–¹æ³•æ˜¯ï¼š
vector<vector<unsigned long long>> dp(len + 1,vector<unsigned long long>(target + 1));
```

**ä¸€ç»´ä¼˜åŒ–**

æˆ‘ä»¬çŸ¥é“**ã€Œå®Œå…¨èƒŒåŒ…ã€å¯ä»¥é€šè¿‡å–æ¶ˆç‰©å“ç»´åº¦æ¥å®ç°é™ç»´ä¼˜åŒ–**ã€‚

æœ¬é¢˜ä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸åŒæ‰‹æ®µï¼š**å®šä¹‰** ***f*****[*****i*****] ä¸ºå‡‘æˆæ€»å’Œä¸º** ***i*** **çš„æ–¹æ¡ˆæ•°æ˜¯å¤šå°‘ã€‚**

ç”±äºæ¯ä¸ªæ•°å€¼å¯ä»¥è¢«é€‰æ‹©æ— é™æ¬¡ï¼Œå› æ­¤åœ¨è®¡ç®—ä»»æ„æ€»å’Œæ—¶ï¼Œæˆ‘ä»¬ä¿è¯ nums ä¸­çš„æ¯ä¸€ä½éƒ½ä¼šè¢«è€ƒè™‘åˆ°å³å¯ï¼ˆå³ç¡®ä¿å¯¹ç»„åˆæ€»å’Œ target çš„éå†åœ¨å¤–ï¼Œå¯¹æ•°ç»„ nums çš„éå†åœ¨å†…ï¼‰ã€‚

> è¿™ä¸€ä¸ªé¢˜å…¶å®æ˜¯**æ’åˆ—**ï¼Œè¿™ä¸ªé¢˜å’Œå…¶ä»–çš„ä¸å¤ªä¸€æ ·ï¼ï¼å¤–å±‚forèƒŒåŒ…

> æ¢å¥è¯è¯´ï¼Œæ¯æ¬¡è€ƒè™‘ä¸€ä¸ªèƒŒåŒ…å®¹é‡ï¼Œéƒ½è¦ç»“åˆnumsä¸­çš„æ‰€æœ‰ç‰©å“

```C++
class Solution {
public:
    // å› ä¸º nums[i] æœ€å°å€¼ä¸º 1ï¼Œå› æ­¤æ„æˆç­”æ¡ˆçš„æœ€å¤§é•¿åº¦ä¸º target
    int combinationSum4(vector<int>& nums, int target) {
        int len = target;
        vector<unsigned long long> dp(target + 1);
        dp[0] = 1;
        for (int j = 1; j <= target; j++) {
            for (int num : nums) {
                if (j >= num) dp[j] += dp[j - num];
            }
        }
        return dp[target];
    }
};
```



**è¡¥å……å…³äºæº¢å‡ºè¯´æ˜**

é¦–å…ˆ Java ä¸éœ€è¦è€ƒè™‘æº¢å‡ºï¼ŒCPP éœ€è¦è€ƒè™‘æº¢å‡ºï¼Œç»ä¸æ˜¯å› ä¸ºæµ‹è¯•æ•°æ®ä¸åŒï¼Œè€Œæ˜¯ä¸¤è€…å¯¹äºã€Œæº¢å‡ºã€å¤„ç†ä¸åŒå¯¼è‡´ã€‚

ç”±äºé¢˜ç›®æœ€ç»ˆç­”æ¡ˆæ˜¯ intï¼Œå› æ­¤ Java ä¸éœ€è¦ç”¨é¢å¤–æ“ä½œã€‚

å½“ Java å‘ç”Ÿæº¢å‡ºæ—¶ï¼Œä¼šç›´æ¥å½“æˆè´Ÿæ•°æ¥å¤„ç†ã€‚è¿™å°±å¯¼è‡´äº†åªè¦ç­”æ¡ˆæœ€ç»ˆæ˜¯ intï¼Œæ‰€æœ‰çš„æº¢å‡ºä¼šè¢«è¡¥å¿å›æ¥ï¼š

```Go
{
    System.out.println(Integer.MIN_VALUE); // -2147483648
    
    int a = Integer.MAX_VALUE;
    System.out.println(a); // 2147483647
    a += 1;
    System.out.println(a); // -2147483648
    a -= 1;
    System.out.println(a); //2147483647
}
```

è¿™æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è¿ç®—è¿‡ç¨‹ä¸­å¦‚æœåªæ¶‰åŠã€Œçº¯åŠ å‡è¿ç®—ã€ï¼Œè€Œä¸æ¶‰åŠã€Œä¹˜é™¤ã€ã€ã€Œå–æœ€å¤§å€¼/æœ€å°å€¼ã€å’Œã€Œæ•°å€¼å¤§å°åˆ¤æ–­ã€çš„è¯ï¼ŒJava æ˜¯ä¸éœ€è¦ä½¿ç”¨ Long æ¥ç¡®ä¿æ­£ç¡®æ€§çš„ï¼Œå› ä¸ºæœ€ç»ˆæº¢å‡ºä¼šè¢«è½¬åŒ–å›æ¥ã€‚

æŒ‰é“ç†ï¼ŒCPP æœ¬èº«å¯¹äº int æº¢å‡ºçš„è½¬åŒ–å¤„ç†ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚

ä½†åœ¨ LC ä¸Šçš„ CPP å‘ç”Ÿæº¢å‡ºæ—¶ï¼Œä¸ä¼šç›´æ¥å½“åšè´Ÿæ•°æ¥å¤„ç†ï¼Œè€Œæ˜¯ç›´æ¥æŠ›å‡ºå¼‚å¸¸ã€‚å› æ­¤åŒæ ·çš„ä»£ç åœ¨ LC ä¸Šæ˜¯æ— æ³•è¢«æ­£å¸¸æ‰§è¡Œçš„ï¼š

```C++
{
    cout << INT_MIN << endl; //-2147483648

    int a = INT_MAX; 
    cout << a << endl; // 2147483647
    a += 1; // æº¢å‡ºæŠ¥é”™
    cout << a << endl;
    a -= 1;
    cout << a << endl;
}
```

è¿™æ˜¯ä¸€èˆ¬æ€§çš„ï¼Œå¯¹äº LC ä¸Šçš„åŒä¸€é“é¢˜ï¼ŒJava ä¸éœ€è¦å¤„ç†æº¢å‡ºï¼ŒCPP éœ€è¦å¤„ç†çš„åŸå› ã€‚

ä½†æœ¬é¢˜è¿˜æœ‰å¦å¤–ä¸€ä¸ªåŸå› ï¼šç”±äºçŠ¶æ€å€¼æ˜¯è¢«ç´¯åŠ çš„ï¼Œæœ€ç»ˆç­”æ¡ˆåˆæ˜¯ intï¼Œæ‰€ä»¥å…¶å®é‚£äº›æº¢å‡ºå€¼æ˜¯ä¸ä¼šè¢«ç”¨åˆ°çš„ï¼ˆä¸ä¼šä¸æˆ‘ä»¬çš„ç›®æ ‡çŠ¶æ€å€¼ç›¸å…³ï¼‰ï¼ŒCPP ä½¿ç”¨ ULL å…¶å®åªæ˜¯å•çº¯ä¸ºäº†è§£å†³æº¢å‡ºæŠ¥é”™ç½¢äº†ã€‚



#### [322. é›¶é’±å…‘æ¢](https://leetcode.cn/problems/coin-change/)ï¼šå®Œå…¨èƒŒåŒ… æ— åºã€æœ€å°ä¸ªæ•°

å®šä¹‰**f[i][j]ä¸ºè€ƒè™‘å‰ i ä»¶ç‰©å“ï¼Œå‡‘æˆæ€»å’Œä¸º j æ‰€éœ€è¦çš„æœ€å°‘ç¡¬å¸æ•°é‡**ã€‚

ä¸ºäº†æ–¹ä¾¿åˆå§‹åŒ–ï¼Œæˆ‘ä»¬ä¸€èˆ¬è®©f[0][x]ä»£è¡¨ä¸è€ƒè™‘ä»»ä½•ç‰©å“çš„æƒ…å†µã€‚

å› æ­¤æˆ‘ä»¬æœ‰æ˜¾è€Œæ˜“è§çš„åˆå§‹åŒ–æ¡ä»¶f[0][0]=0ï¼Œå…¶ä½™f[0][x] = INFã€‚

ä»£è¡¨å½“æ²¡æœ‰ä»»ä½•ç¡¬å¸çš„æ—¶å€™ï¼Œå­˜åœ¨å‡‘æˆæ€»å’Œä¸º 0 çš„æ–¹æ¡ˆï¼Œæ–¹æ¡ˆæ‰€ä½¿ç”¨çš„ç¡¬å¸ä¸º 0ï¼›å‡‘æˆå…¶ä»–æ€»å’Œçš„æ–¹æ¡ˆä¸å­˜åœ¨ã€‚ç”±äºæˆ‘ä»¬è¦æ±‚çš„æ˜¯ã€Œæœ€å°‘ã€ç¡¬å¸æ•°é‡ï¼Œå› æ­¤æˆ‘ä»¬ä¸å¸Œæœ›ã€Œæ— æ•ˆå€¼ã€å‚ä¸è½¬ç§»ï¼Œå› æ­¤å¯è®¾INF=INT_MAXã€‚

å½“ã€ŒçŠ¶æ€å®šä¹‰ã€ä¸ã€ŒåŸºæœ¬åˆå§‹åŒ–ã€æœ‰äº†ä¹‹åï¼Œæˆ‘ä»¬ä¸å¤±ä¸€èˆ¬æ€§çš„è€ƒè™‘ f[i][j]f[i][j] è¯¥å¦‚ä½•è½¬ç§»ã€‚

å¯¹äºç¬¬iä¸ªç¡¬å¸æˆ‘ä»¬æœ‰ä¸¤ç§å†³ç­–æ–¹æ¡ˆï¼š

- ä¸ä½¿ç”¨è¯¥ç¡¬å¸ï¼šf[i - 1][j]
- ä½¿ç”¨è¯¥ç¡¬å¸ï¼Œç”±äºæ¯ä¸ªç¡¬å¸å¯ä»¥è¢«é€‰æ‹©å¤šæ¬¡ï¼ˆå®¹é‡å…è®¸çš„æƒ…å†µä¸‹ï¼‰ï¼Œå› æ­¤æœ€ä¼˜è§£åº”å½“æ˜¯æ‰€æœ‰æ–¹æ¡ˆä¸­çš„æœ€å°å€¼ï¼šmin(f[i-1][j-k*coin] + k)

> æœ´ç´ çš„å®Œå…¨èƒŒåŒ…æœ‰è¶…æ—¶çš„é£é™©

```C++
class Solution {
public:
    int coinChange(vector<int>& coins, int amount) {
        int n = coins.size();
        vector<vector<int>> dp(n + 1, vector<int>(amount + 1));
        for (int j = 1; j <= amount; j++) {
            dp[0][j] = INT_MAX;
        }
        for (int i = 1; i <= n; i++) {
            int val = coins[i - 1];
            for (int j = 0; j <= amount; j++) {
                dp[i][j] = dp[i - 1][j];
                for (int k = 1; k * val <= j; k++) {
                    if (dp[i - 1][j - k * val] != INT_MAX) {
                        dp[i][j] = min(dp[i][j], dp[i - 1][j - k * val] + k);
                    }
                }
            }
        }
        return dp[n][amount] == INT_MAX ? -1 : dp[n][amount];
    }
};
å±…ç„¶ä¼šè¶…æ—¶ï¼Ÿï¼Ÿ
```

**ä¸€ç»´dpä¼˜åŒ–ï¼š**

> ç»„åˆæ•°ï¼Œå¤–å±‚forç‰©å“

```C++
class Solution {
public:
    int coinChange(vector<int>& coins, int amount) {
        int n = coins.size();
        vector<unsigned long long> dp(amount + 1, INT_MAX);
        dp[0] = 0;
        for (int i = 0; i < n; i++) {
            // å¯¹å‰iä¸ªç¡¬å¸è¿›è¡Œè€ƒè™‘
            for (int j = coins[i]; j <= amount; j++) {
                dp[j] = min(dp[j], dp[j-coins[i]] + 1);         
            }
        }
        return dp[amount] == INT_MAX ? -1 : dp[amount];
    }
};
```



#### [279. å®Œå…¨å¹³æ–¹æ•°](https://leetcode.cn/problems/perfect-squares/)ï¼šå®Œå…¨èƒŒåŒ… æœ€å°ä¸ªæ•°

å‡‘å¹³æ–¹æ•°å’Œå‡‘é›¶é’±æ˜¯ä¸€ä¸ªé“ç†ï¼Œç‰©å“æ˜¯æ— é™ä½¿ç”¨çš„å¹³æ–¹æ•°ï¼

ç›®å‰æˆ‘ä»¬å­¦è¿‡çš„ä¸¤ç±»èƒŒåŒ…é—®é¢˜ï¼ˆ01 èƒŒåŒ… & å®Œå…¨èƒŒåŒ…ï¼‰çš„åŸå§‹çŠ¶æ€å®šä¹‰éƒ½æ˜¯ä¸¤ç»´ï¼šç¬¬ä¸€ç»´ i ä»£è¡¨ç‰©å“ç¼–å·ï¼Œç¬¬äºŒç»´ j ä»£è¡¨å®¹é‡ã€‚

å…¶ä¸­ç¬¬äºŒç»´ j åˆæœ‰ã€Œä¸è¶…è¿‡å®¹é‡ jã€å’Œã€Œå®¹é‡æ°å¥½ä¸º jã€ä¸¤ç§å®šä¹‰ï¼Œæœ¬é¢˜è¦æˆ‘ä»¬æ±‚ã€Œæ°å¥½ã€å‡‘å‡º n æ‰€éœ€è¦çš„æœ€å°‘ä¸ªæ•°ã€‚



å› æ­¤æˆ‘ä»¬å¯ä»¥è°ƒæ•´æˆ‘ä»¬çš„ã€ŒçŠ¶æ€å®šä¹‰ã€ï¼š**f[i][j] ä¸ºè€ƒè™‘å‰ i ä¸ªæ•°å­—ï¼Œå‡‘å‡ºæ•°å­—æ€»å’Œ j æ‰€éœ€è¦ç”¨åˆ°çš„æœ€å°‘æ•°å­—æ•°é‡ã€‚**

ä¸å¤±ä¸€èˆ¬æ€§çš„åˆ†æ f[i][j]ï¼Œå¯¹äºç¬¬ i ä¸ªæ•°å­—ï¼ˆå‡è®¾æ•°å€¼ä¸º tï¼‰ï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹é€‰æ‹©ï¼š

- é€‰ 0 ä¸ªæ•°å­— iï¼Œæ­¤æ—¶æœ‰ f[i][j]=f[iâˆ’1][j]
- é€‰ 1 ä¸ªæ•°å­— iï¼Œæ­¤æ—¶æœ‰ f[i][j]=f[iâˆ’1][jâˆ’t]+1
- é€‰ k ä¸ªæ•°å­— iï¼Œæ­¤æ—¶æœ‰ f[i][j]=f[iâˆ’1][jâˆ’kâˆ—t]+k

å› æ­¤æˆ‘ä»¬çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š`f[i][j]=min(f[iâˆ’1][jâˆ’kâˆ—t] + k)ï¼Œ0â©½kâˆ—tâ©½j`

å½“ç„¶ï¼Œèƒ½å¤Ÿé€‰æ‹© k ä¸ªæ•°å­— i çš„å‰ææ˜¯ï¼Œå‰©ä½™çš„æ•°å­— jâˆ’kâˆ—t ä¹Ÿèƒ½å¤Ÿè¢«å…¶ä»–ã€Œå®Œå…¨å¹³æ–¹æ•°ã€å‡‘å‡ºï¼Œå³f[iâˆ’1][jâˆ’kâˆ—t] ä¸ºæœ‰æ„ä¹‰çš„å€¼ã€‚

**æœ´ç´ çš„å®Œå…¨èƒŒåŒ…ï¼š**ï¼ˆè®©ç‰©å“ä¸‹æ ‡ä» 0 å¼€å§‹ï¼Œå•ç‹¬å¤„ç†ç¬¬ä¸€ä¸ªç‰©å“çš„ä»£ç ï¼Œä½†æ˜¯è¿˜æ˜¯è¶…æ—¶äº†ã€‚ã€‚ï¼‰

```C++
class Solution {
public:
    int numSquares(int n) {
        // é¢„å¤„ç†æ‰€æœ‰å¯èƒ½çš„å¹³æ–¹æ•°
        vector<int> square;
        for (int i = 1; i * i <= n; i++) square.push_back(i * i);
        int len = square.size();
        // dp[i][j]ï¼šè€ƒè™‘å‰iä¸ªç‰©å“ï¼Œå‡‘å‡ºjæ‰€ä½¿ç”¨åˆ°çš„æœ€å°å…ƒç´ ä¸ªæ•°
        vector<vector<int>> dp(len, vector<int>(n + 1));
        
        // å¤„ç†ç¬¬ä¸€ä¸ªæ•°çš„æƒ…å†µ
        for (int j = 0; j <= n; j++) {
            int k = j / square[0];
            if (k * square[0] == j) dp[0][j] = k;   // åªæœ‰å®¹é‡ä¸ºç¬¬ä¸€ä¸ªæ•°çš„æ•´æ•°å€çš„æ‰èƒ½å‡‘å‡º
            else dp[0][j] = -1;     // ä½œä¸ºæ— æ•ˆå€¼
        }
        // å¤„ç†å‰©ä½™æ•°çš„æƒ…å†µ
        for (int i = 1; i < len; i++) {
            int t = square[i];
            for (int j = 0; j <= n; j++) {
                // å¯¹äºä¸é€‰ç¬¬iä¸ªæ•°çš„æƒ…å†µ
                dp[i][j] = dp[i - 1][j];
                // å¯¹äºé€‰kæ¬¡ç¬¬iä¸ªæ•°çš„æƒ…å†µ
                for (int k = 1; k * t <= j; k++) {
                    if (dp[i-1][j-k*t] != -1) {
                        dp[i][j] = min(dp[i][j], dp[i-1][j-k*t] + k);
                    }
                }
            }
        }
        return dp[len - 1][n];
    }
};
```

**å®Œå…¨èƒŒåŒ…ä¼˜åŒ–ä¸ºä¸€ç»´dpæ•°ç»„ï¼š**

> [ã€å®«æ°´ä¸‰å¶ã€‘è¯¦è§£å®Œå…¨èƒŒåŒ…ä¸€ç»´ç©ºé—´ä¼˜åŒ–æ¨å¯¼ï¼ˆé™„èƒŒåŒ…é—®é¢˜æ”»ç•¥ï¼‰ - å®Œå…¨å¹³æ–¹æ•°](https://leetcode.cn/problems/perfect-squares/solution/gong-shui-san-xie-xiang-jie-wan-quan-bei-nqes/)

1. ç¡®å®šdpæ•°ç»„ï¼ˆdp tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰ï¼š**dp[j]ï¼šå’Œä¸ºjçš„å®Œå…¨å¹³æ–¹æ•°çš„æœ€å°‘æ•°é‡ä¸ºdp[j]**
2. ç¡®å®šé€’æ¨å…¬å¼

dp[j] å¯ä»¥ç”±dp[j - i * i]æ¨å‡ºï¼Œ dp[j - i * i] + 1 ä¾¿å¯ä»¥å‡‘æˆdp[j]ã€‚æ­¤æ—¶æˆ‘ä»¬è¦é€‰æ‹©æœ€å°çš„dp[j]ï¼Œ

æ‰€ä»¥é€’æ¨å…¬å¼ï¼šdp[j] = min(dp[j - i * i] + 1, dp[j]);

1. dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–

dp[0]è¡¨ç¤º å’Œä¸º0çš„å®Œå…¨å¹³æ–¹æ•°çš„æœ€å°æ•°é‡ï¼Œé‚£ä¹ˆdp[0]ä¸€å®šæ˜¯0ã€‚

é0ä¸‹æ ‡çš„dp[j]åº”è¯¥æ˜¯å¤šå°‘å‘¢ï¼Ÿä»é€’å½’å…¬å¼dp[j] = min(dp[j - i * i] + 1, dp[j]);ä¸­å¯ä»¥çœ‹å‡ºæ¯æ¬¡dp[j]éƒ½è¦é€‰æœ€å°çš„ï¼Œ**æ‰€ä»¥é0ä¸‹æ ‡çš„dp[j]ä¸€å®šè¦åˆå§‹ä¸ºæœ€å¤§å€¼ï¼Œè¿™æ ·dp[j]åœ¨é€’æ¨çš„æ—¶å€™æ‰ä¸ä¼šè¢«åˆå§‹å€¼è¦†ç›–**ã€‚

1. ç¡®å®šéå†é¡ºåº

**æ±‚ç»„åˆæ•°ï¼Œå°±æ˜¯å¤–å±‚foréå†ç‰©å“ï¼Œå†…å±‚foréå†èƒŒåŒ…ã€‚ï¼ˆæ— åºï¼šæœ€å°‘æœ‰å¤šå°‘ä¸ªï¼‰**

**æ±‚æ’åˆ—æ•°ï¼Œå°±æ˜¯å¤–å±‚foréå†èƒŒåŒ…ï¼Œå†…å±‚foréå†ç‰©å“ã€‚ï¼ˆæœ‰åºï¼šæœ€å¤šå¤šå°‘ç§æ–¹æ¡ˆï¼‰**

- > æœ¬é¢˜å¤–forèƒŒåŒ…å†…forç‰©å“ï¼Œè¿˜æ˜¯å¤–forç‰©å“å†…forèƒŒåŒ…ï¼Œéƒ½æ˜¯å¯ä»¥çš„ï¼

- > å…¶å®æœ¬é¢˜å¦‚æœæ˜¯å…ˆforèƒŒåŒ…ä¼šæ›´å¥½ç†è§£ï¼Ÿ

```C++
class Solution {
public:
    int numSquares(int n) {
        // dp[j]ï¼šå‡‘å‡ºå’Œä¸ºjçš„æœ€å°‘ä¸ªæ•°
        vector<int> dp(n + 1, INT_MAX);
        dp[0] = 0;
        for (int i = 1; i * i <= n; i++) {
            int t = i * i;
            for (int j = t; j <= n; j++) {
                dp[j] = min(dp[j], dp[j - t] + 1);
            }
        }
        return dp[n];
    }
};
```



#### [139. å•è¯æ‹†åˆ†](https://leetcode.cn/problems/word-break/)ï¼šå®Œå…¨èƒŒåŒ… æ‹¼å‡ºå­—ç¬¦ä¸²æ˜¯èƒŒåŒ…

**å¦‚æœç›´æ¥ä½¿ç”¨dfs**ï¼Œä¼šè¶…å‡ºæ—¶é—´é™åˆ¶ã€‚ä¸è¿‡ä¹Ÿæ˜¯ä¸€ä¸ªæ€è·¯ï¼Œå¤§éƒ¨åˆ†éƒ½å¯ä»¥è¿‡ï¼Ÿè¿™ä¸ªæ–¹æ³•éœ€è¦å‰ªæä¼˜åŒ–ã€‚

```C++
class Solution {
public:
    bool dfs(string s, vector<string>& wordDict, int idx) {
        // å¦‚æœèƒ½ä¸€è·¯èµ°åˆ°å¶èŠ‚ç‚¹ï¼Œè¯´æ˜æ‰¾åˆ°è¿™æ ·çš„æ‹†åˆ†æ–¹æ³•äº†
        if (idx == s.size()) return true;
        // å¦åˆ™ä»idxå¼€å§‹æ‹†åˆ†s
        for (auto word : wordDict) {
            int n = word.size();
            if (s.substr(idx, n) == word) {
                // ä¸èƒ½ç›´æ¥ return dfs(s, wordDict, idx + n);
                if (dfs(s, wordDict, idx + n)) return true;
                else continue;
            }
        }
        return false;
    }
    bool wordBreak(string s, vector<string>& wordDict) {
        return dfs(s, wordDict, 0);
    }
};
```

**å®Œå…¨èƒŒåŒ…ï¼Ÿ**

å•è¯å°±æ˜¯ç‰©å“ï¼Œå­—ç¬¦ä¸²så°±æ˜¯èƒŒåŒ…ï¼Œå•è¯èƒ½å¦ç»„æˆå­—ç¬¦ä¸²sï¼Œå°±æ˜¯é—®ç‰©å“èƒ½ä¸èƒ½æŠŠèƒŒåŒ…è£…æ»¡ã€‚

æ‹†åˆ†æ—¶å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ï¼Œè¯´æ˜å°±æ˜¯ä¸€ä¸ªå®Œå…¨èƒŒåŒ…ï¼

1. ç¡®å®šdpæ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰

**dp[i] : å­—ç¬¦ä¸²é•¿åº¦ä¸ºiçš„è¯ï¼Œdp[i]ä¸ºtrueï¼Œè¡¨ç¤ºå¯ä»¥æ‹†åˆ†ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªåœ¨å­—å…¸ä¸­å‡ºç°çš„å•è¯**ã€‚

1. ç¡®å®šé€’æ¨å…¬å¼ï¼šå¦‚æœç¡®å®šdp[j] æ˜¯trueï¼Œä¸” [j, i] è¿™ä¸ªåŒºé—´çš„å­ä¸²å‡ºç°åœ¨å­—å…¸é‡Œï¼Œé‚£ä¹ˆdp[i]ä¸€å®šæ˜¯true
2. dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–
3. ç¡®å®šéå†é¡ºåº

æœ¬é¢˜æœ€ç»ˆè¦æ±‚çš„æ˜¯æ˜¯å¦éƒ½å‡ºç°è¿‡ï¼Œæ‰€ä»¥å¯¹å‡ºç°å•è¯é›†åˆé‡Œçš„å…ƒç´ æ˜¯ç»„åˆè¿˜æ˜¯æ’åˆ—ï¼Œå¹¶ä¸åœ¨æ„ï¼

é‚£ä¹ˆæœ¬é¢˜ä½¿ç”¨æ±‚æ’åˆ—çš„æ–¹å¼ï¼Œè¿˜æ˜¯æ±‚ç»„åˆçš„æ–¹å¼éƒ½å¯ä»¥ã€‚

ä½†æœ¬é¢˜è¿˜æœ‰ç‰¹æ®Šæ€§ï¼Œå› ä¸ºæ˜¯è¦æ±‚å­ä¸²ï¼Œæœ€å¥½æ˜¯éå†èƒŒåŒ…æ”¾åœ¨å¤–å¾ªç¯ï¼Œå°†éå†ç‰©å“æ”¾åœ¨å†…å¾ªç¯ã€‚

å¦‚æœè¦æ˜¯å¤–å±‚forç‰©å“dictå†…å±‚forèƒŒåŒ…sï¼Œå°±éœ€è¦æŠŠæ‰€æœ‰çš„å­ä¸²éƒ½é¢„å…ˆæ”¾åœ¨ä¸€ä¸ªå®¹å™¨é‡Œã€‚

æ‰€ä»¥é€‰æ‹©çš„éå†é¡ºåºä¸ºï¼šéå†èƒŒåŒ…æ”¾åœ¨å¤–å¾ªç¯ï¼Œå°†éå†ç‰©å“æ”¾åœ¨å†…å¾ªç¯ï¼Œå†…å¾ªç¯ä»å‰åˆ°åã€‚

```C++
class Solution {
public:
    bool wordBreak(string s, vector<string>& wordDict) {
        unordered_set<string> words(wordDict.begin(), wordDict.end());
        int n = s.size();
        // dp[i]ï¼šèƒŒåŒ…så‰iå¯ä»¥ç”±è¯å…¸ä¸­å•è¯ç»„æˆåˆ™ä¸ºtrue
        vector<bool> dp(n + 1, false);
        dp[0] = true;
        for (int i = 1; i <= n; i++) {
            for (int j = 0; j < i; j++) {
                string word = s.substr(j, i - j);
                if (words.find(word) != words.end() && dp[j]) {
                    dp[i] = true;
                }
            }
        }
        return dp[n];
    }
};
```



#### [198. æ‰“å®¶åŠ«èˆ](https://leetcode.cn/problems/house-robber/)ï¼šç»å…¸dp æ€æ ·éš”ç€å’Œæœ€å¤§

1. ç¡®å®šdpæ•°ç»„ï¼ˆdp tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰

**dp[i]ï¼šè€ƒè™‘ä¸‹æ ‡iï¼ˆåŒ…æ‹¬iï¼‰ä»¥å†…çš„æˆ¿å±‹ï¼Œæœ€å¤šå¯ä»¥å·çªƒçš„é‡‘é¢ä¸ºdp[i]**ã€‚

1. ç¡®å®šé€’æ¨å…¬å¼ï¼šå†³å®šdp[i]çš„å› ç´ å°±æ˜¯ç¬¬iæˆ¿é—´å·è¿˜æ˜¯ä¸å·ã€‚

- å¦‚æœå·ç¬¬iæˆ¿é—´ï¼Œé‚£ä¹ˆdp[i] = dp[i - 2] + nums[i]ï¼ˆç¬¬i-1æˆ¿ä¸èƒ½é€‰ä¸Šï¼‰
- å¦‚æœä¸å·ç¬¬iæˆ¿é—´ï¼Œé‚£ä¹ˆdp[i] = dp[i - 1]ï¼Œå³è€ƒè™‘i-1æˆ¿

ç„¶ådp[i]å–æœ€å¤§å€¼ï¼Œå³dp[i] = max(dp[i - 2] + nums[i], dp[i - 1]);

1. dpæ•°ç»„å¦‚ä½•**åˆå§‹åŒ–**

ä»é€’æ¨å…¬å¼çœ‹å‡ºï¼Œ**é€’æ¨å…¬å¼çš„åŸºç¡€å°±æ˜¯dp[0] å’Œ dp[1]**

ä»dp[i]çš„å®šä¹‰ä¸Šæ¥è®²ï¼Œdp[0] ä¸€å®šæ˜¯ nums[0]ï¼Œdp[1]å°±æ˜¯nums[0]å’Œnums[1]çš„æœ€å¤§å€¼å³ï¼šdp[1] = max(nums[0], nums[1]);

```C++
vector<int> dp(nums.size());
dp[0] = nums[0];
dp[1] = max(nums[0], nums[1]);
```

1. ç¡®å®šéå†é¡ºåº

dp[i] æ˜¯æ ¹æ®dp[i - 2] å’Œ dp[i - 1] æ¨å¯¼å‡ºæ¥çš„ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯ä»å‰åˆ°åéå†ï¼

```C++
for (int i = 2; i < nums.size(); i++) {
    dp[i] = max(dp[i - 2] + nums[i], dp[i - 1]);
}
```

ä¸€ç»´dpçš„ä»£ç ï¼š

```C++
class Solution {
public:
    int rob(vector<int>& nums) {
        int n = nums.size();
        if (n == 1) return nums[0];
        // dp[i]ï¼šåˆ°ié—´æˆ¿å±‹ï¼Œç‰©å“ç´¯è®¡æœ€å¤§ä»·å€¼
        // dp[i] = max(dp[i-2]+nums[i], dp[i-1])
        vector<int> dp(n);
        dp[0] = nums[0], dp[1] = max(nums[0], nums[1]);
        for (int i = 2; i < n; i++) {
            dp[i] = max(dp[i-2]+nums[i], dp[i-1]);
        }
        return dp[n - 1];
    }
};
```



#### [213. æ‰“å®¶åŠ«èˆ II](https://leetcode.cn/problems/house-robber-ii/)ï¼šç‰©å“æˆç¯äº†

**ã€ä¸‰å¶ã®é¢˜è§£ã€‘*****f*****[*****i*****][*****j*****] ä»£è¡¨è€ƒè™‘å‰** ***i*** **ä¸ªæˆ¿é—´ï¼Œå½“å‰** ***i*** **æˆ¿é—´çš„ç°åœ¨çŠ¶æ€ä¸º** ***j*** **çš„æœ€å¤§ä»·å€¼ã€‚**

æ¯”èµ·ä¸Šä¸€é¢˜ï¼Œæœ¬é¢˜å¢åŠ äº†**ç¬¬ä¸€ä¸ªç‰©å“å’Œæœ€åä¸€ä¸ªç‰©å“ä¸èƒ½åŒæ—¶é€‰æ‹©**çš„æ¡ä»¶

**é€šå¸¸ï¼Œå¯¹äºä¸€äº›æ˜æ˜¾ä¸æ˜¯ã€Œå¢åŠ ç»´åº¦ã€çš„æ–°é™åˆ¶æ¡ä»¶ï¼Œæˆ‘ä»¬åº”å½“è€ƒè™‘ç›´æ¥å°†å…¶æ‹å‡ºè®¨è®ºï¼Œè€Œä¸æ˜¯å¤šå¢åŠ ä¸€ç»´è¿›è¡ŒçŠ¶æ€è®°å½•ã€‚**

æˆ‘ä»¬å¯ä»¥æŠŠã€Œç¬¬ä¸€é—´ã€&ã€Œæœ€åä¸€é—´ã€å•ç‹¬æ‹å‡ºæ¥è®¨è®ºï¼š

- æ˜ç¡®ã€Œä¸é€‰ã€ç¬¬ä¸€é—´ï¼š
  - åˆå§‹åŒ–f[0][0]å’Œf[0][1]ï¼Œå‡ä¸º0ã€‚
  - å…ˆä»ã€Œç¬¬äºŒé—´ã€å¼€å§‹é€’æ¨åˆ°ã€Œå€’æ•°ç¬¬äºŒé—´ã€çš„æœ€å¤§ä»·å€¼ã€‚
  - å†å¤„ç†ã€Œæœ€åä¸€é—´ã€çš„æƒ…å†µï¼šç”±äºæ˜ç¡®äº†ã€Œä¸é€‰ç¬¬ä¸€é—´ã€ï¼Œåˆ™æœ€åçš„æœ€å¤§ä»·å€¼ä¸ºmax(f[nâˆ’2][1],f[nâˆ’2][0]+nums[nâˆ’1])ã€‚
- å…è®¸ã€Œé€‰ã€ç¬¬ä¸€é—´ï¼š
  - åˆå§‹åŒ–f[0][0]å’Œf[0][1]ï¼Œåˆ†åˆ«ä¸º0å’Œnums[0]ã€‚
  - å…ˆä»ã€Œç¬¬äºŒé—´ã€å¼€å§‹é€’æ¨åˆ°ã€Œå€’æ•°ç¬¬äºŒé—´ã€çš„æœ€å¤§ä»·å€¼ã€‚
  - å†å¤„ç†ã€Œæœ€åä¸€é—´ã€çš„æƒ…å†µï¼šç”±äºæ˜ç¡®äº†ã€Œé€‰ç¬¬ä¸€é—´ã€ï¼Œåˆ™æœ€åçš„æœ€å¤§ä»·å€¼ä¸ºmax(f[nâˆ’2][0],f[nâˆ’2][1])ã€‚

èµ°å®Œä¸¤é DP åï¼Œå†ä»ä¸¤ç§æƒ…å†µçš„æœ€å¤§ä»·å€¼ä¸­å†å–ä¸€ä¸ªmaxå³æ˜¯ç­”æ¡ˆã€‚

- > å…¶å®æ˜¯åˆ†æˆä¸‰ç±»æƒ…å†µï¼šé€‰é¦–ä¸é€‰å°¾ï¼Œä¸é€‰é¦–é€‰å°¾ï¼Œé¦–å°¾éƒ½ä¸é€‰ï¼›

- > ä¸Šè¿°æ€è·¯å…¶å®æŠŠè¿™ä¸‰ç±»æƒ…å†µéƒ½åŒ…å«äº†ï¼

```C++
class Solution {
public:
    int rob(vector<int>& nums) {
        int n = nums.size();
        if (n == 1) return nums[0];
        if (n == 2) return max(nums[0], nums[1]);
        
        vector<int> dp(n, 0);       
        // æ˜ç¡®ä¸é€‰ç¬¬ä¸€é—´
        dp[0] = 0, dp[1] = nums[1], dp[2] = max(nums[1], nums[2]);
        for (int i = 3; i < n; i++) {
            dp[i] = max(dp[i-2]+nums[i], dp[i-1]);
        }
        int a = dp[n - 1];
        // æ˜ç¡®é€‰ç¬¬ä¸€é—´
        dp[0] = nums[0], dp[1] = max(nums[0], nums[1]);
        for (int i = 2; i < n - 1; i++) {
            dp[i] = max(dp[i-2]+nums[i], dp[i-1]);
        }
        int b = dp[n - 2];
        return max(a, b);
    }
};
```



#### [337. æ‰“å®¶åŠ«èˆ III](https://leetcode.cn/problems/house-robber-iii/)ï¼šè®°å¿†åŒ–æœç´¢ or æ ‘å½¢èƒŒåŒ…ï¼Ÿ

æœ¬é¢˜å˜æˆäºŒå‰æ ‘å½¢å¼è¿›è¡Œéå†

å¦‚æœæš´åŠ›æœç´¢ï¼Œä¼šè¶…æ—¶ï¼š

```C++
class Solution {
public:
    int rob(TreeNode* root) {
        if (root == NULL) return 0;
        if (root->left == NULL && root->right == NULL) return root->val;
        // å·çˆ¶èŠ‚ç‚¹
        int val1 = root->val;
        if (root->left) val1 += rob(root->left->left) + rob(root->left->right); // è·³è¿‡root->leftï¼Œç›¸å½“äºä¸è€ƒè™‘å·¦å­©å­äº†
        if (root->right) val1 += rob(root->right->left) + rob(root->right->right); // è·³è¿‡root->rightï¼Œç›¸å½“äºä¸è€ƒè™‘å³å­©å­äº†
        // ä¸å·çˆ¶èŠ‚ç‚¹
        int val2 = rob(root->left) + rob(root->right); // è€ƒè™‘rootçš„å·¦å³å­©å­
        return max(val1, val2);
    }
};
```

æ‰€è°“**è®°å¿†åŒ–æœç´¢**ï¼Œå°±æ˜¯ç”¨mapæŠŠåˆšåˆšæœç´¢è¿‡çš„å†…å®¹è®°å½•ä¸‹æ¥

```C++
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    unordered_map<TreeNode*, int> umap;     // è®°å½•å·²ç»è®¡ç®—å‡ºçš„ç»“æœ
    int dfs(TreeNode* root) {
        if (root == NULL) return 0;
        if (root->left == NULL && root->right == NULL) return root->val;
        if (umap[root] != 0) return umap[root];

        // å¦‚æœæ·»åŠ çˆ¶èŠ‚ç‚¹ï¼Œåˆ™è·³è¿‡ä¸¤ä¸ªå­èŠ‚ç‚¹
        int a = root->val;
        if (root->left != NULL) {
            a += dfs(root->left->left) + dfs(root->left->right);
        }
        if (root->right != NULL) {
            a += dfs(root->right->left) + dfs(root->right->right);
        }
        // å¦‚æœè·³è¿‡çˆ¶èŠ‚ç‚¹ï¼Œç›´æ¥æ·»åŠ ä¸¤ä¸ªå­èŠ‚ç‚¹
        int b = dfs(root->left) + dfs(root->right);
        
        umap[root] = max(a, b);
        return max(a, b);
    }
    int rob(TreeNode* root) {
        return dfs(root);
    }
};
```



#### [121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/)ï¼šéå† or åŠ¨è§„

> æœ¬é¢˜æ„å›¾ï¼šä¸€æ¬¡ä¹°å–ï¼Œè·å¾—æœ€å¤§åˆ©æ¶¦æ˜¯å¤šå°‘

**æ³•1ï¼šç›´æ¥ä¸€æ¬¡éå†**

```C++
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int minprice = INT_MAX;
        int ans = 0;
        for (auto p : prices) {
            ans = max(ans, p - minprice);
            minprice = min(minprice, p);
        }
        return ans;
    }
};
```

**æ³•2ï¼šåŠ¨æ€è§„åˆ’**

ä¸€ç»´åŠ¨æ€è§„åˆ’æ€æƒ³ã€‚dp[i]è¡¨ç¤ºå‰iå¤©çš„æœ€å¤§åˆ©æ¶¦

å› ä¸ºæˆ‘ä»¬å§‹ç»ˆè¦ä½¿åˆ©æ¶¦æœ€å¤§åŒ–ï¼Œåˆ™ï¼šdp[i] = max(dp[i-1], prices[i]-minprice)



å¦ä¸€ç§ï¼ˆä¸ºäº†æå‰é€‚åº”åç»­ä¹°å–è‚¡ç¥¨é—®é¢˜çš„æ€è·¯ï¼‰ï¼š

1. ç¡®å®šdpæ•°ç»„ï¼ˆdp tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰

dp[i][0] è¡¨ç¤ºç¬¬iå¤©æŒæœ‰è‚¡ç¥¨æ‰€å¾—æœ€å¤šç°é‡‘ ï¼Œ**è¿™é‡Œå¯èƒ½æœ‰åŒå­¦ç–‘æƒ‘ï¼Œæœ¬é¢˜ä¸­åªèƒ½ä¹°å–ä¸€æ¬¡ï¼ŒæŒæœ‰è‚¡ç¥¨ä¹‹åå“ªè¿˜æœ‰ç°é‡‘å‘¢ï¼Ÿ**å…¶å®ä¸€å¼€å§‹ç°é‡‘æ˜¯0ï¼Œé‚£ä¹ˆåŠ å…¥ç¬¬iå¤©ä¹°å…¥è‚¡ç¥¨ç°é‡‘å°±æ˜¯ -prices[i]ï¼Œ è¿™æ˜¯ä¸€ä¸ªè´Ÿæ•°ã€‚

dp[i][1] è¡¨ç¤ºç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨æ‰€å¾—æœ€å¤šç°é‡‘

**æ³¨æ„è¿™é‡Œè¯´çš„æ˜¯â€œæŒæœ‰â€ï¼Œâ€œæŒæœ‰â€ä¸ä»£è¡¨å°±æ˜¯å½“å¤©â€œä¹°å…¥â€ï¼ä¹Ÿæœ‰å¯èƒ½æ˜¯æ˜¨å¤©å°±ä¹°å…¥äº†ï¼Œä»Šå¤©ä¿æŒæŒæœ‰çš„çŠ¶æ€**

1. ç¡®å®šé€’æ¨å…¬å¼ï¼š

å¦‚æœç¬¬iå¤©æŒæœ‰è‚¡ç¥¨å³dp[i][0]ï¼Œ é‚£ä¹ˆå¯ä»¥ç”±ä¸¤ä¸ªçŠ¶æ€æ¨å‡ºæ¥ï¼š

- ç¬¬i-1å¤©å°±æŒæœ‰è‚¡ç¥¨ï¼Œé‚£ä¹ˆå°±ä¿æŒç°çŠ¶ï¼Œæ‰€å¾—ç°é‡‘å°±æ˜¯æ˜¨å¤©æŒæœ‰è‚¡ç¥¨çš„æ‰€å¾—ç°é‡‘ å³ï¼šdp[i - 1][0]
- ç¬¬iå¤©ä¹°å…¥è‚¡ç¥¨ï¼Œæ‰€å¾—ç°é‡‘å°±æ˜¯ä¹°å…¥ä»Šå¤©çš„è‚¡ç¥¨åæ‰€å¾—ç°é‡‘å³ï¼š-prices[i]

é‚£ä¹ˆdp[i][0]åº”è¯¥é€‰æ‰€å¾—ç°é‡‘æœ€å¤§çš„ï¼Œæ‰€ä»¥dp[i][0] = max(dp[i - 1][0], -prices[i]);

å¦‚æœç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨å³dp[i][1]ï¼Œ ä¹Ÿå¯ä»¥ç”±ä¸¤ä¸ªçŠ¶æ€æ¨å‡ºæ¥ï¼š

- ç¬¬i-1å¤©å°±ä¸æŒæœ‰è‚¡ç¥¨ï¼Œé‚£ä¹ˆå°±ä¿æŒç°çŠ¶ï¼Œæ‰€å¾—ç°é‡‘å°±æ˜¯æ˜¨å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æ‰€å¾—ç°é‡‘ å³ï¼šdp[i - 1][1]
- ç¬¬iå¤©å–å‡ºè‚¡ç¥¨ï¼Œæ‰€å¾—ç°é‡‘å°±æ˜¯æŒ‰ç…§ä»Šå¤©è‚¡ç¥¨ä½³ä»·æ ¼å–å‡ºåæ‰€å¾—ç°é‡‘å³ï¼šprices[i] + dp[i - 1][0]

åŒæ ·dp[i][1]å–æœ€å¤§çš„ï¼Œdp[i][1] = max(dp[i - 1][1], prices[i] + dp[i - 1][0]);

1. dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–ï¼šç”±é€’æ¨å…¬å¼å¯ä»¥çœ‹å‡ºå…¶åŸºç¡€éƒ½æ˜¯è¦ä»dp[0][0]å’Œdp[0][1]æ¨å¯¼å‡ºæ¥ã€‚
2. ç¡®å®šéå†é¡ºåºï¼šä»é€’æ¨å…¬å¼å¯ä»¥çœ‹å‡ºdp[i]éƒ½æ˜¯æœ‰dp[i - 1]æ¨å¯¼å‡ºæ¥çš„ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯ä»å‰å‘åéå†ã€‚

> è¾“å‡ºçš„ç»“æœåº”è¯¥æ˜¯æœ€åä¸€å¤©ä¸æŒæœ‰è‚¡ç¥¨æ‰‹ä¸­çš„ç°é‡‘

```C++
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int len = prices.size();
        if (len == 0) return 0;
        vector<vector<int>> dp(len, vector<int>(2));
        dp[0][0] -= prices[0];
        dp[0][1] = 0;
        for (int i = 1; i < len; i++) {
            dp[i][0] = max(dp[i - 1][0], -prices[i]);
            dp[i][1] = max(dp[i - 1][1], prices[i] + dp[i - 1][0]);
        }
        return dp[len - 1][1];
    }
};
```



#### [122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/)ï¼šåŠ¨è§„ or è´ªå¿ƒ

> æœ¬é¢˜æ„å›¾ï¼šå¤šæ¬¡ä¹°å–ï¼Œäº‰å–è·å¾—æœ€å¤§åˆ©æ¶¦

> å¦å¤–ï¼Œæœ¬é¢˜è¦æ±‚åªæŒæœ‰ä¸€è‚¡ï¼Œä»Šå¤©è¦ä¹°å¿…é¡»å…ˆå–äº†æ˜¨å¤©çš„

**æ³•1ï¼šæœ¬é¢˜çš„ç‰¹æ®Šåšæ³•æ˜¯è´ªå¿ƒ**

```C++
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int n = prices.size();
        int ans = 0;
        for (int i = 1; i < n; i++) {
            int profit = prices[i] - prices[i-1];
            if (profit > 0) ans += profit;
        }
        return ans;
    }
};
```

**æ³•2ï¼šåŠ¨è§„**

è¿™é‡Œé‡ç”³ä¸€ä¸‹dpæ•°ç»„çš„å«ä¹‰ï¼š

- dp[i][0] è¡¨ç¤ºç¬¬iå¤©æŒæœ‰è‚¡ç¥¨æ‰€å¾—ç°é‡‘ã€‚
- dp[i][1] è¡¨ç¤ºç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨æ‰€å¾—æœ€å¤šç°é‡‘

é€’æ¨å…¬å¼å’Œä¸Šä¸€é¢˜ä¸å¤ªç›¸åŒï¼Œå…¶ä»–ä¸€è‡´

```C++
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int n = prices.size();
        // dp[i][0]ï¼šä»Šæ—¥ä¹°ï¼Œæˆªè‡³ä»Šæ—¥ç´¯è®¡åˆ©æ¶¦ï¼›dp[i][1]ï¼šä»Šæ—¥ä¸ä¹°ï¼Œæˆªè‡³ä»Šæ—¥ç´¯è®¡åˆ©æ¶¦
        vector<vector<int>> dp(n, vector<int>(2));
        dp[0][0] = -prices[0], dp[0][1] = 0;
        for (int i = 1; i < n; i++) {
            dp[i][0] = max(dp[i-1][0], dp[i-1][1] - prices[i]);
            dp[i][1] = max(dp[i-1][1], dp[i-1][0] + prices[i]);
        }
        return dp[n-1][1];
    }
};
```



#### [123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iii/)ï¼šåªå¥½åŠ¨è§„äº†

> æœ¬é¢˜æ˜¯æ€»å…±å…è®¸ä¸¤æ¬¡ä¹°å–ï¼Œæ¯ä¸ªç‰©å“çš„çŠ¶æ€æ•°å˜å¤šäº†

> è§„åˆ™ï¼š æ³¨æ„ä½ ä¸èƒ½åœ¨ç¬¬ 1 å¤©å’Œç¬¬ 2 å¤©æ¥è¿è´­ä¹°è‚¡ç¥¨ï¼Œä¹‹åå†å°†å®ƒä»¬å–å‡ºã€‚å› ä¸ºè¿™æ ·å±äºåŒæ—¶å‚ä¸äº†å¤šç¬”äº¤æ˜“ï¼Œä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ã€‚

1. ç¡®å®šdpæ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰

ä¸€å¤©å…±æœ‰5ä¸ªçŠ¶æ€ï¼Œ0æ²¡æœ‰æ“ä½œã€1ç¬¬ä¸€æ¬¡ä¹°å…¥ã€2ç¬¬ä¸€æ¬¡å–å‡ºã€3ç¬¬äºŒæ¬¡ä¹°å…¥ã€4ç¬¬äºŒæ¬¡å–å‡º

dp[i][j]ä¸­ï¼Œiè¡¨ç¤ºç¬¬iå¤©ï¼Œjä¸º [0 - 4] äº”ä¸ªçŠ¶æ€ï¼Œdp[i][j]è¡¨ç¤ºåœ¨çŠ¶æ€jä¸‹ï¼Œæˆªè‡³ç¬¬iå¤©æ‰€å‰©åˆ©æ¶¦ã€‚

1. ç¡®å®šé€’æ¨å…¬å¼

è¾¾åˆ°dp[i][1]çŠ¶æ€ï¼Œæœ‰ä¸¤ä¸ªå…·ä½“æ“ä½œï¼š

- æ“ä½œä¸€ï¼šç¬¬iå¤©ä¹°å…¥è‚¡ç¥¨äº†ï¼Œé‚£ä¹ˆdp[i][1] = dp[i-1][0] - prices[i]
- æ“ä½œäºŒï¼šç¬¬iå¤©æ²¡æœ‰æ“ä½œï¼Œè€Œæ˜¯æ²¿ç”¨å‰ä¸€å¤©ä¹°å…¥çš„çŠ¶æ€ï¼Œå³ï¼šdp[i][1] = dp[i - 1][1]

é‚£ä¹ˆdp[i][1]ç©¶ç«Ÿé€‰ dp[i-1][0] - prices[i]ï¼Œè¿˜æ˜¯dp[i - 1][1]å‘¢ï¼Ÿä¸€å®šæ˜¯é€‰æœ€å¤§çš„ï¼Œ

æ‰€ä»¥ `dp[i][1] = max(dp[i-1][0] - prices[i], dp[i - 1][1]);`

åŒç†dp[i][2]ä¹Ÿæœ‰ä¸¤ä¸ªæ“ä½œï¼š

- æ“ä½œä¸€ï¼šç¬¬iå¤©å–å‡ºè‚¡ç¥¨äº†ï¼Œé‚£ä¹ˆdp[i][2] = dp[i - 1][1] + prices[i]
- æ“ä½œäºŒï¼šç¬¬iå¤©æ²¡æœ‰æ“ä½œï¼Œæ²¿ç”¨å‰ä¸€å¤©å–å‡ºè‚¡ç¥¨çš„çŠ¶æ€ï¼Œå³ï¼šdp[i][2] = dp[i - 1][2]

æ‰€ä»¥ `dp[i][2] = max(dp[i - 1][1] + prices[i], dp[i - 1][2])`

åŒç†å¯æ¨å‡ºå‰©ä¸‹çŠ¶æ€éƒ¨åˆ†ï¼š

```
dp[i][3] = max(dp[i - 1][3], dp[i - 1][2] - prices[i]);
dp[i][4] = max(dp[i - 1][4], dp[i - 1][3] + prices[i]);
```

1. dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–
2. ç¡®å®šéå†é¡ºåºï¼šä¸€å®šæ˜¯ä»å‰å‘åéå†ï¼Œå› ä¸ºdp[i]ï¼Œä¾é dp[i - 1]çš„æ•°å€¼ã€‚

```C++
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int n = prices.size();
        // dp[i][j]ï¼šè¡¨ç¤ºåœ¨çŠ¶æ€jä¸‹ï¼Œæˆªè‡³ç¬¬iå¤©æ‰€å‰©åˆ©æ¶¦
        // jæ˜¯ä¸æ–­ç»§æ‰¿çš„çŠ¶æ€ï¼š0æ²¡æœ‰æ“ä½œã€1ç¬¬ä¸€æ¬¡ä¹°å…¥ã€2ç¬¬ä¸€æ¬¡å–å‡ºã€3ç¬¬äºŒæ¬¡ä¹°å…¥ã€4ç¬¬äºŒæ¬¡å–å‡º
        vector<vector<int>> dp(n, vector<int>(5, 0));
        dp[0][1] = -prices[0], dp[0][3] = -prices[0];
        for (int i = 1; i < n; i++) {
            dp[i][0] = dp[i-1][0];
            dp[i][1] = max(dp[i-1][1], dp[i-1][0] - prices[i]);
            dp[i][2] = max(dp[i-1][2], dp[i-1][1] + prices[i]);
            dp[i][3] = max(dp[i-1][3], dp[i-1][2] - prices[i]);
            dp[i][4] = max(dp[i-1][4], dp[i-1][3] + prices[i]);
        }
        return dp[n-1][4];
    }
};
```





















#### [646. æœ€é•¿æ•°å¯¹é“¾](https://leetcode.cn/problems/maximum-length-of-pair-chain/)ï¼šåŠ¨æ€è§„åˆ’ or è´ªå¿ƒdp

**æ³•1ï¼šç›´æ¥åŠ¨æ€è§„åˆ’**

å®šä¹‰ï¼š**dp[i] ä¸ºä»¥ pairs[i] ä¸ºç»“å°¾çš„æœ€é•¿æ•°å¯¹é“¾çš„é•¿åº¦**ã€‚

è®¡ç®— dp[i] æ—¶ï¼Œå¯ä»¥å…ˆæ‰¾å‡ºæ‰€æœ‰çš„æ»¡è¶³`pairs[i][0]>pairs[j][1]`çš„ jï¼Œå¹¶æ±‚å‡ºæœ€å¤§çš„ dp[j]ï¼Œdp[i] çš„å€¼å³å¯èµ‹ä¸ºè¿™ä¸ªæœ€å¤§å€¼+1

```C++
class Solution {
public:
    int findLongestChain(vector<vector<int>>& pairs) {
        int n = pairs.size();
        sort(pairs.begin(), pairs.end());
        vector<int> dp(n, 1);
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < i; j++) {
                if (pairs[j][1] < pairs[i][0]) {
                    dp[i] = max(dp[i], dp[j] + 1);
                }
            }
        }
        return dp[n - 1];
    }
};
```

**æ³•2ï¼šè´ªå¿ƒ**

**è¦æŒ‘é€‰æœ€é•¿æ•°å¯¹é“¾çš„ç¬¬ä¸€ä¸ªæ•°å¯¹æ—¶ï¼Œæœ€ä¼˜çš„é€‰æ‹©æ˜¯****æŒ‘é€‰ç¬¬äºŒä¸ªæ•°å­—æœ€å°çš„**ï¼Œè¿™æ ·èƒ½ç»™æŒ‘é€‰åç»­çš„æ•°å¯¹ç•™ä¸‹æ›´å¤šçš„ç©ºé—´ã€‚æŒ‘å®Œç¬¬ä¸€ä¸ªæ•°å¯¹åï¼Œè¦æŒ‘ç¬¬äºŒä¸ªæ•°å¯¹æ—¶ï¼Œä¹Ÿæ˜¯æŒ‰ç…§ç›¸åŒçš„æ€è·¯ï¼Œæ˜¯åœ¨å‰©ä¸‹çš„æ•°å¯¹ä¸­ï¼Œç¬¬ä¸€ä¸ªæ•°å­—æ»¡è¶³é¢˜æ„çš„æ¡ä»¶ä¸‹ï¼ŒæŒ‘é€‰ç¬¬äºŒä¸ªæ•°å­—æœ€å°çš„ã€‚

æŒ‰ç…§è¿™æ ·çš„æ€è·¯ï¼Œ**å¯ä»¥å…ˆå°†è¾“å…¥æŒ‰ç…§ç¬¬äºŒä¸ªæ•°å­—æ’åº**ï¼Œç„¶åä¸åœåœ°åˆ¤æ–­ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯å¦èƒ½æ»¡è¶³å¤§äºå‰ä¸€ä¸ªæ•°å¯¹çš„ç¬¬äºŒä¸ªæ•°å­—å³å¯ã€‚

```C++
class Solution {
public:
    static bool cmp(vector<int> a, vector<int> b) {
        return a[1] < b[1];     // æŒ‰ç…§ç¬¬äºŒä¸ªæ•°å‡åºæ’åˆ—
    }
    int findLongestChain(vector<vector<int>>& pairs) {
        int last = INT_MIN;
        int ans = 0;
        sort(pairs.begin(), pairs.end(), cmp);
        for (auto &p : pairs) {
            if (last < p[0]) {
                last = p[1];
                ans++;
            }
        }
        return ans;
    }
};
```











## [(1)è®°å¿†åŒ–æœç´¢](https://github.com/SharingSource/LogicStack-LeetCode/wiki/è®°å¿†åŒ–æœç´¢)

## [(2)çº¿æ€§ DP](https://github.com/SharingSource/LogicStack-LeetCode/wiki/çº¿æ€§-DP)

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹

#### [467. ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²](https://leetcode.cn/problems/unique-substrings-in-wraparound-string/)ï¼šDP or å‰ç¼€å’Œ

- æ— é™ç¯ç»•å­—ç¬¦ä¸²sä»»æ„ä¸¤ä¸ªç›¸é‚»å­—ç¬¦éƒ½æ»¡è¶³å­—å…¸åºä¸Šçš„ç›¸é‚»ï¼Œ`s[i] == (s[i-1] + 1) % 26`
- è¿™æ„å‘³ç€æ‰€ä»¥pä¸­çš„å­ä¸²å¦‚æœæ˜¯sçš„å­ä¸²ï¼Œä¹Ÿå¿…é¡»åŒæ ·æ»¡è¶³è¿™ä¸ªæ€§è´¨

**æˆ‘ä»¬å¯ä»¥å®šä¹‰** ***dp*****[*****Î±*****] è¡¨ç¤º** ***p*** **ä¸­ä»¥å­—ç¬¦** ***Î±*** **ç»“å°¾ä¸”åœ¨** ***s*** **ä¸­çš„å­ä¸²çš„æœ€é•¿é•¿åº¦**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=Mzk0NDA4MzNjYTA3ZmE4YTgzNDNjNGVmM2M5NzBmNWVfQ0VJdFh0RW90Q3lPR1ZaVXhsVHo5WmZTajdZWkVFTkJfVG9rZW46Ym94Y254MHU4d3dMbjdzNHdTUE0xdlRBSzVjXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

```C++
    int findSubstringInWraproundString(string p) {
        int n = p.size();
        int k = 0;
        vector<int> dp(26);
        for (int i = 0; i < n; i++) {
            if (i > 0 && (p[i] - p[i - 1] + 26) % 26 == 1) k++;
            else k = 1;
            dp[p[i] - 'a'] = max(k, dp[p[i] - 'a']);  // ä¸èƒ½é‡å¤ç®—ä¸Šå­ä¸² 
        }
        return accumulate(dp.begin(), dp.end(), 0);
    }
```



#### [688. éª‘å£«åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡](https://leetcode-cn.com/problems/knight-probability-in-chessboard/)ï¼šæ¦‚ç‡ä¸€å®šæ˜¯è¿ç»­é€’æ¨

é¦–å…ˆæ˜¯åŠ¨è§„DPçš„æ€æƒ³

æ­¤å¤–ï¼Œè¦æ³¨æ„ç§»åŠ¨æ–¹å‘dxã€dyä¸¤ç§å†™æ³•

**ã€ä¸‰å¶ã€‘ã®é¢˜è§£ï¼š**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YzZmY2IyMDAyZmU3ZmNmNWVkNGM0ODlhNGRiNWFlZDNfdUc5NWpUMEgzcnVmWThWRzNuOEZYNnM2Z0JZWGpYeGpfVG9rZW46Ym94Y25xYVpvM3Y1cVpoamp3eHVrbGJNSDVnXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

```
**dp[i][j][p] => ä»ä½ç½®(i, j)å‡ºå‘ï¼Œèµ°ä¸è¶…è¿‡pæ­¥åä»åœ¨æ£‹ç›˜å†…çš„æ¦‚ç‡**
class Solution {
public:
    // ç§»åŠ¨kæ­¥è¿‡ç¨‹ä¸­ç¦»å¼€æ£‹ç›˜å°±ä¸ç®—äº†ã€‚ã€‚
    // dp[i][j][p] => ä»ä½ç½®(i, j)å‡ºå‘ï¼Œèµ°ä¸è¶…è¿‡pæ­¥åä»åœ¨æ£‹ç›˜å†…çš„æ¦‚ç‡
    double knightProbability(int n, int k, int row, int column) {
        int dirs[8][2] = {{-1,-2},{-1,2},{1,-2},{1,2},{-2,1},{-2,-1},{2,1},{2,-1}};
        // double dp[n][n][k+1]; æ²¡æœ‰åˆå§‹åŒ–âŒ
        // double dp[n][n][k+1] = {0}; è¿™ç§åˆå§‹åŒ–æ˜¯é”™è¯¯çš„å†™æ³•âŒ
        vector<vector<vector<double>>> dp(n, vector<vector<double>>(n, vector<double>(k+1)));  // æ‰æ˜¯å¯ä»¥çš„
        (k + 1, vector<vector<double>>(n, vector<double>(n)));
        for (int i = 0; i < n; ++i)
            for (int j = 0; j < n; ++j)
                dp[i][j][0] = 1;
        for (int p = 1; p <= k; ++p) {
            for (int i = 0; i < n; ++i) {
                for (int j = 0; j < n; ++j) {
                    for (auto d : dirs) {
                        int nx = i + d[0], ny = j + d[1];
                        if (nx < 0 || nx >= n || ny < 0 || ny >= n) continue;
                        dp[i][j][p] += dp[nx][ny][p-1] / 8;
                    }
                }
            }
        }
        return dp[row][column][k];
    }
};
```

æ³¨æ„å…³äº**æ•°ç»„çš„åˆå§‹åŒ–**ï¼

- `double dp[n][n][k+1];` æ²¡æœ‰åˆå§‹åŒ–âŒ
- `double dp[n][n][k+1] = {0};` è¿™ç§åˆå§‹åŒ–æ˜¯é”™è¯¯çš„å†™æ³•âŒ
- åªæœ‰`**vector**``<vector<vector<double>>> dp(n, vector<vector<double>>(n, vector<double>(k+1))); `  æ‰æ˜¯æ­£ç¡®çš„å†™æ³•ï¼Œ**ä¸ç”¨å•ç‹¬è¿›è¡Œåˆå§‹åŒ–**ï¼

```Python
class Solution:
    def knightProbability(self, n: int, k: int, row: int, column: int) -> float:
        dp = [[[0] * (k+1) for _ in range(n)] for _ in range(n)]
        for i in range(n):
            for j in range(n):
                dp[i][j][0] = 1
        for p in range(1, k+1):
            for i in range(n):
                for j in range(n):
                    for dx, dy in ((-2, -1), (-2, 1), (2, -1), (2, 1), (-1, -2), (-1, 2), (1, -2), (1, 2)):
                        nx, ny = i + dx, j + dy
                        if nx < 0 or nx >= n or ny < 0 or ny >= n: continue
                        dp[i][j][p] += dp[nx][ny][p-1] / 8
        return dp[row][column][k]
```

> **Python è§£æ³•è¦æ³¨æ„ï¼šforå¾ªç¯çš„å±‚æ¬¡ä¸è¦å†™é”™ï¼ï¼**



#### [926. å°†å­—ç¬¦ä¸²ç¿»è½¬åˆ°å•è°ƒé€’å¢](https://leetcode.cn/problems/flip-string-to-monotone-increasing/)ï¼šå‰ç¼€å’Œï¼Ÿçº¿æ€§éå†

**æ€è·¯1ï¼šå‰ç¼€å’Œ**

æˆ‘ä»¬å‘ç°ï¼Œå¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²å•è°ƒé€’å¢ï¼Œé‚£ä¹ˆè¯¥å­—ç¬¦ä¸²ä¸€å®šå¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå‰ä¸€éƒ¨åˆ†å…¨ä¸ºå­—ç¬¦ 0ï¼Œåä¸€éƒ¨åˆ†å…¨ä¸ºå­—ç¬¦ 1ã€‚

é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥éå†æ‰€æœ‰çš„ n ä¸ªä½ç½®ï¼Œåˆ†åˆ«ä½œä¸ºç›®æ ‡å­—ç¬¦ä¸² 0 ä¸ 1 çš„åˆ†ç•Œçº¿ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹äºæ¯ä¸ªä½ç½®ï¼Œè®¡ç®—å°† s è½¬åŒ–ä¸ºç›®æ ‡å­—ç¬¦ä¸²çš„ç¿»è½¬æ¬¡æ•°ã€‚å¹¶å–æ‰€æœ‰å¯èƒ½çš„æœ€å°å€¼å³å¯ã€‚

ç®—æ³•ç»†èŠ‚ï¼šæˆ‘ä»¬å‡è®¾ä½ç½® i ä¸ºå½“å‰å­—ç¬¦ 0 ä¸ 1 çš„åˆ†ç•Œçº¿ï¼Œä¹Ÿå³ [0, iâˆ’1] ä½ç½®å‡ä¸ºå­—ç¬¦ 0ï¼Œ[i+1, n]ä½ç½®å‡ä¸º 1ï¼Œè€Œä½ç½® i æ˜¯ 0 è¿˜æ˜¯ 1 å‡å¯ã€‚

æ‰€ä»¥æˆ‘ä»¬éœ€è¦å°† [0, iâˆ’1] åŒºé—´å†…çš„æ‰€æœ‰å­—ç¬¦ 1 è¿›è¡Œç¿»è½¬ï¼Œä¹Ÿå³æˆ‘ä»¬éœ€è¦æå‰ç»´æŠ¤ä¸€ä¸ªå‰ç¼€å’Œæ•°ç»„ï¼Œè®°å½• [0, iâˆ’1] åŒºé—´å†…å­—ç¬¦ 1 çš„ä¸ªæ•°ã€‚åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦ä¸€ä¸ªæ•°ç»„ï¼Œè®°å½•[i+1, n-1] åŒºé—´å†…å­—ç¬¦ 0 çš„ä¸ªæ•°ã€‚

```C++
class Solution {
public:
    int minFlipsMonoIncr(string s) {
        int n = s.size();
        vector<int> cnt_0(n + 1), cnt_1(n + 1);
        for (int i = 0; i < n; i++) {
            // [0, i-1] çš„ 1 æ•°é‡
            cnt_1[i + 1] = cnt_1[i] + (s[i] == '1');  // cnt_1[1:n]
        }
        for (int i = n; i > 0; i--) {
            // [i, n-1] çš„ 0 çš„æ•°é‡
            cnt_0[i - 1] = cnt_0[i] + (s[i - 1] == '0');  // cnt_0[0:n-1]
        }
        int ans = n;
        for (int i = 0; i < n; i++) {  // i ä½ç½®ä¸ºåˆ†ç•Œçº¿ï¼Œè¯¥ä½ç½®æ˜¯ 0 æˆ– 1 æ— æ‰€è°“
            // [0, i-1]çš„æ‰€æœ‰1ç¿»è½¬ä¸º0ï¼Œ [i+1, n-1]çš„æ‰€æœ‰0ç¿»è½¬ä¸º1
            // [0, i-1]çš„1åœ¨cnt_1[i-1]ï¼Œ[i+1, n-1]çš„0åœ¨cnt_0[i+1]ï¼Œæ³¨æ„ä¸‹æ ‡æ¢ä¸€ä¸‹â­
            int cur = cnt_1[i] + cnt_0[i + 1];
            ans = min(ans, cur);
        }
        return ans;
    }
};
```

æ€è·¯2ï¼šä¼ ç»Ÿä¸€ç‚¹çš„é€’æ¨

1. ç¡®å®šdpæ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰ï¼š

dp[i][0] å’Œ dp[i][1]åˆ†åˆ«è¡¨ç¤ºä¸‹æ ‡iå¤„çš„å­—ç¬¦ä¸º0å’Œ1çš„æƒ…å†µä¸‹ä½¿å¾—s[0..i]å•è°ƒé€’å¢çš„æœ€å°ç¿»è½¬æ¬¡æ•°ã€‚

1. ç¡®å®šé€’æ¨å…¬å¼ï¼š

- å¦‚æœs[i] == '1'ï¼Œæœ‰`dp[i][0] = dp[i-1][0]`
- å¦‚æœs[i] == '0'ï¼Œæœ‰`dp[i][1] = min(dp[i-1][0], dp[i-1][1]) + 1`

1. åˆå§‹çŠ¶æ€ï¼š

- å¦‚æœ s[i] == '0'ï¼Œå³ dp[i][0] = 0
- å¦‚æœ s[i] == '1'ï¼Œå³ dp[i][1] = 1

ç­‰ä»·äºä»£ç ä¸­çš„countçš„å¤„ç†

1. è¿”å›å€¼ï¼šdp[i][0]å’Œdp[i][1]ä¸­é—´çš„æœ€å°å€¼

- > ä»£ç ä¸­ç›´æ¥ç”¨dpå˜é‡è¿›è¡Œè®°å½•æœ€å°åè½¬æ¬¡æ•°

- > æ³¨ï¼šä¸Šè¿°åªæ˜¯ä¸ºäº†æ–¹ä¾¿ç†è§£ç”¨äº†dp[i],ç”±äºdp[i] çš„å€¼åªå’Œdp[iâˆ’1] æœ‰å…³ï¼Œæ‰€ä»¥å¯ä»¥è¿›è¡ŒçŠ¶æ€å‹ç¼©

```C++
    int minFlipsMonoIncr(string s) {
        int dp = 0;
        if(s.size() == 1) return dp;
        int count = 0;
        if(s[0] == '1') count = 1;
        for(int i = 1; i < s.size(); i++) {
            if(s[i] == '1') count++;
            else dp = min(dp + 1, count);
        }
        return dp;
    }
```



#### [å‰‘æŒ‡ Offer II 091. ç²‰åˆ·æˆ¿å­](https://leetcode.cn/problems/JEj789/)

- > ç›¸é‚»çš„æˆ¿å­é¢œè‰²ä¸ç›¸åŒï¼Œæ‰€ä»¥è¦åŠ¨æ€è§„åˆ’

- > ç”¨dp[i][j]è¡¨ç¤ºç¬¬i+1ä¸ªæˆ¿å­ç²‰åˆ·é¢œè‰²jæ—¶ï¼Œå‰i+1ä¸ªæˆ¿å­çš„æœ€å°èŠ±è´¹ã€‚é‚£ä¹ˆï¼Œmin{dp[n - 1][0, 1, 2]}å°±æ˜¯ç­”æ¡ˆï¼ˆæŠŠç¬¬nä¸ªç²‰åˆ·æˆ3ç§é¢œè‰²ä¸­çš„ä¸€ä¸ªï¼Œå‰nä¸ªçš„æœ€å°èŠ±è´¹ï¼‰

- > ç›¸é‚»ä¸¤ä¸ªæ–¹å—é¢œè‰²ä¸èƒ½ç›¸åŒã€‚å› æ­¤é€’æ¨å…¬å¼ï¼š

  - > `dp[i][0] = min(dp[i - 1][1], dp[i - 1][2]) + costs[i][0]`

  - > `dp[i][1] = min(dp[i - 1][0], dp[i - 1][2]) + costs[i][1]`

  - > `dp[i][2] = min(dp[i - 1][0], dp[i - 1][1]) + costs[i][2]`

> å¦‚æœå…è®¸ä¿®æ”¹costsæ•°ç»„ï¼Œå¯ç›´æ¥ç”¨costsæ¥ä»£æ›¿dpï¼Œ`costs[i][j] += min(costs[i - 1][xx])`

```Prolog
class Solution {
public:
    int minCost(vector<vector<int>>& cs) {
        int n = cs.size();
        for (int i = 1; i < n; i++) {
            cs[i][0] += min(cs[i - 1][1], cs[i - 1][2]);
            cs[i][1] += min(cs[i - 1][0], cs[i - 1][2]);
            cs[i][2] += min(cs[i - 1][0], cs[i - 1][1]);
        }
        return min(cs[n - 1][0], min(cs[n - 1][1], cs[n - 1][2]));
    }
};
```









## [(3)èƒŒåŒ… DP](https://github.com/SharingSource/LogicStack-LeetCode/wiki/èƒŒåŒ…-DP)

> ä¸‰å¶çš„ã®èƒŒåŒ…ç³»åˆ— ğŸ­ğŸ­ğŸ­ ï¼šè§1995é¢˜è§£æ–‡æœ«

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹

#### [1995. ç»Ÿè®¡ç‰¹æ®Šå››å…ƒç»„](https://leetcode-cn.com/problems/count-special-quadruplets/)ï¼šæš´åŠ› / å“ˆå¸Œâ­ / èƒŒåŒ…

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MjJkY2I4N2M2MTM3OWE1NzhmMzNlOGQ1NDY3Zjc5NGZfTURTOFhEMHRmMlQ2MlRrVk1LRkM5a1Bkbnh0WGVKbVhfVG9rZW46Ym94Y24xN1NwbndtVmd0WFhmWWdsd2ZUdFNwXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

> å’ŒLCç¬¬ä¸€é¢˜æœ‰å¼‚æ›²åŒå·¥ä¹‹å¤„ã€‚æšä¸¾å·¦è¾¹ä¸¤è€…å’Œï¼Œæšä¸¾å³è¾¹ä¸¤è€…å·®ï¼ŒåŠ¨æ€æ›´æ–°ç›¸åŒæ•°ç›®åˆ°ç­”æ¡ˆã€‚

> å¦å¤–åŒæ ·å¯ä»¥é‡‡ç”¨èƒŒåŒ…åŠ¨æ€è§„åˆ’æ€æƒ³ï¼Œæˆ‘ä»¬è¦**é€‰ä¸‰ä¸ª**åˆ°èƒŒåŒ…é‡Œï¼Œç»´æŠ¤ä¸é€‰çš„å„ä¸ªå€¼çš„ä¸ªæ•°ã€é€‰ä¸€ä¸ªå„ä¸ªå€¼çš„ä¸ªæ•°ã€é€‰ä¸¤ä¸ªå„ä¸ªå€¼çš„ä¸ªæ•°ã€é€‰ä¸‰ä¸ªå„ä¸ªå€¼çš„ä¸ªæ•°ã€‚

> åœ¨éå†åˆ°æ¯ä¸ªæ•°ï¼Œç»Ÿè®¡é€‰ä¸‰ä¸ªäº†çš„å„å€¼ä¸­è¯¥æ•°çš„ä¸ªæ•°å°±æ˜¯ç­”æ¡ˆçš„ä¸€éƒ¨åˆ†ã€‚

**æ³•2.1ï¼šå“ˆå¸Œï¼Œä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨nums[d]**

```C++
class Solution {
public:
    int countQuadruplets(vector<int>& nums) {
        int n = nums.size();
        int ans = 0;
        unordered_map<int, int> cnt;  // ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨nums[d]
        for(int c = n-2; c >= 2; --c){
            cnt[nums[c + 1]]++;
            for(int a = 0; a < c; ++a){
                for(int b = a + 1; b < c; ++b){
                    ans += cnt[nums[a] + nums[b] + nums[c]];  //â­
                }
            }
        }
        return ans;
    }
};
```

**æ³•2.2ï¼šå“ˆå¸Œï¼Œä½œä¸ºä¸¤æ•°ä¹‹å’Œçš„è¿›é˜¶ç‰ˆæœ¬ï¼Œnums[a] + nums[b] = nums[d] - nums[c]**

å¼•ï¼šè¿ç”¨ä¸¤æ•°ä¹‹å’Œçš„æ€æƒ³ï¼ˆpythonç”¨Counteræ¥å½“ä½œå“ˆå¸Œè¡¨ï¼ï¼ï¼‰

```Python
class Solution:
    def countQuadruplets(self, nums: List[int]) -> int:
        l, ans = Counter(), 0
        for i in range(1, len(nums) - 2):
            # åˆ°ç›®å‰ä¸ºæ­¢ç»Ÿè®¡äº†æ‰€æœ‰0åˆ°içš„ä¸¤åæ ‡å’Œ
            for j in range(i):
                l[nums[i] + nums[j]] += 1
            # ç›®å‰ç¬¬ä¸‰ä¸ªåæ ‡ä¸ºi+1ï¼Œæšä¸¾ç¬¬å››ä¸ªåæ ‡jçš„èŒƒå›´
            for j in range(i + 2, len(nums)):
                # å åŠ ä»¥å‰ç»Ÿè®¡çš„å·¦åŠæ®µå’Œçš„ç»“æœï¼Œi+1ä½œä¸ºç¬¬ä¸‰ä¸ªidxå’Œjæœ€å¤šç»„æˆè¿™ä¹ˆå¤š
                ans += l[nums[j] - nums[i+1]]
        return ans
class Solution {
public:
    int countQuadruplets(vector<int>& nums) {
        int n = nums.size();
        unordered_map<int, int> cnt;
        int ans = 0;

        for (int b = n - 3; b >= 1; b--) {
            int c = b + 1;
            for (int d = c + 1; d < n; d++) {
                cnt[nums[d]-nums[c]]++;  //å­˜å“ˆå¸Œ
            }
            for (int a = 0; a < b; a++) {
                ans += cnt[nums[a]+nums[b]];  //æ‰¾å“ˆå¸Œ
            }
        }
        return ans;
    }
};
```

**æ³•3ï¼šå¤šç»´èƒŒåŒ…?**













## [(4)åºåˆ— DP](https://github.com/SharingSource/LogicStack-LeetCode/wiki/åºåˆ—-DP)

æ— æ³•å¤åˆ¶åŠ è½½ä¸­çš„å†…å®¹

#### [472. è¿æ¥è¯](https://leetcode-cn.com/problems/concatenated-words/)ï¼šæ²¡åšï¼Œå›°éš¾

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZWMxOGE5ODZlYWNjMmE1ZWRlNTU3OGNjMTI1MDBiYzhfeVBtOFU0c1oyR1I1eDN5czJrR2xNNjZZc3VMaXJRZnhfVG9rZW46Ym94Y25JakZzZEZROUtJMDVJQ053Ukp1Y3FlXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)















## [(5)åŒºé—´ DP](https://github.com/SharingSource/LogicStack-LeetCode/wiki/åŒºé—´-DP)

#### [730. ç»Ÿè®¡ä¸åŒå›æ–‡å­åºåˆ—](https://leetcode.cn/problems/count-different-palindromic-subsequences/)ï¼šæšä¸¾è¾¹ç¼˜å­—ç¬¦

- > æšä¸¾è¾¹ç¼˜å­—ç¬¦çš„åŒºé—´ DP è¿ç”¨é¢˜

- > è¿™æ˜¯ä¸€é“å›°éš¾é¢˜ï¼ŒçœŸçš„æ¯”è¾ƒéš¾æƒ³å‡ºæ¥

- > â€œé€šè¿‡ä» s ä¸­åˆ é™¤ 0 ä¸ªæˆ–å¤šä¸ªå­—ç¬¦æ¥è·å¾—å­åºåˆ—ã€‚â€

- > ä¸å…¶è¯´å›æ–‡ï¼Œæ›´åƒæ˜¯â€œè½´å¯¹ç§°â€

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YjI0OWE1YzgxZGVlZjMzZWYzZjFlN2YwMTEwNjc1M2VfcG5tUU9CcGhBeDFua1hiTVNwZWNIU0MzeTBHWkdjbk9fVG9rZW46Ym94Y25PNHhmM2RHNmtNT0c3ZGRFNzF2WHNlXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjQ3NTBjMGRiNmQwMDk3NDYzY2JiOGQwNmU5MjZlOWRfWU5BUlh2eTRXb1ZRWVhyaDRlSzFHTThtZkljUzlSMnZfVG9rZW46Ym94Y25DZHk0V2VEdlhCZ3lNcjRubHUzRmhiXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

**ä¸€ä¸ªä¸é”™çš„è®²è§£ï¼š**

ç”±äºé•¿å­—ç¬¦ä¸²ä¼šä¾èµ–çŸ­å­—ç¬¦ä¸²çš„å›æ–‡åºåˆ—æ•°é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é‡‡ç”¨åŠ¨æ€è§„åˆ’æ¥å®ç°ã€‚

è®¾**dp[i][j]**è¡¨ç¤ºå­—ç¬¦ä¸²**ä»iåˆ°jçš„å›æ–‡åºåˆ—ä¸ªæ•°**ï¼Œæˆ‘ä»¬å¯ä»¥å°†é•¿å­—ç¬¦ä¸²çœ‹ä½œçŸ­å­—ç¬¦ä¸²å·¦å³åŠ ä¸Šä¸¤ä¸ªå­—ç¬¦

äºæ˜¯æˆ‘ä»¬æœ‰`s[i,j] = s[i] + s [i+1,j-1] + s[j]`ï¼Œå¦‚ï¼š"bccb" å¯ä»¥çœ‹ä½œ "cc"ä¸¤è¾¹åˆ†åˆ«åŠ ä¸Š"b"ï¼Œæ­¤æ—¶æˆ‘ä»¬åˆ†æƒ…å†µè¿›è¡Œè®¨è®ºï¼š

(1) è‹¥s[i] == s[j]ï¼Œç›¸å½“äºæˆ‘ä»¬ç»™s[i+1,j-1] å·¦å³åŠ ä¸Šä¸¤ä¸ªç›¸åŒçš„å­—ç¬¦ï¼Œç„¶åæˆ‘ä»¬è®¡ç®—å›æ–‡åºåˆ—çš„ä¸ªæ•°

- â‘  s[i+1,j-1]ä¸­æ²¡æœ‰å­—ç¬¦å’Œs[i]ç›¸ç­‰ï¼ˆbcb+aaï¼‰

è®¾æœ‰å­—ç¬¦ä¸²"bcb"ï¼Œåˆ™"bcb"çš„å›æ–‡å­åºåˆ—æ˜¯ï¼šbã€cã€bbã€bcb

è‹¥ä¸¤è¾¹åŠ ä¸Šç›¸åŒçš„å­—ç¬¦ï¼Œç›¸å½“äºç»™"bcb"çš„å›æ–‡å­åºåˆ—å·¦å³å„åŠ ä¸€ä¸ªç›¸åŒå­—ç¬¦ï¼Œä»ç„¶æ„æˆå›æ–‡å­åºåˆ—ã€‚å‡è®¾æˆ‘ä»¬ç»™"bcb"å·¦å³åŠ ä¸€ä¸ªå­—ç¬¦"a"ï¼Œåˆ™ç›¸å½“äºç»™"bcb"çš„å­åºåˆ—éƒ½å·¦å³åŠ ä¸€ä¸ªå­—ç¬¦å¯æ„æˆæ–°çš„å›æ–‡å­åºåˆ—ã€‚

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ODk0MWYwODY1MmY2OTdkMjg1OWQzNTk2NjA2MTJkZjJfaU1qZmdwVjFHZnM1MVdlZzNHVkR2S1UyU01uZ0dISDNfVG9rZW46Ym94Y25yTDd1a3pNTkZHb1J1OHRQWEcxaWFoXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

å†åŠ ä¸Š"a"(å­—ç¬¦æœ¬èº«å°±æ˜¯ä¸€ä¸ªå›æ–‡å­åºåˆ—)å’Œ"aa"(ä¸¤ä¸ªç›¸åŒå­—ç¬¦çš„å›æ–‡å­åºåˆ—)

æ‰€ä»¥æ­¤æ—¶dp[i][j] = 2dp[i+1][j-1] + 2ï¼ˆæœ¬èº«çš„4ä¸ª+æ–°ç”Ÿæˆçš„4ä¸ª+2ä¸ªå•ç‹¬ç”Ÿæˆçš„ï¼‰

- â‘¡ s[i+1,j-1]ä¸­æœ‰ä¸€ä¸ªå­—ç¬¦å’Œs[i]ç›¸ç­‰ï¼ˆbcb+bbï¼‰

å‡è®¾æœ‰ä¸€ä¸ªå­—ç¬¦ç›¸ç­‰ï¼Œåˆ™ä¹‹å‰å·²ç»è®°å½•äº†æ­¤å•å­—ç¬¦çš„å›æ–‡å­åºåˆ—(åªèƒ½åŠ ä¸Š"aa"ï¼Œä¸èƒ½åŠ "a")

æ‰€ä»¥æ­¤æ—¶dp[i][j] = 2dp[i+1][j-1] + 1ï¼ˆæœ¬èº«çš„4ä¸ª+æ–°ç”Ÿæˆçš„4ä¸ª+1ä¸ªå•ç‹¬ç”Ÿæˆçš„ï¼‰

- â‘¢ s[i+1,j-1]ä¸­æœ‰ä¸¤ä¸ªåŠä»¥ä¸Šå­—ç¬¦å’Œs[i]ç›¸ç­‰

è‹¥æœ‰ä¸¤ä¸ªåŠä»¥ä¸Šçš„å­—ç¬¦,åˆ™æˆ‘ä»¬éœ€è¦æ‰¾åˆ°å…¶ä½ç½®ï¼Œå¹¶**åˆ æ‰é‡å¤è®¡ç®—çš„å›æ–‡å­åºåˆ—**ï¼Œå¹¶ä¸”ä¸¤ä¸ªå•ç‹¬çš„ä¹‹å‰ä¹Ÿå·²ç»è®¡ç®—ã€‚

å‡è®¾æœ‰å­—ç¬¦ä¸²"dabcbad"ï¼Œæˆ‘ä»¬å‘ä¸¤è¾¹åŠ å…¥å­—ç¬¦"a"

åˆ™æ­¤æ—¶çš„"a"å­—ç¬¦ä¼šå’Œä¸­é—´çš„"bcb"ç»„æˆé‡å¤çš„å›æ–‡å­åºåˆ—ï¼Œå› ä¸ºä¹‹å‰å·²ç»æœ‰"a"å’Œ"bcb"ç»„æˆå›æ–‡å­åºåˆ—

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NDk3MDAxZWJkZWFkYzU2NzZhZTk2NGU1YmE4YTQ5OWFfRGo1ZFA2bHFjNFRmdmpka05hclNneWVBTnJEN0N6enNfVG9rZW46Ym94Y25xMGJMVnM3UU55V1hReXo5eUttT0dkXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NzI5MTFkYjc5ZGZkNWFhYmYxYjVkYjk4MTI0YzFkMjZfdUFDOHpkbWxSWDg3OVVsVjlIbGpaUWowSmRwOFllc2NfVG9rZW46Ym94Y254OVJrVUtxVDJQckVFeWNiaUEwUnJoXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

(2) è‹¥s[i] != s[j]ï¼Œåˆ™æˆ‘ä»¬ç»™ä¹‹å‰ä»»ä½•ä¸€ä¸ªå›æ–‡å­åºåˆ—å·¦å³åŠ ä¸Šs[i]å’Œs[j]éƒ½ä¸èƒ½ç»„æˆå›æ–‡å­åºåˆ—ï¼Œåªèƒ½å•ç‹¬è®¡ç®—

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YjQxYTc2NzEyZWE2NzAxYzk3NDVjMGJkYjc0YTUzNjRfaXUyNWpCQzR5anVLWVJLTG9udG1jQzhtd3lpd2hzZTBfVG9rZW46Ym94Y241YmJaTVNXeEF6Sjg4cnRPb3FBVTVlXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

ç»¼ä¸Šæ‰€è¿°ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZmNlODUwNDgxZjBlZjMxNDdhMzFiYzJmMGFiZWUzYjFfdUNHVWkxVVZ4Z25HOWZ3and4NHc5Z2Y2d2lZOFlsWkVfVG9rZW46Ym94Y25uMTlDSmVqazg5ak9IY2NQbGNCZlJjXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)









## [(6)çŠ¶å‹ DP](https://github.com/SharingSource/LogicStack-LeetCode/wiki/çŠ¶å‹-DP)

## [(7)çŠ¶æ€æœº DP](https://github.com/SharingSource/LogicStack-LeetCode/wiki/çŠ¶æ€æœº-DP)

## [(8)æ•°ä½ DP](https://github.com/SharingSource/LogicStack-LeetCode/wiki/æ•°ä½-DP)









# è´ªå¿ƒ â­

- > è´ªå¿ƒçš„æ€æƒ³æ˜¯ï¼šé€šè¿‡å±€éƒ¨æœ€ä¼˜è¾¾åˆ°å…¨å±€æœ€ä¼˜

#### [435. æ— é‡å åŒºé—´](https://leetcode-cn.com/problems/non-overlapping-intervals/)ï¼šåŒºé—´è´ªå¿ƒ

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTExNjRkNDEwYTlhYmQxZTNlMzBhYjg2Y2Q1Y2RhZGRfREw3V2k5aDVWTEtKMUJLazRXWTl4dkYxUW9BOUdCdWpfVG9rZW46Ym94Y25EckhEbnpwZTVMWjNCbG1GR1ZiZjVkXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

è¦æ‰¾ç§»é™¤å¾—æœ€å°æ•°é‡ï¼Œ

**æ³•1ï¼šæŒ‰ç…§å³è¾¹ç•Œæ’åºï¼Œåˆ™****ä»å·¦å‘å³éå†ï¼Œä¼˜å…ˆé€‰å³è¾¹ç•Œå°çš„**

```C++
class Solution {
public:
    // æŒ‰ç…§åŒºé—´å³è¾¹ç•Œ<æ’åºï¼Œè‡ªå·±å†™ä¸€ä¸ªæ’åºè§„åˆ™ï¼
    static bool cmp (const vector<int>& a, const vector<int>& b) {
        return a[1] < b[1];
    }
    int eraseOverlapIntervals(vector<vector<int>>& intervals) {
        if (intervals.size() == 0) 
            return 0;
        
        sort(intervals.begin(), intervals.end(), cmp);
        // ä»å·¦å‘å³éå†ï¼Œä¼˜å…ˆé€‰å³è¾¹ç•Œå°çš„
        int cnt = 1;  // è®°å½•éäº¤å‰åŒºé—´çš„ä¸ªæ•°
        int end = intervals[0][1];  // ç¬¬ä¸€ä¸ªçš„å³è¾¹ç•Œ
        // ä»ä¸‹ä¸€ä¸ªå¼€å§‹éå†
        for (int i = 1; i < intervals.size(); i++) {
            // å¦‚æœå·¦è¾¹ä¸ç¬¦åˆæ¡ä»¶ï¼Œä¸‹ä¸€ä¸ª
            // å¦‚æœå·¦è¾¹ç•Œç¬¦åˆæ¡ä»¶ï¼šç¬¦åˆï¼Œæ›´æ–°end
            if (intervals[i][0] >= end) {
                end = intervals[i][1];
                cnt++;
            }
        }
        return intervals.size() - cnt;
    }
};
class Solution:
    def eraseOverlapIntervals(self, intervals: List[List[int]]) -> int:
        n = len(intervals)
        if n == 0: return 0
        intervals.sort(key=lambda x: x[1]) #æŒ‰å³è¾¹ç•Œæ’åº
        end = intervals[0][1] #æœ€å·¦å…ƒç´ çš„å³è¾¹ç•Œä½œä¸ºåŸºå‡†
        cnt = 1 

        #è®°å½•éäº¤å‰åŒºé—´çš„ä¸ªæ•° å±€éƒ¨æœ€ä¼˜ï¼šä»å·¦å‘å³(ä¼˜å…ˆè€ƒé‡å³è¾¹ç•Œå°çš„åŒºé—´) 
        for i in range(1,n):
            if intervals[i][0] >= end: #ä¸äº¤å‰
                cnt += 1 
                end = intervals[i][1]            
        return n - cnt
```



**æ³•2ï¼šæŒ‰ç…§å·¦è¾¹ç•Œæ’åºï¼Œåˆ™****ä»å³å‘å·¦éå†ï¼Œä¼˜å…ˆé€‰å·¦è¾¹ç•Œå¤§çš„**

```Python
class Solution:
    def eraseOverlapIntervals(self, intervals: List[List[int]]) -> int:
        n = len(intervals)
        if n == 0: return 0

        intervals.sort(key=lambda x: x[0]) # O(nlogn) æŒ‰å·¦è¾¹ç•Œæ’åº
        leftend = intervals[n-1][0] # é€‰å–å·¦è¾¹ç•Œæœ€å¤§çš„å…ƒç´ ä½œä¸ºåŸºå‡†
        cnt = 1 

        for i in range(n-2,-1,-1):
            if intervals[i][1] <= leftend: 
                cnt += 1
                leftend = intervals[i][0]

        return n - cnt
```

**æ³•3ï¼šåŠ¨æ€è§„åˆ’**

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=N2U1ODAxZDdiMTRlYTRlNWM0Y2I1MTE1ZjBjODFiZjRfV0dZekxMdkRmOVJ5UGc4cGhrSU5LaDN5R2ExNFEyaTBfVG9rZW46Ym94Y25ZQXpDbTl0ZUlQTXF2R1g2VWpmZ3FnXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)



#### [462. æœ€å°‘ç§»åŠ¨æ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰ II](https://leetcode.cn/problems/minimum-moves-to-equal-array-elements-ii/)ï¼šä¸­ä½æ•°

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MmZjYTVhYjM1YzhjMDQzYWE1OGFkMzFmYTVkYzZiMTlfa0NwSVROQnYyUklnWXdjeXI3MTB3aFg4ampMdzZsWmxfVG9rZW46Ym94Y241eUZKVjNnb2JjR25FSWZOUWI0OHpoXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

> å‡†ç¡®æ¥è¯´æ²¡æœ‰ç”¨åˆ°è´ªå¿ƒï¼Œ

> è®¾ä»å°åˆ°å¤§çš„æ•°åˆ—{x1,x2,...,xn}ï¼Œè®¾xæ˜¯ä»x1åˆ°xnä¸å…¶ç»å¯¹å·®ä¹‹å’Œæœ€å°çš„æ•°ï¼Œæ˜¾ç„¶xâˆˆ[x1,xn]

> âˆµx1ï¼Œxnä¸å®ƒä»¬ä¹‹é—´çš„ä»»æ„ä¸€ç‚¹çš„è·ç¦»ä¹‹å’Œéƒ½ç›¸ç­‰ï¼Œä¸”éƒ½ç­‰äºxn-x1ï¼Œå› æ­¤æ¥ä¸‹æ¥å¯ä»¥ä¸è€ƒè™‘x1ä¸xn

> è€Œåˆâˆµä¸­ä½æ•°æ˜¯ç¦»æ•°åˆ—ä¸­æœ€ä¸­é—´é‚£ä¸ªæ•°è·ç¦»æœ€å°çš„é‚£ä¸ª

> âˆ´**ç”¨ä¸­ä½æ•°æ¥**...

```C++
class Solution {
public:
    int minMoves2(vector<int>& nums) {
        sort(nums.begin(), nums.end());
        int n = nums.size(), mid = nums[n / 2];
        int ans = 0;
        for (int i = 0; i < n; ++i) {
            ans += abs(nums[i] - mid);
        }
        return ans;
    }
};
```



#### [553. æœ€ä¼˜é™¤æ³•](https://leetcode-cn.com/problems/optimal-division/)ï¼šæ•°å­¦+è´ªå¿ƒ

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YjMwMzBmODgzNDk3ZGE2ODY4MWYzMzNhYmRjNWQ3YWJfbUt5RmgyaG5yZzROUlFDeUFqeElDRnhOcU5Ya08zc3ZfVG9rZW46Ym94Y25JS0Jjc01RcUlKVXdGYzFLTDB2R3lnXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

**æ€è·¯ï¼š**ä¸ç®¡æ€ä¹ˆæ·»åŠ æ‹¬å·ï¼Œç¬¬ä¸€ä¸ªæ•°å­—æ°¸è¿œæ˜¯å”¯ä¸€çš„åˆ†å­ï¼Œè€Œç¬¬äºŒä¸ªæ•°å­—æ°¸è¿œæ˜¯åˆ†æ¯çš„ä¸€éƒ¨åˆ†ã€‚

åˆ†å­æ˜¯ä¸èƒ½å˜å¤§çš„ï¼Œè¦æƒ³å°½å¯èƒ½å¤§ï¼Œåªèƒ½ä»åˆ†æ¯å…¥æ‰‹ï¼ŒæŠŠåˆ†æ¯å˜å¾—å°½å¯èƒ½å°ã€‚

è€Œè¿™æ˜¾ç„¶åªéœ€è¦è®©ç¬¬äºŒä¸ªæ•°å­—å°½å¯èƒ½åœ°é™¤åé¢è¶Šå¤šçš„æ•°è¶Šå¥½ï¼ˆå› ä¸ºéƒ½æ˜¯æ­£æ•´æ•°ï¼‰ã€‚

ã€ä¸‰å¶ã€‘ã®é¢˜è§£ï¼š

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MDcwMDdmZWJkYmU1ODIwNDhiZTNkMmM3YjM4YTFhZWRfMnpzUEtBcWFyY0k0Sm9Palg0Zll2cEU1SHhBNVlxQjRfVG9rZW46Ym94Y25lb0ZZeXhUWXpqNG5yZENNSmtJV0ZmXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

ç”±æ­¤ï¼šåªè¦numsé•¿åº¦>2ï¼ŒæŠŠåé¢çš„ç»Ÿä¸€åŠ ä¸Šæ‹¬å·

```C++
class Solution {
public:
    string optimalDivision(vector<int>& nums) {
        int n = nums.size();
        string ans = "";

        if (n == 1) return to_string(nums[0]);
        if (n == 2) return to_string(nums[0]) + '/' + to_string(nums[1]);
        else {
            ans += to_string(nums[0]) + "/(";
            for (int i = 1; i < n; ++i) {
                ans += to_string(nums[i]) + '/';
            }
            ans.pop_back();
            ans.push_back(')');
        }
        return ans;
    }
};
```



#### [768. æœ€å¤šèƒ½å®Œæˆæ’åºçš„å— II](https://leetcode.cn/problems/max-chunks-to-make-sorted-ii/)ï¼šè´ªå¿ƒ+å“ˆå¸Œ

- > å°†æ•°ç»„åºåˆ—æ‹†åˆ†ä¸ºå¤šå°‘å—ï¼Œä»æœ‰åºï¼š

- > å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦èƒ½åˆ†ä¸ºç¬¦åˆé¢˜æ„çš„ä¸¤å—å‘¢ï¼Ÿ

**æ€è·¯1ï¼š**

å¦‚æœä¸€ä¸ªæ•°ç»„èƒ½åˆ†ä¸ºä¸¤å—ï¼Œé‚£ä¹ˆä¸€å®šèƒ½æ‰¾åˆ°ä¸€ä¸ªä¸‹æ ‡kï¼Œè¿™ä¸ªä¸‹æ ‡å°†æ•°ç»„åˆ†ä¸ºä¸¤ä¸ªéç©ºå­æ•°ç»„arr[0,â€¦,k] å’Œarr[k+1,â€¦,nâˆ’1]ï¼Œä½¿å¾—arr[0,â€¦,k] å’ŒsortedArr[0,â€¦,k] çš„å…ƒç´ é¢‘æ¬¡ç›¸åŒï¼Œarr[k+1,â€¦,nâˆ’1] å’ŒsortedArr[k+1,â€¦,nâˆ’1] çš„å…ƒç´ é¢‘æ¬¡ç›¸åŒã€‚

åˆ¤æ–­èƒ½å¦åˆ†ä¸ºæ›´å¤šçš„å—æ—¶åŒç†ã€‚è¿™ä¸ªåˆ¤æ–­è¿‡ç¨‹å¯ä»¥ä»å·¦è‡³å³åŒæ—¶éå† arr å’Œ sortedArrï¼Œå¹¶**ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥è®°å½•ä¸¤ä¸ªæ•°ç»„å…ƒç´ é¢‘æ¬¡ä¹‹å·®**ã€‚

å½“éå†åˆ°æŸä¸ªä¸‹æ ‡æ—¶ï¼Œå¦‚æœå“ˆå¸Œè¡¨å†…æ‰€æœ‰é”®çš„å€¼å‡ä¸º0ï¼Œåˆ™è¡¨ç¤ºåˆ’åˆ†å‡ºäº†ä¸€ä¸ªæ–°çš„å—ï¼Œæœ€åè®°å½•æœ‰å¤šå°‘ä¸‹æ ‡å¯ä»¥ä½¿å¾—å“ˆå¸Œè¡¨å†…æ‰€æœ‰é”®çš„å€¼å‡ä¸º0å³å¯ã€‚

ï¼ˆå…¶å®ï¼Œä¸»è¦æ€æƒ³å°±æ˜¯ä¸æ’å¥½åºçš„è€Œæ•°ç»„è¿›è¡Œæ¯”è¾ƒï¼‰

```C++
class Solution {
public:
    int maxChunksToSorted(vector<int>& arr) {
        vector<int> arr_sorted = arr;
        sort(arr_sorted.begin(), arr_sorted.end());
        int n = arr.size();
        int ans = 0;
        unordered_map<int, int> umap;
        for (int i = 0; i < n; i++) {
            int a = arr[i], sa = arr_sorted[i];
            umap[a]++;
            if (umap[a] == 0) umap.erase(a);
            
            umap[sa]--;
            if (umap[sa] == 0) umap.erase(sa);
            
            if (umap.size() == 0) ans++;
        }
        return ans;
    }
};
```

**æ€è·¯2ï¼š**

```C++
class Solution {
public:
    // å¯»æ‰¾å±€éƒ¨æœ€å¤§å€¼ï¼Œç”¨æ ˆæ¥å­˜å—çš„æœ€å¤§å€¼
    // ä¸‹ä¸€ä¸ªæ¯”ä¹‹å‰çš„å°ï¼Œå°±ç®—ä¸æ˜¯å±€éƒ¨æœ€å¤§çš„
    int maxChunksToSorted(vector<int>& arr) {
        stack<int> st;
        for (int a : arr) {
            if (st.empty() || a >= st.top()) {
                st.push(a);
            } else {
                int t = st.top();
                st.pop();
                while (!st.empty() && st.top() > a) st.pop();
                st.push(t);
            }
        }
        return st.size();
    }
};
```





#### [807. ä¿æŒåŸå¸‚å¤©é™…çº¿](https://leetcode-cn.com/problems/max-increase-to-keep-city-skyline/)ï¼špythonå®˜æ–¹å†™æ³•ï¼Ÿ

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZDM3N2U4YmM3NzdhNmU0N2QxMDNlNWFmMTQwODU2MmJfOVFCSmsxczg2WmJQTGRiMTZVZENYR2l3bEl4OFBFTVpfVG9rZW46Ym94Y25RT2I1SXBjOXFhWHpNTkNjeGVkZ3NoXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=M2NiM2JmNDA3MGYxMTUxMDM0NTI5ZTY4ZTFhZDhmZTBfcXlTZ3dDaVhPQzNXV25aRDhyb21LRDBDaldKR1lsWHpfVG9rZW46Ym94Y25MRHZvRVhZZlJQdWFlZEVvUWFrSnRoXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MGFmYTVmZDk0MTA5ODc2MDllNzU0NzU2ZjY2M2NjNTdfZ090ZVBaNDlFbkN1OVcxSld4anVBdTY4VlllY0UxOUpfVG9rZW46Ym94Y25nZlA2SnZXZ0RoWkx3N1U2Z2tJTDdiXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

C++çš„å†™æ³•å¾ˆæ­£å¸¸

```C++
class Solution {
public:
    // å˜ä¸ºæ‰€åœ¨è¡Œåˆ—ï¼Œæœ€å¤§é«˜åº¦é‡Œçš„æœ€å°è€…
    int maxIncreaseKeepingSkyline(vector<vector<int>>& grid) {
        int n = grid.size(); //nè¡Œï¼Œå…¶å®ä¹Ÿæ˜¯nåˆ—
        vector<int> rowMax(n);
        vector<int> colMax(n);
        for(int i = 0; i < n; ++i){
            for(int j = 0; j < n; ++j){
                rowMax[i] = max(rowMax[i], grid[i][j]);
                colMax[j] = max(colMax[j], grid[i][j]);
            }
        }
        int ans = 0; // æœ€å¤§é«˜åº¦å¢é‡æ€»å’Œ
        // éå†æ•´ä¸ªçŸ©é˜µçš„ç¬¬iè¡Œï¼Œç¬¬jåˆ—
        for (int i = 0; i < n; i++){
            for (int j = 0; j < n; j++){
                ans += min(rowMax[i], colMax[j]) - grid[i][j];
            }
        }
        return ans;
    }
};
class Solution:
    def maxIncreaseKeepingSkyline(self, grid: List[List[int]]) -> int:
        rowMax = list(map(max, grid))
        colMax = list(map(max, zip(*grid)))
        return sum(min(rowMax[i], colMax[j]) - h for i, row in enumerate(grid) for j, h in enumerate(row))
```



#### [630. è¯¾ç¨‹è¡¨ III](https://leetcode-cn.com/problems/course-schedule-iii/)ï¼šæ³¨æ„è´ªå¿ƒçš„æ€æƒ³å’Œå®ç° â­

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NTQ3ZjA0ZDUxOTI5ZDEwMGMwY2E2ZDJhYzUwMWJmNzNfSXpwMFNudzB0QU84M2hZT0NOWUZaYVNZejlkQXhOVDhfVG9rZW46Ym94Y25TdHk3ZWdmVDVORXN3WUNBZmlBNWhjXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

**è´ªå¿ƒ**ï¼šå°±æ˜¯é»˜è®¤å‰é¢å·²ç»æ˜¯æœ€ä¼˜çš„å‰æä¸‹ï¼Œç»§ç»­è€ƒè™‘

è¦è€ƒè™‘ä¸¤ä¸ªä¸€çº§æ¡ä»¶ï¼š

- 1.è¶ç€ddlå‰ï¼Œå½“å‰èƒ½ä¿®åˆ™ä¿®
- 2.åœ¨éƒ½èƒ½ä¿®çš„éƒ½ä¿®äº†ï¼ˆè¿™ä¸ªä¸èƒ½å†ä¿®äº†ï¼‰çš„å‰æä¸‹ï¼Œçœ‹èƒ½å¦æŠŠæŒç»­æ—¶é—´é•¿çš„æŸä¸€ä¸ªæ›¿æ¢å‡ºæ¥ï¼š
  - æŠŠæ›¾ç»durationé•¿çš„æ¢æˆæ–°çš„ï¼Œåæ­£æ•°é‡ä¸ä¼šå†å˜äº†

```C++
class Solution {
public:
    int scheduleCourse(vector<vector<int>>& courses) {
        sort(courses.begin(), courses.end(), [](const auto& a, const auto& b){return a[1] < b [1];});

        priority_queue<int> q;
        int t_now = 0; // ä¿®å®ŒæŸé—¨è¯¾åçš„æ—¶é—´ï¼Œä¹Ÿæ˜¯ä¸‹ä¸€é—¨è¯¾çš„å¼€å§‹æ—¶é—´
        for (auto course: courses) {
            if (course[1]-course[0] >= t_now) {
                // å¯ä»¥ä¿®
                t_now += course[0];
                q.push(course[0]);
                continue;
            }
            if (!q.empty() && q.top() > course[0]) {
                // åœ¨å½“å‰è¯¾ç¨‹å¯ä»¥ä¿®çš„å‰æä¸‹ï¼Œè¿›ä¸€æ­¥çœ‹durationæœ€é•¿çš„é‚£ä¸ªæ˜¯å¦è¢«ä¿®äº†
                t_now -= q.top();
                t_now += course[0];
                q.pop();
                q.push(course[0]);
            }        
        }
        return q.size();
    }
};
```

pythonçš„å®ç°æ³¨æ„è¯­æ³•ï¼Œ

```Python
class Solution:
    def scheduleCourse(self, courses: List[List[int]]) -> int:
        courses.sort(key=lambda c: c[1])

        q = list()
        t_now = 0  # ä¼˜å…ˆé˜Ÿåˆ—ä¸­æ‰€æœ‰è¯¾ç¨‹çš„æ€»æ—¶é—´

        for ti, di in courses:
            if t_now + ti <= di:
                t_now += ti
                # Python é»˜è®¤æ˜¯å°æ ¹å †
                heapq.heappush(q, -ti)
            elif q and -q[0] > ti:
                t_now -= -q[0] - ti
                heapq.heappop(q)
                heapq.heappush(q, -ti)

        return len(q)
```



#### [942. å¢å‡å­—ç¬¦ä¸²åŒ¹é…](https://leetcode.cn/problems/di-string-match/)ï¼šæ„é€ æŠ˜çº¿

> ç›´æ¥ä»0å¼€å§‹æ„é€ ï¼Œç„¶åæ•´ä½“ä¸Šä¸‹ç§»åŠ¨

```C++
vector<int> diStringMatch(string s) {
    int n = s.size();
    int min = 0, max = 0;
    vector<int> ans(n + 1, 0);
    for (int i = 0; i < n; i++) {
        if (s[i] == 'I')
            ans[i + 1] = ++max;
        else
            ans[i + 1] = --min;
    }
    for (int &a : ans) a -= min;  //å¿…é¡»åŠ ä¸Šå¼•ç”¨ï¼Œä¸ç„¶vectoræ²¡æœ‰æ”¹
    return ans;
}
```

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTYxMDA0NzU4N2M4ZTMwMDI2Yzg5NTIzY2Y0NzkwNzVfVk9XVzUwSzlPalRXQU12T1hXVko4elA2b25ZZFY1cDFfVG9rZW46Ym94Y244S2dYTnM1SUVsbk9YeDVjNEduV0ZmXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)



#### [1217. ç©ç­¹ç ](https://leetcode.cn/problems/minimum-cost-to-move-chips-to-the-same-position/)

> ç§»åŠ¨ä½ç½®ï¼Œè®¡ç®—æœ€å°ä»£ä»·

æ³•1ï¼šè´ªå¿ƒï¼Œç›´æ¥éå†

```C++
class Solution {
public:
    // ç§»åŠ¨ä¸¤æ ¼ä»£ä»·æ˜¯0ï¼ŒåŒ»ç”¨ä¸€æ ¼ä»£ä»·æ˜¯1ï¼š(a-b)%2
    int minCostToMoveChips(vector<int>& pos) {
        int n = pos.size();
        int ans = INT_MAX;
        for (int i = 0; i < n; i++) {
            int cur = 0;
            for (int j = 0; j < n; j++) {
                cur += abs(pos[i] - pos[j]) % 2;
            }
            ans = min(ans, cur);
        }
        return ans;
    }
};
```

**æ³•2ï¼šè´ªå¿ƒ + ç»Ÿè®¡å¥‡å¶æ€§**

æ›´è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°è¦ä½¿å¾—ã€Œæ€»çš„ç§»åŠ¨æˆæœ¬æœ€ä¼˜ã€çš„ç›®æ ‡ä½ç½®æœ‰æ— æ•°ä¸ªï¼Œåªè¦ç›®æ ‡ä½ç½®çš„å¥‡å¶æ€§ä¸å˜ï¼Œå³å¯ç¡®ä¿æ€»æˆæœ¬ä¸å˜ã€‚

å› æ­¤æˆ‘ä»¬å¯ä»¥çœå»æšä¸¾å…·ä½“ä½ç½®çš„æ“ä½œï¼Œè½¬è€Œç»Ÿè®¡åŸæœ‰æ•°çš„å¥‡å¶ä½ç½®ä¸ªæ•°ï¼Œå‡è®¾å¶æ•°ä½ç½®æœ‰aä¸ªï¼Œå¥‡æ•°ä½ç½®æœ‰bä¸ªï¼Œæœ€ç»ˆç›®æ ‡ä½ç½®é€‰ä¸ºå¶æ•°çš„æˆæœ¬ä¸ºbï¼Œæœ€ç»ˆç›®æ ‡ä½ç½®é€‰ä¸ºå¥‡æ•°çš„æˆæœ¬ä¸ºaï¼Œå³ä¸¤è€…ä¸­çš„æœ€å°å€¼å³æ˜¯ç­”æ¡ˆã€‚

```C++
class Solution {
public:
    int minCostToMoveChips(vector<int>& pos) {
        int n = pos.size();
        int a = 0;
        for (int p : pos) a += p % 2;
        return min(a, n - a);
    }
};
```



#### [1403. éé€’å¢é¡ºåºçš„æœ€å°å­åºåˆ—](https://leetcode.cn/problems/minimum-subsequence-in-non-increasing-order/)ï¼šç®€å•è´ªå¿ƒè¿ç”¨

```C++
class Solution {
public:
    vector<int> minSubsequence(vector<int>& nums) {
        sort(nums.begin(), nums.end());
        int sum = 0;
        for (int i : nums) sum += i;
        vector<int> ans;
        int idx = nums.size() - 1;
        int cur = 0;
        while (cur <= sum) {
            sum -= nums[idx];
            cur += nums[idx];
            ans.push_back(nums[idx--]);
        }
        return ans;
    }
};
```



#### [1405. æœ€é•¿å¿«ä¹å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/longest-happy-string/)ï¼šâ—ä¼˜å…ˆçº§é˜Ÿåˆ— pair

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=YTFkODg4NjlkZmY3ZDkxMGY4ZTIwNGJhZmJmNTQ1ZjJfRmRzVFY3dlhJWklaekM2YXE5ZmdiUUdTUEdjVVpSTnRfVG9rZW46Ym94Y25IREp4SzVCU3R4MzhtckdNMmo5aFNiXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

ï¼ˆå¥½åœ¨åªæœ‰3ä¸ªå­—ç¬¦ï¼‰ï¼Œ

**ä¼˜å…ˆä½¿ç”¨å‰©ä½™æ•°é‡æœ€å¤šçš„å­—ç¬¦**

æ¥è‡ªã€ä¸‰å¶ã€‘ã®é¢˜è§£ï¼š

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=MTUyMWZiYWNlYTA4ODQ2ZjIwZjYyZWQ0Y2Y1ZmIxOGJfU0pocWo3Z2hXeFJEMkRyUURXdXNWVTR5NGdDYzRPanBfVG9rZW46Ym94Y25vTmxiN1hpRlQ0eDd6TFE5NG9sOEdmXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œå†™å‡ºå¦‚ä¸‹è§£æ³•ï¼š

```C++
class Solution {
public:
    // æ ¹æœ¬æ€æƒ³ï¼šè´ªå¿ƒï¼ï¼
    // ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼Œè¿™æ ·å°±â€œè‡ªåŠ¨åœ°â€ä¿è¯äº†ï¼šæ¯æ¬¡å–å‡ºå­—ç¬¦éƒ½è¦è¿›è¡Œåˆ¤æ–­æ•°é‡ ==> å¤§æ ¹å †â­
    // æ¯æ¬¡å–å †é¡¶å…ƒç´ ï¼ˆå‰©ä½™æ•°é‡æœ€å¤šçš„å…ƒç´ ï¼‰
    string longestDiverseString(int a, int b, int c) {
        priority_queue<pair<int, int>, vector<pair<int, int>>, cmp> q;
        if (a > 0) q.push({0, a});  // a,b,cåˆ†åˆ«æ˜¯å®ƒä»¬å¯¹åº”çš„æ•°é‡ï¼Œ0,1,2ç”¨æ¥è¡¨ç¤ºç¼–å·
        if (b > 0) q.push({1, b});
        if (c > 0) q.push({2, c});
        string ans;
        while (!q.empty()) {
            pair<int, int> cur = q.top();
            q.pop();
            int n = ans.size();
            if (n >= 2 && ans[n-1]-'a'==cur.first && ans[n-2]-'a'==cur.first) {  // è¿ç»­ä¸¤ä¸ªå’Œå½“å‰æœ€å¤šçš„ç›¸åŒ
                if (q.empty()) break;  // å¦‚æœqä¸­æ— å…¶ä»–å­—ç¬¦pairï¼Œåˆ™é€€å‡ºå¾ªç¯
                pair<int, int> next = q.top();
                q.pop();
                ans.push_back('a'+next.first);  // æŠŠç¬¬äºŒå¤šçš„å­—ç¬¦æ·»åŠ è¿›ans
                // å†çœ‹ç¬¬äºŒå¤šçš„å­—ç¬¦æ˜¯å¦è¿˜æœ‰å‰©ä½™ï¼Ÿè¿˜æœ‰å‰©ä½™åˆ™æ›´æ–°æ•°é‡é‡æ–°å…¥å †
                if (--next.second != 0) q.push(next);  // åªæœ‰nextå˜åŒ–äº†ï¼Œæ‰€ä»¥åªæ›´æ–°å®ƒå³å¯
                q.push(cur);  // åŒæ—¶å°†æ­¤å‰å–çš„æœ€å¤šå­—ç¬¦pairä¹Ÿé‡æ–°å…¥å †â­
            }
            else {
                // ä¸è¿åè¿ç»­ä¸‰ä¸ªå­—ç¬¦ç›¸åŒï¼Œåˆ™è¯´æ˜å½“å‰å­—ç¬¦èƒ½å¤Ÿè¿½åŠ åˆ°å½“å‰ç­”æ¡ˆå°¾éƒ¨
                ans.push_back('a'+cur.first);
                // è‹¥è¿½åŠ åè¿˜æœ‰å­—ç¬¦å‰©ä½™ï¼Œåˆ™æ›´æ–°å‰©ä½™æ•°é‡é‡æ–°å…¥å †
                if (--cur.second != 0) q.push(cur);
            }
        }
        return ans;
    }


    struct cmp {
        template <typename T, typename U>
        bool operator()(T const &left, U const &right) {
            if (left.second < right.second)
                return true;
            return false;
        }
    };

};
```

å‡åºé˜Ÿåˆ—ï¼Œå°æ ¹å †ï¼š`priority_queue <int,vector<int>,greater<int> > p;`

é™åºé˜Ÿåˆ—ï¼Œå¤§æ ¹å †ï¼š`priority_queue <int,vector<int>,less<int> >q;`

å¯¹äºåŸºç¡€æ•°æ®ç±»å‹ï¼Œé»˜è®¤æ˜¯å¤§é¡¶å †ï¼š`priority_queue<int> r;    //ç­‰åŒäº priority_queue<int, vector<int>, less<int> > r;`

- > è‡ªå®šä¹‰ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—çš„æ’åºæ–¹æ³•ï¼š

- > å› ä¸º**pairçš„ä¼˜å…ˆçº§é˜Ÿåˆ—**éƒ½æ˜¯**å…ˆfirstå‡åºï¼Œå†secondå‡åº**

- > https://blog.csdn.net/u014257954/article/details/78623215

- > https://blog.csdn.net/ruohua3kou/article/details/97070552?spm=1001.2014.3001.5501

**å…¶å®è¿˜èƒ½å†™å¾—ç®€å•ä¸€äº›ï¼š**

```C++
class Solution {
public:
    // æ ¹æœ¬æ€æƒ³ï¼šè´ªå¿ƒï¼ï¼
    // ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼Œè¿™æ ·å°±â€œè‡ªåŠ¨åœ°â€ä¿è¯äº†ï¼šæ¯æ¬¡å–å‡ºå­—ç¬¦éƒ½è¦è¿›è¡Œåˆ¤æ–­æ•°é‡ ==> å¤§æ ¹å †â­
    // æ¯æ¬¡å–å †é¡¶å…ƒç´ ï¼ˆå‰©ä½™æ•°é‡æœ€å¤šçš„å…ƒç´ ï¼‰
    string longestDiverseString(int a, int b, int c) {
        priority_queue<pair<int, int>> q;
        if (a > 0) q.push({a, 0});  // a,b,cåˆ†åˆ«æ˜¯å®ƒä»¬å¯¹åº”çš„æ•°é‡ï¼Œ0,1,2ç”¨æ¥è¡¨ç¤ºç¼–å·
        if (b > 0) q.push({b, 1});
        if (c > 0) q.push({c, 2});
        string ans;
        while (!q.empty()) {
            pair<int, int> cur = q.top();
            q.pop();
            int n = ans.size();
            if (n >= 2 && ans[n-1]-'a'==cur.second && ans[n-2]-'a'==cur.second) {  // è¿ç»­ä¸¤ä¸ªå’Œå½“å‰æœ€å¤šçš„ç›¸åŒ
                if (q.empty()) break;  // å¦‚æœqä¸­æ— å…¶ä»–å­—ç¬¦pairï¼Œåˆ™é€€å‡ºå¾ªç¯
                pair<int, int> next = q.top();
                q.pop();
                ans.push_back('a'+next.second);  // æŠŠç¬¬äºŒå¤šçš„å­—ç¬¦æ·»åŠ è¿›ans
                // å†çœ‹ç¬¬äºŒå¤šçš„å­—ç¬¦æ˜¯å¦è¿˜æœ‰å‰©ä½™ï¼Ÿè¿˜æœ‰å‰©ä½™åˆ™æ›´æ–°æ•°é‡é‡æ–°å…¥å †
                if (--next.first != 0) q.push(next);  //åªæœ‰nextå˜åŒ–äº†ï¼Œæ‰€ä»¥åªæ›´æ–°å®ƒå³å¯
                q.push(cur);  // åŒæ—¶å°†æ­¤å‰å–çš„æœ€å¤šå­—ç¬¦pairä¹Ÿé‡æ–°å…¥å †â­
            }
            else {
                // ä¸è¿åè¿ç»­ä¸‰ä¸ªå­—ç¬¦ç›¸åŒï¼Œåˆ™è¯´æ˜å½“å‰å­—ç¬¦èƒ½å¤Ÿè¿½åŠ åˆ°å½“å‰ç­”æ¡ˆå°¾éƒ¨
                ans.push_back('a'+cur.second);
                // è‹¥è¿½åŠ åè¿˜æœ‰å­—ç¬¦å‰©ä½™ï¼Œåˆ™æ›´æ–°å‰©ä½™æ•°é‡é‡æ–°å…¥å †
                if (--cur.first != 0) q.push(cur);
            }
        }
        return ans;
    }
};
```

**pythonä¹Ÿæœ‰ä¸€ç§æœ´ç´ ä¸€ç‚¹çš„å†™æ³•ï¼š**

```Python
class Solution:
    def longestDiverseString(self, a: int, b: int, c: int) -> str:
        # å­—ç¬¦ä¸éœ€è¦ç”¨å®Œ
        stack = []
        h = [] # 
        if a: h.append([a,"a"])
        if b: h.append([b,"b"])      
        if c: h.append([c,"c"])
            
        h.sort()
        def check(ele): 
            if len(stack) >= 2 and stack[-1] == ele and stack[-2] == ele:
                return False 
            return True 
        
        while h:
            times,ele = h.pop()
            if check(ele):
                stack.append(ele)
                times -= 1
                if times != 0:
                    h.append([times,ele])
                    h.sort() # æš´åŠ›çš„ç‚¹
            else:
                if h:
                    times2,ele2 = h.pop()
                    stack.append(ele2)
                    times2 -= 1
                    if times2 != 0:
                        h.append([times2,ele2])
                    h.append([times,ele])
                    h.sort() # æš´åŠ›çš„ç‚¹
                else:
                    break

        return "".join(stack)
```





#### [1414. å’Œä¸º K çš„æœ€å°‘æ–æ³¢é‚£å¥‘æ•°å­—æ•°ç›®](https://leetcode-cn.com/problems/find-the-minimum-number-of-fibonacci-numbers-whose-sum-is-k/)ï¼šåˆ†æ²»ï¼Ÿé€’å½’ï¼Ÿç¡¬åšï¼Ÿ

ä¸€ä¸ªæ€æƒ³å°±æ˜¯ï¼šé¦–å…ˆæ‰¾åˆ°æ‰€æœ‰**ä¸è¶…è¿‡k**çš„æ–æ³¢é‚£å¥‘æ•°å­—ï¼Œç„¶åæ¯æ¬¡è´ªå¿ƒåœ°é€‰å–ä¸è¶…è¿‡kçš„æœ€å¤§æ–æ³¢é‚£å¥‘æ•°å­—ï¼Œå°†kå‡å»è¯¥æ–æ³¢é‚£å¥‘æ•°å­—ï¼Œé‡å¤è¯¥æ“ä½œç›´åˆ°kå˜ä¸º0ï¼Œæ­¤æ—¶é€‰å–çš„æ–æ³¢é‚£å¥‘æ•°å­—æ»¡è¶³å’Œä¸ºkä¸”æ•°ç›®æœ€å°‘ã€‚

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=OTAwYzk2ZDU5N2I5ZjFhNzZlZTdmMmU1NTQ2NjhkOTRfUDI5M2s1TGFZc3k5c2N1VUUyTk5hSGd5dDdGdGx4ckRfVG9rZW46Ym94Y24yemNueThGMVZ4bkp4T2pMbmRoMDFmXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

**ä¸€ç§è§£æ³•ï¼šè´ªå¿ƒ**

```C++
class Solution {
public:
    int findMinFibonacciNumbers(int k) {
        int a = 1, b = 1;
        int ans = 0;
        // æ‰¾åˆ°æ¯” k å°çš„æœ€å¤§çš„ b
        while(b <= k){
            int c = a + b;
            a = b, b = c;
        }
        while(k != 0){
            if(k >= b){
                k -= b;
                ans++;
            }
            int c = b - a;
            b = a, a = c;
        }
        return ans;
    }
};
```

**å¦ä¸€ç§è§£æ³•ï¼šåˆ†æ²»+é€’å½’**

```Java
class Solution {
public:
    int findMinFibonacciNumbers(int k) {
        if(k == 0) 
            return 0;
        int a = 1, b = 1;
        // æ‰¾åˆ°æ¯”kå°çš„æœ€å¤§çš„b
        while(b <= k){
            int c = a + b;
            a = b, b = c;
        }
        return 1 + findMinFibonacciNumbers(k-a);
    }
};
class Solution:
    def findMinFibonacciNumbers(self, k: int) -> int:
        if not k:
            return 0
        f1, f2 = 1, 1
        while f2 <= k:
            f1, f2 = f2, f1 + f2
        return 1 + self.findMinFibonacciNumbers(k - f1)
```



#### [1705. åƒè‹¹æœçš„æœ€å¤§æ•°ç›®](https://leetcode-cn.com/problems/maximum-number-of-eaten-apples/)ï¼šè´ªå¿ƒ ä¼˜å…ˆé˜Ÿåˆ—/map

è´ªå¿ƒï¼šä¼˜å…ˆåƒå¿«è¦è¿‡æœŸçš„ğŸï¼Œè®¾ç½®ä¸€ä¸ªè‹¹æœå †æ¥å­˜æ”¾

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=NDM4Njg1ZjgyOWMwZjZlMWVmODVkZGY4MDZlYzBjYmFfSWZoVVlWR1RWYWl6RDhKM0hJMmNoNkd4ejVGc3hTQXNfVG9rZW46Ym94Y25oRVVEVmlQNlRVMGFSNGlmNk8yVmtmXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

```C++
class Solution {
public:
    int eatenApples(vector<int>& apples, vector<int>& days) {
        int ans = 0;
        int d = 0, alldays = days.size();
        // å‡åºçš„ä¸€ä¸ªè‹¹æœå †ï¼Œpair(èƒ½åƒåˆ°ç¬¬å‡ å¤©,è‹¹æœæ•°é‡)
        priority_queue<pair<int, int>, vector<pair<int, int>>, greater<pair<int, int>>> q;
        while (d < alldays || !q.empty()) {
            if (d < alldays) 
                q.push(make_pair(days[d]+d-1, apples[d]));
            auto apple = q.top();
            // è·³è¿‡æ‰€æœ‰å·²ç»è¿‡æœŸçš„è‹¹æœ
            while (apple.first < d) { //å¯¹è¿‡æœŸçš„è‹¹æœçš„å¤„ç†
                q.pop();
                if (q.size() == 0) break;
                apple = q.top();
            }
            // å¦‚æœå½“å¤©æ²¡æœ‰å¯ä»¥åƒçš„è‹¹æœäº†ï¼Œç­‰ä¸€å¤©
            if (q.size() == 0) { 
                d++; 
                continue; 
            }
            // å¦‚æœæœ‰å¯ä»¥åƒçš„è‹¹æœï¼›æˆ‘ä»¬è¦æŠŠè¿™ä¸€å¤©è¿‡æœŸçš„è‹¹æœæ•°é‡å‡1
            if (apple.second > 0) {
                q.pop();
                apple.second--;
                // å¦‚æœè‹¹æœè¿˜æœ‰å‰©ä½™ï¼Œæˆ‘ä»¬æŠŠå®ƒæ”¾å›å †ä¸­
                if (apple.second > 0) q.push(apple);
                ans++;

                // apple.second--;
                // ans++;
                // if(apple.second = 0) q.pop();
                // è¿™ç§æ–¹æ³•æ˜¯ä¸å¯¹çš„ï¼ç­‰äºè¯´é˜Ÿé‡Œé¢çš„æ²¡ä¿®æ”¹æˆåŠŸï¼
            }
            d++;
        }
        return ans;
    }
};
```

**å¦ä¸€ç§è§£æ³•ï¼šä½¿ç”¨mapâ­**

ç”±äºTreeMapå¯ä»¥ç›´æ¥åœ¨è¿‡æœŸæ—¥æœŸä¸Šå…³è”è‹¹æœæ•°é‡ï¼›æ‰€ä»¥ä»£ç ä¼šç®€å•çš„å¤šã€‚è€Œæˆ‘ä»¬åªéœ€è¦å°†å–å †é¡¶å…ƒç´ çš„æ“ä½œæ¢æˆå–mapç¬¬ä¸€ä¸ªå…ƒç´ çš„æ“ä½œå³å¯ã€‚ 

åº•å±‚æ˜¯çº¢é»‘æ ‘ï¼›æ‰€æœ‰æ“ä½œä¹Ÿæ˜¯O(logn)çš„æ—¶é—´å¤æ‚åº¦ã€‚

```C++
class Solution {
public:
    int eatenApples(vector<int>& apples, vector<int>& days) {
        int ans = 0;
        int d = 0;
        // æé«˜æ•ˆç‡ä½¿ç”¨map
        map<int, int> m; // (expire, cnt)
        while (d < days.size() || !m.empty()) {
            if (d < days.size()) 
                m[days[d] + d - 1] += apples[d];           
            // å°è¯•ä»mapä¸­å–å‡ºä¸€ä¸ªæœ€æ¥è¿‘è¿‡æœŸä½†æ˜¯æ²¡æœ‰è¿‡æœŸçš„è‹¹æœ
            while(!m.empty()) {
                if (m.begin()->first < d || m.begin()->second == 0) 
                    m.erase(m.begin()->first);
                else {
                    // å¦‚æœæ‰¾åˆ°äº† æˆ‘ä»¬å°±åƒæ‰å®ƒ
                    ans++;
                    m.begin()->second--;  // è‹¹æœæ•°è¦å‡1
                    break;
                }
            }
            d++;
        }
        return ans;
    }
};
```

# 



# è„‘ç­‹æ€¥è½¬å¼¯

#### [419. ç”²æ¿ä¸Šçš„æˆ˜èˆ°](https://leetcode-cn.com/problems/battleships-in-a-board/)ï¼šéå†åœ°æ‰«æ

![img](https://uestc.feishu.cn/space/api/box/stream/download/asynccode/?code=ZDk1MGIxZGYyNzg1ZGQyOGQyMDMwM2IzMDY3YTQwNjVfVnp6N2ozcUZIbk5OaWE4aGd5TTVJWDFBRDE0MWVyckxfVG9rZW46Ym94Y25tZk0zSW5CTnVCWVVCQVl0UGtEZlpkXzE2NjI2NDE5MTI6MTY2MjY0NTUxMl9WNA)

æ–¹æ³•äºŒå¯ä»¥èŠ‚çœæ—¶é—´å¤æ‚åº¦





# åŒºé—´æ±‚å’Œ

## (1)çº¿æ®µæ ‘

#### [729. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ I](https://leetcode.cn/problems/my-calendar-i/)

ä¸å†²çªåŠ å…¥æ—¥ç¨‹è¿”å›trueï¼Œå†²çªä¸åŠ å…¥æ—¥ç¨‹è¿”å›false

æ³•1ï¼šå¯ä»¥ç®€å•æ¨¡æ‹Ÿ

```C++
class MyCalendar {
public:
    vector<pair<int, int>> calen;
    MyCalendar() {}
    
    bool book(int start, int end) {
        for (auto [x, y] : calen) {
            if (x < end && y > start) return false;
        }
        calen.emplace_back(make_pair(start, end));
        return true;
    }
};
/**
 * Your MyCalendar object will be instantiated and called as such:
 * MyCalendar* obj = new MyCalendar();
 * bool param_1 = obj->book(start,end);
 */
```

> `push_back()`ä¹Ÿæ˜¯å¯ä»¥çš„





#### [731. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ II](https://leetcode.cn/problems/my-calendar-ii/)



#### [732. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ III](https://leetcode.cn/problems/my-calendar-iii/)

æ³•1ï¼šç¡¬åšï¼ŒæŒºå¥½çš„

- > æœ¬é¢˜æ„å›¾ï¼šçœ‹ä½œæ˜¯å¤šä¸ªæ—¥ç¨‹åŒºé—´æœ‰é‡å ï¼Œçœ‹éœ€è¦å¹¶è¡Œåœ°é¢„å®šå‡ ä¸ªä¼šè®®å®¤

- > å‡åºä¼˜å…ˆé˜Ÿåˆ—ï¼Œå­˜æ”¾ç»ˆç‚¹ï¼Œç»“æŸçš„æ—©çš„åœ¨å‰é¢

- > calendarå·²ç»æŒ‰ç…§èµ·ç‚¹é¡ºåºæ’åº

```C++
class MyCalendarThree {
public:
    vector<pair<int, int>> calen;
    MyCalendarThree() {}
    static bool cmp(pair<int, int>& a, pair<int, int>& b) {
        return a.first < b.first;
    }
    int book(int start, int end) {
        calen.push_back(pair{start, end});
        sort(calen.begin(), calen.end(), cmp);
        int ans = 1, cnt = 0;
        priority_queue<int, vector<int>, greater<int>> q;  // å°æ ¹å †ï¼Œå‡åº
        for (auto c : calen) {
            q.push(c.second);
            cnt++;
            while (!q.empty() && q.top() <= c.first) {
                q.pop();
                cnt--;
            }
            ans = max(ans, cnt);
        }
        return ans;
    }
};
```

- > `static bool cmp(...)`å¿…é¡»åŠ ä¸Šstaticå…³é”®å­—



æ³•2ï¼šçº¿æ®µæ ‘

æ³•3ï¼šç‚æœµè‰æ ‘

```C++
struct node {
    int l, r;
    mutable int v;
    node(int l, int r = 0, int v = 0) : l(l), r(r), v(v) {}
    bool operator < (const node& t) const {
        return l < t.l;
    }
};
class MyCalendarThree {
public:
    set<node> s;
    int mx = 0;
    auto split(int pos) {
        auto it = s.lower_bound(pos);
        if(it != s.end() && it->l == pos) return it;
        --it;
        int l = it->l, r = it->r, v = it->v;
        s.erase(it);
        s.insert(node(l, pos - 1, v));
        return s.insert(node(pos, r, v)).first;
    }
    int add(int l, int r) {
        auto right = split(r), left = split(l);
        for(auto itl = left;itl != right;itl++) {
            ++itl->v;
            mx = max(itl->v, mx);
        }
        return mx;
    }
    MyCalendarThree() {
        s.clear();
        mx = 0;
        s.insert(node(0, 1e9, 0));
    }
    
    int book(int start, int end) {
        return add(start, end);
    }
};
/**
 * Your MyCalendarThree object will be instantiated and called as such:
 * MyCalendarThree* obj = new MyCalendarThree();
 * int param_1 = obj->book(start,end);
 */
```









# åšå¼ˆè®º



#### [464. æˆ‘èƒ½èµ¢å—](https://leetcode.cn/problems/can-i-win/)ï¼šåšå¼ˆè®º dp

é¢˜æ„ï¼šmä¸ªæ•°ç´¯åŠ ï¼Œçœ‹è°å…ˆè¶…è¿‡t

- > **äºŒç»´åšå¼ˆè®º DP**

- > **è®°å¿†åŒ–é€’å½’**ï¼Œå°±æ˜¯ä¿å­˜å·²ç»çŸ¥é“çš„çŠ¶æ€å’Œç»“æœï¼Œä¸‹ä¸€æ¬¡é‡åˆ°åŒæ ·çš„å‚æ•°å°±ä¸ç”¨é‡æ–°è®¡ç®—äº†

- > BitMapçš„å†æ¬¡ä½¿ç”¨

```C++
class Solution {
public:
    int f[1 << 20] = {0};  // stateä¸‹å½“å‰ç©å®¶èƒ½å¦è·èƒœï¼Œ1èƒ½ï¼Œ-1ä¸èƒ½
    bool dfs(int state, int sum, int m, int t) {
        if (f[state] != 0) return f[state] == 1 ? true : false;  // çŠ¶æ€è®°å½•ä¸‹æ¥
        for (int i = 0; i < m; i++) {
            if (((state >> i) & 1) == 1) continue;  // iè¢«ç”¨è¿‡äº†
            if (sum + i + 1 >= t) {
                f[state] = 1;
                return true;
            }
            if (dfs((state | (1 << i)), sum + i + 1, m, t) == false) {  // å½“å‰ç©å®¶é€‰æ‹©iåˆ¤æ–­å¯¹æ–¹ä¼šè¾“
                f[state] = 1;
                return true;
            }
        }
        f[state] = -1;
        return false;
    }
    bool canIWin(int m, int t) {
        if (m >= t) return true;
        if ((m + 1) * m / 2 < t) return false;
        return dfs(0, 0, m, t);
    }
};
```







#### [1728. çŒ«å’Œè€é¼  II](https://leetcode.cn/problems/cat-and-mouse-ii/)ï¼šè®°å¿†åŒ–æœç´¢ dp

> **å›°éš¾é¢˜ï¼š**è®°å¿†åŒ–æœç´¢è§£å†³åšå¼ˆç±»é—®é¢˜ ï½œ åŒæ–¹æ°¸è¿œé€‰æ‹©æœ€æœ‰åˆ©è‡ªå·±çš„æƒ…å†µ

**è§£é¢˜æ€è·¯**

> è¿™ç§å®Œå…¨ä¿¡æ¯çš„åšå¼ˆç±»æ¸¸æˆä¸­ï¼ŒåŒæ–¹ä¸­å¿…æœ‰ä¸€æ–¹æœ‰å¿…ä¸è´¥ç­–ç•¥ã€‚ Zermelo's theoremï¼ˆç­–æ¢…æ´›å®šç†ï¼‰

è€Œå»å¯»æ‰¾æœ€ä¼˜ç­–ç•¥æœ€ç®€å•çš„åšæ³•å°±æ˜¯è¿›è¡Œ**æœç´¢**ï¼›è€Œè¿™ç§æœç´¢è¦å»ºç«‹åœ¨åŒæ–¹éƒ½è¯•å›¾å¯»æ‰¾æœ€ä¼˜è§£çš„åŸºç¡€ä¸Šï¼›ä¹Ÿå°±æ˜¯å¦‚æœä¸€æ–¹åœ¨æŸä¸€æ­¥å¯ä»¥è·å¾—èƒœåˆ©ï¼Œåˆ™ä»–ä¸€å®šä¼šé€‰æ‹©å¯ä»¥è·èƒœçš„ä¸‹æ³•ã€‚

æˆ‘ä»¬åœ¨è¿™ç§ç­–ç•¥ä¸‹ï¼ŒæŒ‰ç…§å¥‡å¶è½®æ¬¡é€ä¸€åˆ¤æ–­æ¯ä¸ªå±€é¢çš„æƒ…å†µå³å¯ã€‚ä¸ºäº†é¿å…å¯¹åŒä¸€å±€é¢çš„é‡å¤æœç´¢ï¼›æˆ‘ä»¬å¯ä»¥é‡‡ç”¨è®°å¿†åŒ–æ•°ç»„å»è®°å½•æ¯ä¸ªå±€é¢çš„èµ¢å®¶æ˜¯è°ï¼›æ¯ä¸ªâ€œå±€é¢â€œå°±æ˜¯ä¸€ç§çŠ¶æ€ï¼›ç”±çŒ«é¼ åŒæ–¹çš„ä½ç½®+å½“å‰çš„è½®æ¬¡æ‰€å†³å®šã€‚

æœç´¢ç»ˆç‚¹å°±æ˜¯èƒœåˆ©ç¡®å®šçš„å±€é¢åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š

- m == c è¯´æ˜çŒ«æŠ“ä½äº†è€é¼ ï¼Œè¿”å›1
- m == f è¯´æ˜çŒ«å…ˆæ‰¾åˆ°é£Ÿç‰©ï¼Œè¿”å›1
- m == f è¯´æ˜è€é¼ å…ˆæ‰¾åˆ°é£Ÿç‰©ï¼›è¿”å›2

step > N æ­¥é•¿è¶…è¿‡æŸä¸ªé˜ˆå€¼ï¼Œè¯´æ˜è€é¼ æ— æ³•åŠæ—¶æ‰¾åˆ°é£Ÿç‰©ï¼›è¿”å›1

åœ¨è€é¼ çš„è½®æ¬¡ï¼Œå¦‚æœç§»åŠ¨ä¸€æ¬¡æœ‰ä¸€ä¸ªå±€é¢å¯ä»¥è®©è€é¼ è·å¾—èƒœåˆ©ï¼Œåˆ™å½“å‰å±€é¢åº”è¯¥è¢«æ ‡è®°ä¸ºè€é¼ è·èƒœçš„å±€é¢ã€‚

åœ¨çŒ«çš„è½®æ¬¡ï¼Œå¦‚æœä¸€åŠ¨ä¸€æ¬¡æœ‰ä¸€ä¸ªå±€é¢å¯ä»¥è®©çŒ«è·å¾—èƒœåˆ©ï¼Œåˆ™å½“å‰å±€é¢åº”è¯¥è¢«æ ‡è®°ä¸ºçŒ«è·èƒœçš„å±€é¢ã€‚

æ˜¾ç„¶ï¼Œç”±äºæ­¥æ•°æœ‰ä¸Šé™ï¼Œæ¸¸æˆä¸€å®šæœ‰èƒœè´Ÿï¼›æˆ‘ä»¬å¯¹æ¯ä¸ªå±€é¢è¿›è¡Œæœç´¢ï¼Œç†æ‰€åº”å½“å¯ä»¥ç¡®å®šå½“å‰å±€é¢çš„è·èƒœè€…æ˜¯è°ã€‚